commit 2c914374e0ec88b199ed9472fc7e54ab87a121ea
Author: Colin Walters <walters@verbum.org>
Date:   Fri Nov 13 18:51:07 2009 -0500

    Integer align workspace and pane positioning
    
    We had previously been leaving the scaled workspace at a non-integral
    position which didn't look obviously ugly, but now that we're
    constraining the popup pane to the workspace size, we really need
    to ensure that we're using integral positions here.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=601854

commit 15265000790f63b27e4cb3899712b310041e494f
Author: Colin Walters <walters@verbum.org>
Date:   Mon Nov 16 14:10:13 2009 -0500

    [placeDisplay] Fix inverted logic for desktop-is-home case
    
    We only want to hide the Desktop link if it desktopIsHome, not
    if it isn't.

commit 9ba5ca019345aa62754a055afcca88a7a46a455f
Author: Abderrahim Kitouni <a.kitouni@gmail.com>
Date:   Sat Nov 14 18:08:27 2009 +0100

    environment.js: set default direction for St widgets
    
    https://bugzilla.gnome.org/show_bug.cgi?id=584662

commit 3529b8c9150959454e68a02e76d0a3a0a4a7bbb7
Author: Abderrahim Kitouni <a.kitouni@gmail.com>
Date:   Sat Nov 14 18:23:56 2009 +0100

    [StTable] now RTL aware
    
    https://bugzilla.gnome.org/show_bug.cgi?id=584662

commit 4e8206d60ec448c04ad9c45665c4429651a35b08
Author: Abderrahim Kitouni <a.kitouni@gmail.com>
Date:   Sat Nov 14 18:22:36 2009 +0100

    [StBoxLayout] now RTL aware
    
    https://bugzilla.gnome.org/show_bug.cgi?id=584662

commit a5edc78fac9f2d1ddb8a91556d6cd02ec8911130
Author: Abderrahim Kitouni <a.kitouni@gmail.com>
Date:   Sat Nov 14 18:20:31 2009 +0100

    [StWidget] add API support for right-to-left UI
    
    https://bugzilla.gnome.org/show_bug.cgi?id=584662

commit cdd508e12d825f8b6c411448513c24fd17f862bb
Author: Florian Muellner <florian.muellner@gmail.com>
Date:   Sun Nov 15 02:24:43 2009 +0100

    Darken workspace indicator when doing lightbox effect
    
    Adjust the opacity of the workspace indicator to not having it stand out too badly when in lightbox mode.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=594556

commit 931cbc6ae3ccecff5f26e30f9e582c1a848a0494
Author: Dan Winship <danw@gnome.org>
Date:   Sat Nov 14 10:10:33 2009 -0500

    Fix sidebar enable/disable menu item
    
    https://bugzilla.gnome.org/show_bug.cgi?id=601875

commit ab809faaf05cab63956998474f25da4444241e90
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   Sat Nov 14 11:18:02 2009 +0100

    Updated Slovenian translation

commit 8334b063f11a2032f1302a6d6eebcfe5da0ee1a2
Author: Dan Winship <danw@gnome.org>
Date:   Fri Nov 13 14:38:38 2009 -0500

    Deal with title-less windows
    
    https://bugzilla.gnome.org/show_bug.cgi?id=601290

commit 21f15246a6cba287d1d1769607352eec5ef6d938
Author: Colin Walters <walters@verbum.org>
Date:   Fri Nov 13 14:27:25 2009 -0500

    [genericDisplay] Fix selection not being set correctly
    
    We need to check if the display actor is an instance of Shell.OverflowList
    or St.BoxLayout to use the appropriate function for getting its child
    with a given index.

commit 050e7107701fa3f3a27803e798877439125c28fc
Author: Dan Winship <danw@gnome.org>
Date:   Thu Nov 12 15:17:35 2009 -0500

    Use gnome-terminal rather than xterm+xeyes+xlogo in --xephyr mode
    
    https://bugzilla.gnome.org/show_bug.cgi?id=588056

commit bb63d513fdad951292ab434cd159f5e061b54056
Author: Dan Winship <danw@gnome.org>
Date:   Tue Nov 10 16:34:13 2009 -0500

    Add Presence items to the status menu
    
    https://bugzilla.gnome.org/show_bug.cgi?id=601458

commit 985d7077884fa7670de906e2db31383fd28f73cf
Author: Dan Winship <danw@gnome.org>
Date:   Tue Nov 10 12:13:58 2009 -0500

    Port ShellStatusMenu to javascript
    
    https://bugzilla.gnome.org/show_bug.cgi?id=601458

commit 9ddebf0480620988fa754a7088bcac6e6fc83cf0
Author: Dan Winship <danw@gnome.org>
Date:   Tue Nov 10 12:12:27 2009 -0500

    Introspect src/gdmuser
    
    In addition to the Makefile changes, we also change uid_t to gulong in
    the public API (which matches how it was already represented in the
    gobject properties).
    
    https://bugzilla.gnome.org/show_bug.cgi?id=601458

commit 8c05003acf87f201f7989869e3c1f4d6e46c74b2
Author: Colin Walters <walters@verbum.org>
Date:   Thu Nov 12 18:18:34 2009 -0500

    Add gnome-shell --eval-file
    
    Convenience utility function for evaluating an arbitrary
    JavaScript file.

commit 7c796b2d2ad7b2de6ccaf36ad0288a473dd69d4b
Author: Colin Walters <walters@verbum.org>
Date:   Thu Nov 12 18:17:58 2009 -0500

    [shellDBus] Avoid sending undefined over DBus
    
    DBus doesn't have a notion of null/undefined, so do the lame
    thing and return the empty string.

commit 48f8e4943dd9261e0b87b31489f434f5b1e61cda
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Thu Nov 12 16:31:16 2009 -0500

    Rename places.js to placeDisplay.js
    
    places.js was renamed in the code

commit fec2ea5e9c0e0cc78d6238a951fe520a3347a1c1
Author: Colin Walters <walters@verbum.org>
Date:   Thu Nov 12 13:09:20 2009 -0500

    [dash] Convert pane close to St.Button, avoiding release event propagation
    
    The workspaces was handling the release event after closing the pane,
    catch it before closing by using St.Button.

commit 4014313910e1300c9f587ca325ad3ea1a276be77
Author: Colin Walters <walters@verbum.org>
Date:   Fri Nov 6 18:32:41 2009 -0500

    [dash] Swap More for triangle
    
    In newer mockup.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=600734

commit 06cf6c51f312316a2d6c229c86b36aafd541fb19
Author: Colin Walters <walters@verbum.org>
Date:   Tue Nov 10 14:31:59 2009 -0500

    [placeDisplay] Port more to CSS, lower spacing
    
    Newer mockups have smaller spacing here.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=600734

commit 426d7bc515cf3d7afb3ba6480c6ca085061296a1
Author: Colin Walters <walters@verbum.org>
Date:   Wed Nov 11 14:13:38 2009 -0500

    [dash] Port search section headers to CSS
    
    Experimented with moving the (see all) into a tooltip, but
    given that we're not emphasizing the drilldown, removed for now.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=600734

commit bf68f9f0cf5178ee62329fe9a2ba0c3da989b7d2
Author: Colin Walters <walters@verbum.org>
Date:   Fri Nov 6 17:32:23 2009 -0500

    [dash] Port section container to CSS, lower spacing
    
    Newer mockup has smaller spacing.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=600734

commit ce90dda76f28448dadf19099020b570fdfc66387
Author: Colin Walters <walters@verbum.org>
Date:   Fri Nov 6 17:15:34 2009 -0500

    [overview] Constrain popup panes, dim workspaces when active
    
    Rather than the popup panes taking up the whole non-panel height,
    constrain them to the height of the workspaces, which is also the
    "dash content area".
    
    https://bugzilla.gnome.org/show_bug.cgi?id=600734

commit 66cab3b8ed2e7e881c661619b3c7db39455859af
Author: Colin Walters <walters@verbum.org>
Date:   Fri Nov 6 16:08:07 2009 -0500

    [genericDisplay+other] Port to CSS, style cleanups
    
    Mostly a straightforward porting of style code to CSS, except
    that various bits of other code referenced a few GenericDisplay
    constants, so those needed to be ported as well.
    
    Add some padding at the top between the close button and the items.
    
    Center the text and description.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=600734

commit bc255a525fab492dc02914a25dd094c74dafb7ee
Author: Colin Walters <walters@verbum.org>
Date:   Fri Nov 6 14:55:03 2009 -0500

    [overview] Port pane to CSS
    
    https://bugzilla.gnome.org/show_bug.cgi?id=600734

commit d51384fb86c6d351a16b0b032b592df613130c38
Author: Colin Walters <walters@verbum.org>
Date:   Tue Nov 3 18:36:44 2009 -0500

    switch to scrolling GenericDisplay, remove menus from apps
    
    Temporarily removed search-by-menu from apps as well, will readd
    later as a ShellApp feature.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=600734

commit 1626e8c09ae8ebb8b7a1d3d80c319fcf305fa94d
Author: Colin Walters <walters@verbum.org>
Date:   Wed Nov 11 16:22:42 2009 -0500

    [StTooltip CSS] Add some style
    
    Not final, but stands out and doesn't look completely wrong, at least.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=600734

commit 263d738ef66a0f1fc55f58d5c7fb369066a55df3
Author: Colin Walters <walters@verbum.org>
Date:   Wed Nov 11 16:22:22 2009 -0500

    [StTooltip] Fix _get_preferred_width
    
    It was ignoring the label width.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=600734

commit 8040ad61c67620c8ef9f6a18eb1a04ab5f7fe983
Author: Colin Walters <walters@verbum.org>
Date:   Wed Nov 11 11:54:08 2009 -0500

    [StBoxLayout] Add missing _queue_relayout in _add_actor
    
    https://bugzilla.gnome.org/show_bug.cgi?id=600734

commit 057f0effedc8bbe1087be0395c8534264a3eec3e
Author: Colin Walters <walters@verbum.org>
Date:   Tue Nov 10 15:46:30 2009 -0500

    [StBoxLayout] Add st_box_layout_get_n_children
    
    https://bugzilla.gnome.org/show_bug.cgi?id=600734

commit bf7b1662373501e6b1b5a3c117080f6656c0d354
Author: Colin Walters <walters@verbum.org>
Date:   Tue Nov 10 14:25:41 2009 -0500

    [StBoxLayout] Add st_box_layout_remove_all, st_box_layout_destroy_children
    
    In a variety of places we're using boxes as data-modeling displays,
    and in doing so we often want to either remove the children or
    explictly destroy them.
    
    Now ideally Gjs would support callbacks, and this would make using
    the for_each functions possible, but even then these functions
    are more efficient and shorter to type, at least.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=600734

commit ae744bf2065d8c49625c800ea8b67e75adbeba31
Author: Gustavo Noronha Silva <gustavo.noronha@collabora.co.uk>
Date:   Mon Nov 9 15:54:44 2009 -0200

    Don't require applications to accept URIs for recent files
    
    This should not be required, since glib correctly deals with such
    applications by giving them the local gvfs path, and those
    applications which do support URIs keep being able to use the URIs in
    GFiles.
    
    Based on original work by Guido Günther <agx@sigxcpu.org>.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=601287

commit af35dea019f69e2f63e98ff1dffe6a5ebb94a044
Author: Colin Walters <walters@verbum.org>
Date:   Tue Nov 10 10:02:02 2009 -0500

    [dash] Move BackLink to CSS
    
    The previous commit 626f679947298a99 broke the back links on
    search drilldown.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=601413

commit 1b75ae018471b5cfe9e07d4d93f67daceb3c62c1
Author: Colin Walters <walters@verbum.org>
Date:   Wed Nov 11 13:12:55 2009 -0500

    [lookingGlass] Paint border around current result if instanceof Clutter.Actor
    
    It's very convenient to drill down through object properties and
    be able to see exactly which portion of the screen those actors
    correspond to, without trying to guess with the inspector tool.

commit 07a8d5ed2dcaa104db992f49b701009b776d35b4
Author: Colin Walters <walters@verbum.org>
Date:   Thu Nov 5 17:19:36 2009 -0500

    When setting a search, do a redisplay immediately
    
    Commit 94bd6f17180f0a8cbdbf2a66a47469fce601a9e1 introduced a trick
    where we only do the heavy lifting for "redisplay" when we're mapped.
    
    However, the search system wants to get the count of matched items,
    and control the visibility of the display based on that.  This introduces
    a circularity; avoid it by forcing the search to do a redisplay.
    
    In the future we should avoid this by separating out the "get matched
    things for search" from "display list of things".
    
    https://bugzilla.gnome.org/show_bug.cgi?id=600890

commit 2f27f61a1fc97aa2a12fb6cf9656ef4fe70013da
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Mon Nov 9 17:49:01 2009 -0500

    Remove trailing whitespaces in dash.js
    
    Trailing whitespaces cause warnings.

commit 585bfe5b5a312eafcf8148f77b166bb041335771
Author: JP St. Pierre <jstpierre@mecheye.net>
Date:   Sat Oct 31 22:25:28 2009 -0400

    Make places results available in search
    
    Places is one of the dash sections and it should be included in search results.
    
    Factor out the code for getting and updating the information about places from
    Places to PlacesManager.
    
    Introduce PlaceInfo class that contains information about the place and can be
    used by classes that display it in different ways. Rename classes so that their
    names are consistent with corresponding classes in appDisplay.js and
    docDisplay.js
    
    https://bugzilla.gnome.org/show_bug.cgi?id=599125

commit 5ee72d807dc72fb3595b71e5a17604ee14b6aa2f
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:   Sun Nov 8 20:56:26 2009 +0200

    Updated Arabic translation

commit fcac7ac0b349b5a2bcb3e3449d2b30e9f1e0cb06
Author: Colin Walters <walters@verbum.org>
Date:   Thu Nov 5 15:39:26 2009 -0500

    [gnome-shell.css] Remove blue background from scrollbars
    
    This makes it slightly less ugly.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=600734

commit dcd7762253e959638dfcfdabc8881a7b5a9e632f
Author: Colin Walters <walters@verbum.org>
Date:   Wed Nov 4 15:48:26 2009 -0500

    [StThemeNode] Don't give negative width/height for content boxes
    
    If the space we're allocated is too small for our border + padding
    constraints, don't give negative allocations to callers.  Squash
    to zero.
    
    It isn't really useful for callers to get negative content sizes,
    and certainly breaks most allocation code.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=600734

commit 869e744670e0f8f02799d590f0dd1a8ec2ca1570
Author: Petr Kovar <pknbe@volny.cz>
Date:   Thu Nov 5 18:04:36 2009 +0100

    Updated Czech translation

commit 626f679947298a99c761a171f092cb0990146856
Author: Colin Walters <walters@verbum.org>
Date:   Thu Oct 22 13:33:09 2009 -0400

    Port Dash section headers to CSS
    
    https://bugzilla.gnome.org/show_bug.cgi?id=599442

commit 4f456b968959669ce299ffcb6deee47cd0dda00d
Author: Colin Walters <walters@verbum.org>
Date:   Wed Oct 28 12:53:26 2009 -0400

    Implement non-uniform borders (when not using corner_radius)
    
    StTheme CSS supports different border widths for different sides.  Implement
    it for StWidget by drawing the border internally.  However, we don't support
    a nonzero corner-radius with nonuniform borders.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=599442

commit e2e513ff08a7cfd97b0297a02939a4c7abbff7a7
Author: Colin Walters <walters@verbum.org>
Date:   Wed Oct 28 12:52:08 2009 -0400

    Remove (out) "caller-allocates" annotations
    
    GObject Introspection+gjs doesn't presently support (out) for caller-allocates
    scenarios.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=599442

commit 37a948e4eb3c2b8f012550b5f2d93c5a8b7cd2a4
Author: Colin Walters <walters@verbum.org>
Date:   Fri Oct 23 15:40:09 2009 -0400

    Add missing allow-none for set_style_pseudo_class
    
    https://bugzilla.gnome.org/show_bug.cgi?id=599442

commit b8d9319c3269b2725de411403c3ef59c95a47f7b
Author: Colin Walters <walters@verbum.org>
Date:   Fri Oct 23 15:14:41 2009 -0400

    Add missing allow-none for st_bin_set_child
    
    https://bugzilla.gnome.org/show_bug.cgi?id=599442

commit f54926993431691d81fc2a43807e35d96e10fecb
Author: Colin Walters <walters@verbum.org>
Date:   Fri Oct 23 10:18:35 2009 -0400

    [StBoxLayout] Implement raise and lower
    
    Code copied from ClutterGroup.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=599442

commit dc232d4631b9d31200c89013625f1015a3b6e546
Author: Steve Frécinaux <code@istique.net>
Date:   Wed Oct 14 11:45:57 2009 +0200

    [AppSwitcher] Add a separator between windows in current and other workspaces.
    
    This make it is easier for the user to figure out on which workspace the
    windows are. For instance, terminals related to various activities and put on
    different workspaces were previously displayed as an uniform list, with no
    visible distinction between the ones from the current workspace and the others.
    Now they are physically separated by a thin gray line.
    
    This is also consistent with the way applications are displayed in the
    AppSwitcher.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597944

commit 930a0b52f3dcd3c6e024e1e295499f66ac5204a9
Author: Timo Jyrinki <timo.jyrinki@iki.fi>
Date:   Wed Nov 4 11:17:20 2009 +0200

    Added Finnish translation.

commit f14d7f891bfd55490bd988cbef5adc4025913367
Author: Milo Casagrande <milo@ubuntu.com>
Date:   Tue Nov 3 22:29:36 2009 +0100

    Updated Italian translation

commit 01138d55cae5196c1c2037ebb349707540f9232b
Author: Lucian Grijincu <lucian.grijincu@gmail.com>
Date:   Wed Oct 28 22:39:57 2009 +0200

    Added Romanian translation

commit 2103a4da248fdd7fea7d32c21a8605185b3ceca6
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Oct 28 15:46:46 2009 -0400

    Add shell-global-private.h to Makefile.am
    
    Distribute shell-global-private.h (as a non_gir_sources, since it
    includes gjs.h and isn't scannable by gobject-introspection.)

commit 627f86a9dcf1bd0e5caf221333add19fd81d58fc
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Oct 28 12:59:01 2009 -0400

    shell-global-private.h fixes:
    
    - Include private header so shell-global.c compiles
    - Move _shell_global_set_plugin to private header

commit baf823c46663228e109a2536de2ecb005cb6697d
Author: Colin Walters <walters@verbum.org>
Date:   Sat Oct 24 13:40:13 2009 -0400

    Store GjsContext pointer in ShellGlobal
    
    Future functionality in ShellGlobal needs access to the GjsContext.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=599561

commit 94bd6f17180f0a8cbdbf2a66a47469fce601a9e1
Author: Colin Walters <walters@verbum.org>
Date:   Sat Oct 24 12:43:56 2009 -0400

    Only do redisplay when mapped
    
    If we're not mapped, only queue up a redisplay.  This avoids
    e.g. changes in recent documents such as saving a file in GEdit
    causing a lot of blocking I/O in the shell (we need to make
    recent loading async as well).
    
    https://bugzilla.gnome.org/show_bug.cgi?id=599560

commit c8b1afbad67dec90d621a3d4833e1e0eae507e73
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   Tue Oct 27 23:58:48 2009 +0100

    Updated Spanish translation

commit 395f45c5708ec46cfa8bf84abe47bcc5f0735308
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   Tue Oct 27 21:37:46 2009 +0100

    Updated Spanish translation

commit 3ebb0f149d542c823e3f26fdd9cc294ab663028e
Author: Maxim Ermilov <zaspire@rambler.ru>
Date:   Tue Oct 27 14:54:23 2009 +0300

    Removing all favorites makes it impossible to add new ones
    
    Show the placeholder when all favorites are gone.
    https://bugzilla.gnome.org/show_bug.cgi?id=591854

commit 6d9aadfa4d7b9073341e970c70b78c65440bda76
Author: Dan Winship <danw@gnome.org>
Date:   Tue Oct 27 11:27:45 2009 -0400

    Add emacs modelines to all .c and .h files that were missing them

commit 22e26bea8f01b7e56b2a548c754d9aa66cec25b5
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   Mon Oct 26 14:47:54 2009 +0100

    Updated Slovenian translation

commit d9ff1f2ec16b7e10276c86d59f08cdf90820ee99
Author: Colin Walters <walters@verbum.org>
Date:   Fri Oct 23 13:15:13 2009 -0400

    [ShellApp] Ignore removal of windows we're not interested in
    
    Previously shell_app_remove_window assumed that it was being
    passed a window in its list; rather than having callers check
    whether a window is interesting and only if so removing it
    from the app, just ignore removal of windows we aren't interested
    in, like how we ignore addition of windows we already have.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=598502

commit 10991d363d38997c6c99436c8ae69b5d3cd841b6
Author: Colin Walters <walters@verbum.org>
Date:   Fri Oct 23 12:26:05 2009 -0400

    [ShellWindowTracker] Create fallback apps again
    
    Creating window-based apps got lost in the code refactoring.

commit 0c37a5bd6f38208700534e327da90da2b6cb3aa1
Author: Colin Walters <walters@verbum.org>
Date:   Fri Oct 23 10:57:55 2009 -0400

    [AppIcon] Keep glow up to date directly
    
    AppWell was changed to only do updates on application running state
    changes, so we need to update the glow on window count changes.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=599412

commit 369e0c2c6ffba477de0114198b389dd438b0ca62
Author: Colin Walters <walters@verbum.org>
Date:   Fri Oct 23 10:56:48 2009 -0400

    [ShellApp] Signal windows-changed when removing a window
    
    https://bugzilla.gnome.org/show_bug.cgi?id=599412

commit 17c8173640439bd90ead3586c758f151b44aa310
Author: Colin Walters <walters@verbum.org>
Date:   Thu Oct 1 09:18:05 2009 -0400

    Fix minimum height request, handle 0 allocation better
    
    First, fix a problem where though we intended to request a minimum
    height of 0 for the docs content, we were actually requesting
    spacing for all items.
    
    On low resolution screens, we were still attempting to allocate
    an item even when we were given 0 height.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596984

commit 8fd00ac6cc7fef8d451fa4bc6bcb4679125e7bd4
Author: Dan Winship <danw@gnome.org>
Date:   Fri Oct 9 09:43:31 2009 -0400

    [AppSwitcher] misc refinements
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597900

commit 4f4e54cbf718f01b34fecf49ec5c35d57d64cdf3
Author: Colin Walters <walters@verbum.org>
Date:   Tue Oct 6 14:37:09 2009 -0400

    Reset page when doing a FULL redisplay
    
    This fixes an issue where the app display would remember the page
    between switching menus.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597577

commit 16cb878f4e21bd29a92e66dcf76bbd9ebc955cc6
Author: Colin Walters <walters@verbum.org>
Date:   Wed Oct 21 16:56:06 2009 -0400

    [docInfo] Pass correct object to remove deleted info
    
    We need to pass the actual RecentInfo boxed, not the DocInfo JS Object.

commit d5adfa64452ed5ef3e87eae007d4cddc5fd2488b
Author: Kris Thomsen <lakristho@gmail.com>
Date:   Wed Oct 21 22:51:10 2009 +0200

    Updated Danish translation

commit 8e9549c6f176d1b21df58bf83d85063e91b7d21d
Author: Steve Frécinaux <code@istique.net>
Date:   Fri Oct 16 00:34:23 2009 +0200

    [AppSwitcher] Reimplement the separator using St.Bin
    
    This way it can be styled using CSS.
    This can help to fix bug 597362.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=598651

commit 7239eb2f9094ffa4bab28fd42d82669f419076ea
Author: Steve Frécinaux <code@istique.net>
Date:   Sat Oct 17 02:05:30 2009 +0200

    [StThemeNode] Add support for 'width' and 'height' CSS properties.
    
    The behavior in respect to borders matches CSS - the properties set the size of
    the content exclusive of the borders (CSS3 box-sizing property - not implemented
    here - changes this).
    
    min-width/min-height correspond very closely to the CSS meanings.
    
    width/height are a little different from the CSS meanings - the CSS meaning is
    "exactly this size unless overridden by min/max-width/height" - but within the
    realm of our layout algorithm, making them control natural size is pretty
    close.
    
    This way we can force elements to have a fixed natural or minimum size.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=598651

commit 5b769138b6a628e6cf4d8b6a6501ff3356721c32
Author: Steve Frécinaux <code@istique.net>
Date:   Sat Oct 17 01:37:42 2009 +0200

    [StThemeNode] round padding values intead of truncating them.
    
    This way, 49.9999 will end up as 50 instead of 49.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=598651

commit 81d579aca07fc6c24bf61d45d498321fc4c0ac82
Author: Colin Walters <walters@verbum.org>
Date:   Tue Oct 20 17:43:51 2009 -0400

    Disconnect from window signal handlers when removing a window
    
    We need to remove all of our signal handlers attached to a window
    when being disposed.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=598502

commit 7548f2d71e88a998e56e14c7eedcc3232b81aa8b
Author: Colin Walters <walters@verbum.org>
Date:   Wed Oct 21 11:28:07 2009 -0400

    [ShellWindowTracker] Don't skip "uninteresting" windows for focus
    
    For the purposes of determining which application is focused, don't
    skip "uninteresting" windows.  The old get_focused_window code
    was used for usage tracking, but here we want reliable application
    association.
    
    Also convert a .text= to .set_text that was missed with the last
    patch.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=599206

commit bda7d3994bbd17051ad199dcbb8c0f868b8deb56
Author: Colin Walters <walters@verbum.org>
Date:   Tue Oct 20 18:49:15 2009 -0400

    [appIcon] Fix reference error when favoriting an app

commit a336ed79ae44175ea933d46c5b80d905e780bf10
Author: Colin Walters <walters@verbum.org>
Date:   Tue Oct 20 16:52:57 2009 -0400

    [panel] Work around Clutter bug causing missing name
    
    The .text property doesn't queue a resize, see:
    http://bugzilla.openedhand.com/show_bug.cgi?id=1851

commit 416fbc775eb8d137d8ed3c0876a88d0d194f51cb
Author: Dan Winship <danw@gnome.org>
Date:   Tue Oct 20 15:09:23 2009 -0400

    add appFavorites.js to js/ui/Makefile.am

commit e941e8088b0e6edb475fc7b264dabec16beb588f
Author: Colin Walters <walters@verbum.org>
Date:   Thu Oct 15 19:28:29 2009 -0400

    Split ShellAppMonitor into ShellWindowTracker, ShellAppUsage
    
    The two parts were mapping windows to applications, and
    recording application usage statistics.  The latter part
    (now called ShellAppUsage) is much more naturally built on top of
    the former (now called ShellWindowTracker).
    
    ShellWindowTracker retains the startup-notification handling.
    
    ShellWindowTracker also gains a focus-app property, which is
    what most things in the shell UI are interested in (instead of
    window focus).
    
    ShellAppSystem moves to exporting ShellApp from more of its
    public API, rather than ShellAppInfo.  ShellAppSystem also
    ensures that ShellApp instances are unique by holding
    a hash on the ids.
    
    ShellApp's private API is split off into a shell-app-private.h,
    so shell-app.h can be included in shell-app-system.h.
    
    Favorites handling is removed from ShellAppSystem, now inside
    appFavorites.js.
    
    Port all of the JavaScript for these changes.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=598646

commit 77cf9ae077940ca22bf057903e888bded32de76f
Author: Jennie Petoumenou <epetoumenou@gmail.com>
Date:   Tue Oct 20 13:49:40 2009 +0300

    Added Greek translation

commit 358175e99822bca0dc02b8d724be7cafe5a49673
Author: Simos Xenitellis <simos@gnome.org>
Date:   Tue Oct 20 13:48:21 2009 +0300

    Added el to po/LINGUAS

commit 7f5c60013343889924b336f2322aa7284730ffae
Author: Colin Walters <walters@verbum.org>
Date:   Thu Oct 15 09:44:09 2009 -0400

    Use a fixed ordering for well-known icons
    
    Define the ordering for well-known icons; see
    the page http://live.gnome.org/Features/StandardIconOrdering
    
    https://bugzilla.gnome.org/show_bug.cgi?id=598313

commit 56bcdd41fd12c192cb73f847eebc31d42a19944e
Author: Mario Blättermann <mariobl@gnome.org>
Date:   Sun Oct 18 11:36:34 2009 +0200

    Updated German translation

commit cd33dc7f2285f8b0eb535fb22f9db8c0ea809e75
Author: Colin Walters <walters@verbum.org>
Date:   Fri Oct 16 10:40:42 2009 -0400

    Annotate list setters
    
    Without these bindings don't know the type of list elements.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=598691

commit 2eef17bcdc90946b5a820204cdbe3cc24961b730
Author: Colin Walters <walters@verbum.org>
Date:   Thu Oct 15 21:44:13 2009 -0400

    [.gitignore] Add *~, .patch

commit 79a614240b04f3f7aca852f9220570fecc1d59b5
Author: Dan Winship <danw@gnome.org>
Date:   Fri Oct 16 10:50:33 2009 -0400

    [ShellApp] fix app/window sort order
    
    The window lists were not being resorted when user-time changed, and
    the app list was mistakenly "penalizing" apps for having *any*
    minimized windows, rather than for having *only* minimized windows.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=598389

commit 7c954898a269cf23fc14e5ce0d2a5eb8f6cc98d5
Author: Colin Walters <walters@verbum.org>
Date:   Thu Oct 15 14:45:54 2009 -0400

    Support fixed position children
    
    When doing layout, check for whether x/y have been explicitly
    specified, and if so honor those positions.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=598462

commit 497c74f4d893b5d0deeea9e9ff016f46c619a527
Author: Colin Walters <walters@verbum.org>
Date:   Thu Oct 15 14:25:01 2009 -0400

    Minor code cleanup: use child variable consistently
    
    Preparation for a subsequent patch.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=598462

commit 51c41aed90236d8fab5b73baa89684c4e0e3a8b4
Author: Colin Walters <walters@verbum.org>
Date:   Thu Oct 15 16:17:18 2009 -0400

    [workspaces] Don't crash trying to get an icon for untracked app
    
    Use ShellApp directly rather than trying to handle null-safety
    with .get_info().

commit d705c1bb5277712ee84e197ae68e4b98cd34f6f5
Author: Colin Walters <walters@verbum.org>
Date:   Thu Oct 15 13:52:17 2009 -0400

    [ShellApp] Fix handler signature for workspace switch
    
    This was causing crashes or undefined behavior.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=598227

commit d9df7c1b1e5d62a3daa8a34ffc736cc0ca438f42
Author: Colin Walters <walters@verbum.org>
Date:   Wed Oct 14 17:25:17 2009 -0400

    [AppWell] Fix D&D for ShellApp
    
    The drag and drop case needed to be updated to use ShellApp
    correctly.  Export _is_transient for better compatibility.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=598227

commit 49eb68771350cfb12a676cca2de2caa1bbcc5bdc
Author: A S Alam <aalam@users.sf.net>
Date:   Thu Oct 15 06:20:34 2009 +0530

    Updating for Punjabi by A S Alam

commit 7bec02dcb1efabee08f8a83ca5765b7721d1848b
Author: Colin Walters <walters@verbum.org>
Date:   Wed Oct 14 15:36:58 2009 -0400

    [AppWell] Don't duplicate running+favorite
    
    Regression introduced with previous patch.

commit 38c06ca837ad0f8c1c2bf06431036ceffd2848d0
Author: Colin Walters <walters@verbum.org>
Date:   Sun Oct 11 16:40:00 2009 -0400

    Create ShellApp, rebase things on it
    
    Previously, we had ShellAppInfo, which contains fundamental
    information about an application, and methods on ShellAppMonitor
    to retrieve "live" information like the window list.
    
    AppIcon ended up being used as the "App" class which was painful
    for various reasons; among them that we need to handle window
    list changes, and some consumers weren't ready for that.
    
    Clean things up a bit by introducing a new ShellApp class in C,
    which currently wraps a ShellAppInfo.
    
    AppIcon then is more like the display actor for a ShellApp.  Notably,
    the ".windows" property moves out of it.  The altTab code which
    won't handle dynamic changes instead is changed to maintain a
    cached version.
    
    ShellAppMonitor gains some more methods related to ShellApp now.
    
    In the future, we might consider changing ShellApp to be a GInterface,
    which could be implemented by ShellDesktopFileApp, ShellWindowApp.
    
    Then we could axe ShellAppInfo from the "public" API and it would
    return to being an internal loss mitigation layer for GMenu.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=598227

commit 6623ca1287733e4f46775cd856a58036a5d3ec5c
Author: Richard Hughes <richard@hughsie.com>
Date:   Wed Oct 14 17:03:18 2009 +0100

    Bump version to 2.28.1

commit d1bdd6f11dbb047f1e7c43434ccf229b07dadeab
Author: Colin Walters <walters@verbum.org>
Date:   Tue Oct 13 14:18:47 2009 -0400

    [search] Finish queued search on Return
    
    If we had a pending search processing, finish it when the user
    activates the entry.
    
    This is a small conceptual change; the large diff is simply
    moving the search implementation (unedited otherwise) from
    an anonymous inline to a named function so it can be called
    sanely in _activate.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=598111

commit 39edf54aa953a3dccc5280bce80946215a2cd1d7
Author: Colin Walters <walters@verbum.org>
Date:   Thu Oct 8 20:11:45 2009 -0400

    Scroll to bottom when pushing a result
    
    This makes the evaluator significantly more useful past a few
    results.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597919

commit aa9c585562a1453d0e539939a5211d6f5bef3458
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:   Tue Oct 13 15:24:40 2009 +0200

    Updated Arabic translation

commit 8b813060f00cb42fe5cc11421001b46e39347572
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Sat Oct 10 20:25:34 2009 +0200

    Update Catalan translation

commit ca263dade54dc6cfa7f9c4c638b2be5dbf4c88ec
Author: Petr Kovar <pknbe@volny.cz>
Date:   Sat Oct 10 19:03:47 2009 +0200

    Updated Czech translation

commit b8ef9cdf4b97e85dd5887d92778e8099111062b4
Author: Milo Casagrande <milo@ubuntu.com>
Date:   Sat Oct 10 12:39:44 2009 +0200

    Updated Italian translation

commit aa92c6fdf5319f94c0d2e938b5471ab707702125
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Fri Oct 9 18:19:06 2009 -0400

    Add Russian translation
    
    Based on the initial translation from Sergey V. Kovylov and additional
    feedback from Andrey Korzinev.

commit 3af8130fffa0bd7a84f2d94328b91599f8b4f9f6
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Fri Oct 9 18:09:34 2009 -0400

    Add places.js to POTFILES.in
    
    places.js was missing.
    
    Reordered files alphabetically.

commit ab0460ad5926aef2cb802f201069109ce9fc2dd8
Author: Colin Walters <walters@verbum.org>
Date:   Thu Oct 8 14:53:46 2009 -0400

    Use clutter_actor_destroy in dispose, add _dispose where needed
    
    ClutterGroup calls _destroy, but most of St was just calling _unparent.
    This caused problems because the DESTROY signal was not emitted
    for child elements after destroying a toplevel.  Also, in a GC'd
    binding it would cause unpredictable lifetime of children.
    
    Some St widgets simply didn't have _dispose at all; implement it.
    
    Note because of the usage of the background_image in StButton,
    we can't cleanly destroy it inside the StWidget.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597845

commit a27c29f4fc7794f25011724ea8dc95babdeaab44
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Fri Oct 9 00:33:33 2009 -0400

    Improve capitalization
    
    "Add to Favorites" and "Remove from Favorites" menu options should be
    capitalized throughout.

commit 212d5c19547aba4723952dcef0ffe0570a76a1b7
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Fri Oct 9 00:30:10 2009 -0400

    Add missing files to POTFILES.in; add a translation hint
    
    POTFILES.in was missing some files.
    
    "Activities" is not easily translatable into some languages, e.g. Russian,
    so suggest using the word for "Overview" instead.

commit 8929f43ad9cf718eb5066971ece6f0910abbc0e9
Author: Steve Frécinaux <code@istique.net>
Date:   Thu Oct 8 13:14:15 2009 +0200

    [AppSwitcher] Fix hiding the arrow on application change.
    
    The down arrow is shown when an application with more than one
    window is selected, but the window list is not always displayed.
    
    This patch fixes the fact that the arrow was not hidden when one
    focus an app with a single window when coming from an app with
    multiple windows, if the window list was not displayed.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597791

commit a26b0b60d1eed6e44ece2d14472847eafe87d231
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Oct 7 19:32:00 2009 -0400

    Fix srcdir != builddir build of St.gir
    
    We need to use st_cflags which has -I$(srcdir) not ST_CFLAGS
    when building St.gir.

commit 60dbb19c2d3c0210abfd1cb4fc3b09238ec3284e
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Oct 7 19:27:17 2009 -0400

    Reference Meta-2.28.gir
    
    Now that Mutter has been bumped to 2.28.0, we need to reference
    Meta-2.28.gir not Meta-2.27.gir.

commit 3703a86354e7f141ec8f785e8d6ffa7380baca9b
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Oct 7 19:18:43 2009 -0400

    Add run-test.sh to CLEANFILES
    
    Fix distcheck by adding run-test.sh to CLEANFILES

commit 992b43f9141b89d5f04f85742e25102fe9695951
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Oct 7 19:07:05 2009 -0400

    Bump version to 2.28.0

commit ff39edd1ee48ebe96a6441707f518af5c4ba1db0
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Oct 7 17:20:33 2009 -0400

    Deal with unknown flags from ClutterEvent.get_state()
    
    When we get a ClutterModifierType from Clutter, it might contain
    bits not in the enumeration. See bug 59771 for a similar problem
    with GdkModifierType.
    
    Add a wrapper Shell.get_event_state() around clutter_event_get_state()
    to mask these bits out and only return approved bits.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597735

commit a81a16801d1f422e279e68739e652269d20193ae
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Oct 7 15:25:41 2009 -0400

    Fix overview to show on the correct monitor
    
    When tweening the overview in, tween it to appear on the correct
    position of the primary monitor, not at (0,0); position
    the 'backOver' actor to cover all monitors properly.
    
    Reported by Rui Matos
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597721

commit 4c6f770dea7b06c5340778c70726949613e20327
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Oct 7 14:52:18 2009 -0400

    Fix positioning of the Calendar on multihead
    
    Parens were in the wrong place, resulting in the calendar not
    being properly centered on the primary monitor.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597078

commit c0b01c021007e8b1a0ba53ab2c66c0127a02ec6b
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Wed Oct 7 01:41:28 2009 -0400

    Match on menu category during application search
    
    Being able to display all applications in a category based on the search
    string with a category name is generaly useful.
    
    Prepare all the applications that match a search term based on their
    category name up-front.
    
    Remove unused this._appCategories and a call to non-existing
    itemInfo.get_categories()

commit 400326e5499fd04ef486cc32d6638ca343dbdd39
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Oct 7 14:26:14 2009 -0400

    Add docs and (transfer none) to st_widget_get_theme_node()
    
    st_widget_get_theme_node() was missing the (transfer none)
    GObject Introspection causing crashes. Add that and document the
    function.

commit d7af6d40e38b2c0ebc03a916f06574efd641dd2d
Author: Dan Winship <danw@gnome.org>
Date:   Fri Oct 2 11:02:46 2009 -0400

    [AppSwitcher] Use thumbnails instead of a window menu, and other UI changes
    
    https://bugzilla.gnome.org/show_bug.cgi?id=590563

commit 90ebcd32e37f10b365d4c02989ce18868598ed66
Author: Colin Walters <walters@verbum.org>
Date:   Mon Oct 5 16:01:40 2009 -0400

    Fix exception when showing menu for not-running app
    
    Need to check windows.length before checking first window.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597466

commit 53d058137723ef352675d2ea83b1c824e3dfaa97
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Tue Oct 6 16:55:29 2009 -0400

    Don't process the first click on Activities button for a timeout period after the hot corner was triggered
    
    This avoids opening and closing the overview when the hot corner is triggered
    and the activities button is clicked.

commit 439daf828f89e64c0090140e27ea0f337b51ac3a
Author: Dan Winship <danw@gnome.org>
Date:   Tue Oct 6 10:53:25 2009 -0400

    [AppSwitcher] add a workaround for a gjs problem with GdkModifierType
    
    gdk_display_get_pointer() sometimes returns values for the mask that
    aren't part of the GdkModifierType enumeration, which gjs doesn't like
    (bug 597292). Work around that by adding a C wrapper that strips out
    the extra flags.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597559

commit d120d03de9b758366c3ae3e040b765f26a12f6e8
Author: Colin Walters <walters@verbum.org>
Date:   Tue Oct 6 14:07:40 2009 -0400

    Workaround being allocated 0x0
    
    Because of a chain of bugs we could end up getting allocated 0x0,
    and this would cause the WellGrid allocation code to be unhappy.
    
    See http://bugzilla.openedhand.com/show_bug.cgi?id=1831
    
    Simply treat 0 as "unlimited" i.e. equivalent to -1.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597586

commit 53fbabe2ca5a10f5ecc727cf390630858e359e5c
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Mon Oct 5 16:33:19 2009 -0400

    Use GtkIMContext instead of ClutterIMContext
    
    Add StIMText, which is a drop-in replacement for ClutterIMText but
    uses GtkIMContext instead of ClutterIMContext.
    
    StIMText doesn't have preedit support (would need ClutterText
    changes), so isn't going to be useful for complicated input methods,
    but is good enough to get dead keys and similar working.
    
    entry.js: Simple test case of StEntry
    gnome-shell.modules: Remove clutter-imcontext module
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597471

commit 4bdd40911ff8c42df1ab6681feb91b89fe0281f5
Author: Colin Walters <walters@verbum.org>
Date:   Fri Oct 2 15:55:55 2009 -0400

    Disconnect from window user time notifications, only sort when mapped
    
    Before we were badly leaking AppIcons by not disconnecting from the
    window signal handlers when our actor got destroyed.  This caused
    us to repeatedly re-sort the windows for each AppIcon that
    had ever been displayed with obvious bad consequences.
    
    Besides simply chaining the signals to the lifetime of the AppIcon
    actor, we also only do the sorting if we're mapped.  This decreases
    the amount of work to do in the not-mapped case.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597120

commit ff4ac0d02ed00712894ab25f6ecae16d6567b4a7
Author: Dan Winship <danw@gnome.org>
Date:   Sun Oct 4 11:37:11 2009 -0400

    [AppIcon] Improve shell_draw_box_pointer()
    
    Add a new enum type for the pointer direction, rather than abusing
    ClutterGravity, and implement the missing directions.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597498

commit 45dd342cc0241af64bbbf7b6c62a9f4640071a75
Author: Dan Winship <danw@gnome.org>
Date:   Mon Oct 5 19:33:38 2009 -0400

    [AppIcon] redo constructor to take a params object, add "size" param
    
    Add a "size" parameter to allow changing the AppIcon size, and then
    simplify the constructor by taking an object with parameters like
    gobject-introspection constructors do, rather than taking a large
    number of miscellaneous arguments.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597498

commit e5efecd2bda5254000683d9188f9f8f133fe43e7
Author: Dan Winship <danw@gnome.org>
Date:   Mon Oct 5 15:18:55 2009 -0400

    [AppIcon] compute the sorted window list even if not doing the menu
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597498

commit 3bf88b8988a5f8abb157decf412c8b33f3b4e7ff
Author: Adel Gadllah <adel.gadllah@gmail.com>
Date:   Mon Oct 5 23:53:50 2009 +0200

    Run dialog: Make error message translatable
    
    Allow the error message to be translated.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597422

commit 4ddc1118bb745a489f3b37c4d2475131ba4c36ae
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Mon Oct 5 10:10:23 2009 -0400

    Work around libcroco < 0.6.2 parsing bug for 'rgba'
    
    To work around a problem where libcroco < 0.6.2 can't handle
    functions starting with 'r' or 'u', preconvert 'rgba' to 'RGBA'
    when parsing stylesheets and then check for rgba()
    case-insensitively.
    
    (libcroco is uniformly case-sensitive, though the CSS spec requires
    that ASCII should be handled case-insensitively.)
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597054

commit fd1e7b2a0fb8bcd80fada07954f0da0b8ebbac97
Author: Adel Gadllah <adel.gadllah@gmail.com>
Date:   Mon Oct 5 16:34:23 2009 +0200

    Places: Add padding between "Connect to.." and devices section
    
    Add padding after "Connect to.." to make the list look consistent when devices
    are connected.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597423

commit aed1e67addc8e9661cb34856d42713d2f1d44a58
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Mon Oct 5 13:50:58 2009 -0400

    Check that no new term was introduced before doing a subsearch
    
    We combine search terms with OR, so if a new search term is introduced,
    the search results are no longer a subset of the previous search results.

commit dc99e8ffcd8392fe89338f3c8c8a750b956fe852
Author: Dan Winship <danw@gnome.org>
Date:   Mon Oct 5 13:12:38 2009 -0400

    [AppSwitcher] Change separator color
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597362

commit 6a8b50cb000bab39293d0f69a93bc5dce1c7934d
Author: Adel Gadllah <adel.gadllah@gmail.com>
Date:   Mon Oct 5 18:21:51 2009 +0200

    Don't create multiple copies of the (+) button
    
    Currently we recreate it every time Main.overview.show() is called,
     so destroy it to avoid having multiple copies floating around.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597309

commit edb50d5dc78b70df666ce962ae7924c3a3fd2151
Author: Adel Gadllah <adel.gadllah@gmail.com>
Date:   Mon Oct 5 17:59:33 2009 +0200

    String formatting: Fix warning
    
    Fix to not trigger a warning like:
    
    JS ERROR: !!!   WARNING: 'anonymous function does not always return a value'
    
    by adding a return ""; at the end of the anonymous function.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595661

commit 2f6c95199770e5bb751a1a1f72cdb745faf5555b
Author: Colin Walters <walters@verbum.org>
Date:   Fri Oct 2 20:17:34 2009 -0400

    Avoid doing expensive work when not mapped
    
    For some unknown reason we were connecting to app-added and
    app-removed on ShellAppMonitor in the AppDisplay class, which
    never made any use of the data.  Simply don't connect to those
    signals for now.  In the future we should have AppDisplay
    be using the AppIcon class which will more correctly handle
    dynamic changes.
    
    In the AppWell, avoid doing the full relayout until we're
    actually mapped.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597169

commit 64cd51667dc498412cbaeb53cd92cc6de7a04e23
Author: Adel Gadllah <adel.gadllah@gmail.com>
Date:   Sun Oct 4 23:30:18 2009 +0200

    Add String formatting
    
    Add String formatting by extending the String object with a
    format method.
    
    Now we can do stuff like "Text: %s, %d".format(somevar, 5)
    
    This is required for proper translation of some strings.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595661

commit caa08f27fa0afd96f7684245cbded641335377f2
Author: Christian Kirbach <christian.kirbach@googlemail.com>
Date:   Sun Oct 4 18:52:10 2009 +0200

    Updated German translation

commit 26015ef16d22027d14ed32dbea353480628a3708
Author: Steve Frécinaux <code@istique.net>
Date:   Thu Oct 1 11:23:00 2009 +0200

    Select next window from the current app on alt+tab
    
    This slightly changes the behaviour of the alt+tab window, this way:
    when using alt-tab on a workspace that contains two or more windows from
    the same window, the application selected when hitting alt+tab is the
    currently selected application, but the highlighted window is the next
    one.
    
    Intended goal is to make it easier to cycle around windows of the same
    application while not having to cycle through all the applications first.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=590563

commit 4798ad5107024e0e661f23a444b23dbbc16dd715
Author: Steve Frécinaux <code@istique.net>
Date:   Fri Oct 2 01:12:59 2009 +0200

    Consider workspace when sorting windows in menu.
    
    By sorting the windows in the current workspace first, we ensure that
    when using alt+tab to switch windows, we will pick a window on the
    active workspace as the default focused window for the application if
    the application has at least one window on the current workspace (that
    is, if it is on the left of the app switcher separator).
    
    This makes the behaviour of alt+tab more predictable for the user, as
    an user will expect alt+tab to switch to the window he/she can see right
    now rather than the one on the workspace he just left (presumably to do
    something else on the workspace he's currently on).
    
    https://bugzilla.gnome.org/show_bug.cgi?id=590563

commit 9b05304c2d58b8fc5f5e75c6a2ac2ec4523d4565
Author: Adel Gadllah <adel.gadllah@gmail.com>
Date:   Fri Oct 2 21:36:46 2009 +0200

    Use better fitting color for non ARGB tray icons
    
    Currently we use 0xefefefff as a background color for non ARGB tray icons,
    which looks out of place (i.e does not fit the panel's background gradient).
    
    Change it to 0x0b0b0bff to fix that.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597148

commit 795feca393775a5f504def1a5277c07fc1feab4b
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:   Sat Oct 3 19:20:25 2009 +0200

    Updated Arabic translation

commit 31663dcd834b8684d2fcdc74a7fd9c059e2d049e
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   Sat Oct 3 10:48:19 2009 +0200

    Updated Norwegian bokmål translation.

commit 2f2df6109304fb4c34de0dd7c9c16bde534b52cd
Author: Colin Walters <walters@verbum.org>
Date:   Fri Oct 2 19:02:14 2009 -0400

    Cache applications for a menu
    
    Rather than recomputing this each time someone asks, have a
    cache of the apps for a given menu.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597167

commit 3b8d53060d1b7146bde0854906a1a1285641a047
Author: Colin Walters <walters@verbum.org>
Date:   Fri Sep 25 16:45:21 2009 -0400

    Immediately pop up menu on right click
    
    We were actually showing a menu on button 3 before, but only
    through a chain of coincidences.  This patch explicitly supports
    it and makes sure we show it immediately rather than after
    a timeout. Pass the activating button in so that we only pop
    down on that button.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596371

commit c5ce40585931af121ae8e759e80e0094c0594ef9
Author: Colin Walters <walters@verbum.org>
Date:   Fri Sep 25 16:44:28 2009 -0400

    Ignore releases of buttons other than the activating button
    
    Before we hardcoded popdowns to only button 1 before. But we need
    to actually pop down on the release of the activating button.
    (Once the button is released, if the we don't pop-down the menu,
    then subsequently we let the user use any button.)
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596371

commit b3a5fc72fba8c474ba70c1acb1f14903f1661ca8
Author: Colin Walters <walters@verbum.org>
Date:   Fri Sep 25 16:20:43 2009 -0400

    Add Add/Remove from favorites menu, unify lists more
    
    Also have inactive applications pop up a menu.
    
    Add/Remove from favorites is now in the menu.
    
    Concatenate the favorites/not-favorites instead of having a gap only
    if you happened to have a not-divisible-by-4 number of favorites.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596371

commit 8a2cc11cc06c3c8dc6c2d8f08a1a5b52113841c0
Author: Adel Gadllah <adel.gadllah@gmail.com>
Date:   Thu Oct 1 23:44:16 2009 +0200

    Fix rundialog not closing for internal commands
    
    Signed-off-by: Adel Gadllah <adel.gadllah@gmail.com>
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597076

commit cbb3a3aec8fd367a0bb4f8ba3fc14e9a2e7053ca
Author: Richard Hughes <richard@hughsie.com>
Date:   Fri Oct 2 17:02:25 2009 +0100

    Fix make dist by including all the private files and the tests in the tarball

commit e382da970876199802be34082f2ecd8b4ac85d95
Author: Dan Winship <danw@gnome.org>
Date:   Tue Sep 29 12:19:16 2009 -0400

    [AppSwitcher] Update colors/border
    
    Switch from Big.Box to St.Bin and update styling per latest spec
    
    https://bugzilla.gnome.org/show_bug.cgi?id=590563

commit ab1fbbde928b978b40cb52525970ffe6f054e4d1
Author: Dan Winship <danw@gnome.org>
Date:   Fri Oct 2 08:49:22 2009 -0400

    add a missing (optional) ";"

commit 5f5266ca60e3f1b2a307ecbf24e9934005c0e9da
Author: Steve Frécinaux <code@istique.net>
Date:   Wed Sep 30 11:33:43 2009 +0200

    [AppSwitcher] Display a separator between apps on this workspace and others.
    
    This makes a visible distinction between the apps that only have minimized
    windows on the current workspace and the ones that have no window on the
    workspace.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=590563

commit 68e8b14b8bf3e5f470cacfe599ea36cd4e81362d
Author: Steve Frécinaux <code@istique.net>
Date:   Wed Sep 30 11:28:32 2009 +0200

    [AppSwitcher] Use GenericContainer instead of BigBox.
    
    This allows defining some custom policy for size allocation.
    Currently, the minimum width is always used, but it can be tweaked
    afterwards when a sizing policy has been defined.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=590563

commit abdd8b330cd96f6c9fb7eb63ba5b17a8b71c164e
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Thu Oct 1 18:21:27 2009 -0400

    Don't show all sections each time the search is updated
    
    We shouldn't show all sections each time the search is updated because that
    breaks viewing search results for a single section and flickers headers for
    sections with no results.

commit eb8176deeb1ee9ebe9450d19422ecdeb392380b6
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Thu Oct 1 17:41:17 2009 -0400

    Fix regressions in the item displays
    
    Fix displaying documents in the document browse and refreshing the selection
    when the results have changed.
    
    Make sure we are passing the appropriate flag to _redisplay() in GenericDisplay.
    
    Make sure we set this._appsStale to true if there was a change in the
    applications set.
    
    Don't call _refreshCache() from the AppDisplay constructor.
    
    Don't short-circuit the call to _refreshCache() from _redisplay() on initial load.
    
    Rename _redisplayFull() to recreateDisplayItems() and remove adding an
    actor to the actual result list in _addDisplayItem() because we redo adding the
    actors to the list in _redisplayReordering() anyway to ensure that we add
    them in the right order.
    
    Based on a patch from Colin Walters.

commit 956f89f37741a805465d3f4d1677dd1c96147779
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Oct 1 17:32:09 2009 -0400

    Add dep of clutter on gir-repository to moduleset
    
    Clutter requires Pango.gir. Until Pango is universally available
    in a version that builds its own GIR, Pango.gir is built as part
    of gir-repository.
    
    (Found by Adel Gadllah)

commit 1c69380923a7bbb5e7580130cefca010671f64c9
Author: Steve Frécinaux <code@istique.net>
Date:   Tue Sep 29 19:29:17 2009 +0200

    [AppSwitcher] Put apps with no window on current workspace at the end.
    
    Following the idea expressed in bug 590563 by mccann ("Minimized or
    hidden applications should appear at the end of the list"), we should
    also put applications that have no visible window in the active
    workspace at the end of the alt-tab window list, after apps which have
    minimized windows in the active workspace.

commit d2bc7b200ef67a62705d312f9fdee1179182a545
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Thu Oct 1 23:23:54 2009 +0200

    Update Catalan translation.

commit afb3b1e7181b1d17c816d6ccad7629426667c099
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Oct 1 16:14:50 2009 -0400

    Fixes for Calendar widget
    
    Miscellaneous fixes from review:
    
    - Distribute calendar.js and the interactive test
    - Make the pointless protection against leap seconds actually work
      by starting in the middle of the day so that forward/back always
      move a day.
    - Use a variable instead of an inline '8' to know where to start
      when removing old day actors.
    - Remove a stray comment from the test
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596432

commit 061a2cfbfb92fa34806a9ff5c91fe707b0eb0e32
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Oct 1 15:18:20 2009 -0400

    Add scroll-wheel support to the calendar
    
    Make the calendar reactive and handle scroll events to change the month.
    (GtkCalendar and hence the old gnome-panel calendar supported this and
    it is apparently a handy way to flip through months.)
    
    The padding is moved from the CalenderPopup to the Calendar so that the
    scroll region extends all the way to the edge of the popup.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596432

commit 243824ab80fb58a46f9471e880316caf8356fe80
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Thu Oct 1 22:32:38 2009 +0200

    Replace "round(x)" with "(int)(0.5 + x)"
    
    round() is a C99 addition, so causes portability problems:
    different C library versions require different #defines to
    enable it. So simply avoid using it.

commit 90ddad7ba1297bcfe51a0b98a847a1df6855c361
Author: Adel Gadllah <adel.gadllah@gmail.com>
Date:   Thu Oct 1 21:43:36 2009 +0200

    Make Connect string translatable
    
    Signed-off-by: Adel Gadllah <adel.gadllah@gmail.com>
    
    https://bugzilla.gnome.org/show_bug.cgi?id=597038

commit 20b29ff48fa992c83228cb25cb01842123558749
Author: Colin Walters <walters@verbum.org>
Date:   Mon Sep 28 19:48:03 2009 -0400

    Sync clone stacking order with MetaStackTracker
    
    Previously, we initialized actor stacking order from the return
    value of global.get_windows() once, which is defined to be in
    stack order.  However it was not updated later.  Furthermore,
    the way stackAbove was called from onAnimationComplete in
    WindowClone was highly dubious, since there are lots of animations
    which apply to the clones, and we want the stacking to be right
    all of the time, not when some animation completes.
    
    Fix this by connecting to 'restacked' on the screen and syncing
    the clones.
    
    I also snuck in another bugfix here; we weren't disconnecting
    from the 'showing' signal handler, which had various bad
    consequences.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596263

commit 96f4d318c5365086eb52498f90a271b3ad635d19
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Thu Oct 1 21:57:53 2009 +0200

    Add libcroco to gnome-shell-build-setup.sh
    
    Check for the new build dependency "libcroco" when running on any
    of the distros supported by the script.

commit 6f7da264bafd2242a671b755255ef6ce1afe65c1
Author: Jon Nettleton <jon.nettleton@gmail.com>
Date:   Sat Sep 26 10:14:43 2009 -0700

    Support LinuxMint in the build script
    
    LinuxMint is based on Ubuntu, so can be handled with the
    same package list as Debian and Ubuntu.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596447

commit 640e45c12a0ac15a011b45165d782ffa12ca1fd2
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Oct 1 15:05:18 2009 -0400

    Make gnome-shell depend on clutter-imcontext
    
    The gnome-shell module requires clutter-imcontext to build.

commit 04e28cd7c4f70d4e404bb1ab78c9c7a70c181246
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Sep 30 10:02:08 2009 -0400

    Add a calendar pop-down to the clock
    
    js/ui/calendar.js: Generic calendar widget
    tests/interactive/calendar.js: Basic test of the calendar
    
    js/ui/panel.js: Add a pop-down from the clock that shows a
      calendar widget. The pop-down is not menu-like to allow the user to
      interact with an application while looking at the calendar.
    gnome-shell.css: Add theming for calendar, calendar popup, and for
      buttons on the panel
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596432

commit 2cc41c6726fd9c9f8086fcf03646346d3abaa917
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Sep 30 09:55:02 2009 -0400

    StButton: Fix property enumeration names
    
    Property enumeration names should correspond exactly to the property names;
    in particular the ACTIVE vs :checked disparity was confusing reading the
    code.
    
    http://bugzilla.moblin.org/show_bug.cgi?id=6504

commit 03a45b665c20b47f011d3fb8e4da518b517a4e5a
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Sep 30 09:50:37 2009 -0400

    testcommon.css: Don't theme all buttons
    
    StButton is used for many things - scrollbar steppers, etc. Theming
    all buttons to look like push-buttons breaks that. So in testcommon.css
    just theme a .push-button class to look vaguely button-like.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596432

commit 5a42179a96e3cb9599843aa9ca6627ba7afd9d5a
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri Sep 25 19:16:12 2009 -0400

    Port StTable to StThemeNode
    
    Convert the StTable code from StStylable to StThemeNode. The
    :row-spacing and :col-spacing GObject properties are converted
    into spacing-rows and spacing-columns style properties.
    
    A new interactive test is added for StTable.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596811

commit af3ec56ca13111372801d956a75886b3b33420dc
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Sep 30 00:04:42 2009 -0400

    Handle adding children to StTable from Javascript
    
    Remove the StTable specific methods to add actors:
    
     st_table_add_actor()
     st_table_add_actor_with_properties()
    
    Since they shadow the generic ClutterContainer add_actor() method,
    and patch in our add() convenience function as we do for
    StBoxLayout.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596811

commit 289b19aa31651d26b2e0d5081a9882d31a9a632a
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Tue Sep 29 23:13:29 2009 -0400

    Import MxTable as StTable
    
    Import table code from Mx library
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596811

commit 91eb613d6955f4cbee5c41e0e781c109669a66dd
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Tue Sep 29 23:03:41 2009 -0400

    Turn StBoxLayout:spacing into a style property
    
    Remove the StBoxLayout:spacing GObject property, and instead make
    BoxLayout look up the spacing from the CSS style. This makes it
    consistent with padding and will allow the use of units. (The
    removal of the GObject property entirely instead of making it an
    override is consistent with how we handle color, font, padding, etc.)
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596803

commit 1c7c53d19f6a8065e9b4bdba9b00f3557e0c84d2
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Mon Sep 21 20:13:00 2009 -0400

    lookingGlass: Get font from GConf
    
    Instead of using "Monospace", pick the users configured monospace font
    name up from GConf. (This is a nice touch, but is more done here to
    demonstrate that we can do it rather than for any great utility.)
    
    https://bugzilla.gnome.org/show_bug.cgi?id=591245

commit d4304495c6399f97ef614996a87cd3fe62ea6722
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Sep 10 01:38:13 2009 -0400

    Port LookingGlass console to ST widgets
    
    * Style aspects like colors and fonts are moved into gnome-shell.css.
    * Scrolling is adding using StScrollView.
    
    Based on a patch from Colin Walters
    https://bugzilla.gnome.org/show_bug.cgi?id=591245

commit b77b205d37138dd4369ec6c20e6870f94926fc4b
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Mon Sep 21 19:22:31 2009 -0400

    Add clutter-text properties to StEntry and StLabel
    
    Add clutter-text properties to allow getting access to the underlying
    ClutterText actor. This corresponds to the get_clutter_text() methods.
    
    The PROP_LABEL and PROP_ENTRY enum values are renamed to PROP_TEXT to
    match the names of the properties that they correspond to, and the
    properties of StEntry are reordered into alphabetical order.
    
    Based on a patch from Colin Walters
    https://bugzilla.gnome.org/show_bug.cgi?id=591245
    http://bugzilla.moblin.org/show_bug.cgi?id=6313

commit a15205e6c4ec94188f19b284ecf2796e8a928a70
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Mon Sep 21 19:11:09 2009 -0400

    Fix interaction of borders/background and scrolling
    
    StBoxLayout: Make consistent that the area scrolled and clipped
    to is the content area (excluding borders and padding.) Translate
    back appropriately when chaining up so that the parent background
    is drawn at the right place and picking on the box (if it's reactive)
    picks at the right place on the screen.
    
    clip-to-allocation is removed from StScrollView since it's just
    not right - if the child has any non-moving elements, like headers or
    borders, it will need to set a narrower clip. And even if the entire
    child scrolls, we want to clip to an arrow that excludes the scrollbars.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595997

commit 28dbf7a06ee1ad7aa729db2caf48b74b6e4abae2
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Mon Sep 21 18:27:22 2009 -0400

    Allocate children as wide as the scrolled area
    
    When we are scrolling a vertical box horizontally , children should be
    allocated horizontally as wide as the full horizontal scrolled area,
    not just to the size of the "viewport". Similarly for a horizontal box.
    
    http://bugzilla.moblin.org/show_bug.cgi?id=6312
    https://bugzilla.gnome.org/show_bug.cgi?id=595996

commit 1ec8e9eb6b32fdc2ac5f7f7ea3653a6d31ff97b9
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Mon Sep 21 18:01:17 2009 -0400

    Allow StBoxLayout to shrink down to its minimum size
    
    When a StBoxLayout is allocated a size less than its natural size,
    think "shrink" needs to be divided among the children that have
    a smaller minimum size than natural size.
    
    This is done by preferentially shrinking the children that are most
    expanded from their minimum size and then increasing that set of
    children until we've found enough total shrink.
    
    A new method is used of allocating children at integral sizes - instead
    of rounding the per-child extra amount to an integer (which causes
    cumulative round-off errors), compute the position as we go along in
    floats and round individually for each child widget.
    
    Extend the box-layout test to include of a test of a box being set
    to various widths, starting quite narrow.
    
    http://bugzilla.moblin.org/show_bug.cgi?id=6311
    https://bugzilla.gnome.org/show_bug.cgi?id=595995

commit fa09f7a6da0cd07a02f20c4cc831f7604af5912f
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Mon Sep 21 17:56:46 2009 -0400

    Don't count not-visible children among expand children
    
    When counting how many children we should divide extra space among,
    don't count not-visible children.
    
    http://bugzilla.moblin.org/show_bug.cgi?id=6310
    https://bugzilla.gnome.org/show_bug.cgi?id=595995

commit d67e54d3ee7ad3695f9ff6d5d5fecad98e585082
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Mon Sep 21 17:20:34 2009 -0400

    Don't use the default stage when setting up adjustments
    
    If the actor isn't in a stage, then setting up the adjustment
    based on the actor's size (which we can't compute) and the
    size of the default stage (which isn't relevant), doesn't make
    sense. Just use arbitrary default values.
    
    The adjustments will be updated to reasonable values when first
    the box is first allocated.
    
    It's not entirely clear to me why we ever want to compute the
    adjustment settings this way; perhaps we should always use
    default values.
    
    http://bugzilla.moblin.org/show_bug.cgi?id=6307
    https://bugzilla.gnome.org/show_bug.cgi?id=595996

commit d263c12e2e028ab03adbcf3f41ea67c9fa5b4e73
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sun Sep 20 18:03:18 2009 -0400

    Match CSS for background extents
    
    The CSS specification says that the background extends to the
    edge of the border (settable in CSS3 with border-clip), make
    BigRectangle match this by computing an "effective border color"
    as 'border OVER background'.
    
    (If we don't want this behavior - e.g., to be able to use the
    transparent borders as margins, then alternatively transparent
    border handling would have to be fixed in st-widget.c, since
    prior to this transparent and translucent borders were handled
    differently.)
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595993

commit 4d55ccff39774881dc5765027cc34b8c6c69d4d0
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sun Sep 20 16:50:42 2009 -0400

    Rename StThemeImage to StBorderImage
    
    The current CSS3 border-image is close to a superset of what we were
    doing for -hippo-background-image. Woot! rename StThemeImage to
    StBorderImage and change parsing to look for:
    
     border-image: <url> <number>...
    
    Rather than
    
     -st-background-image: <url> <length>...
    
    percentanges for the border sizes are not currently supported, neither
    are the keywords for handling of the middle part. We always do 'stretch'
    for now.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595990

commit 2a0adc0fc855b00774ec79149fcca93c7cc8ac75
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sun Sep 20 16:21:47 2009 -0400

    Add support for colored borders
    
    Use BigRectangle to draw the border and background if there's
    a border width or border radius and no border image. (Only
    uniform borders are supported for now with some deviations
    from the CSS model noted in the comments.)
    
    The background color and image parameters are removed from
    StWidget's draw_background() method since they were not used
    for StButton (the only current user) and the encapsulation
    break that they presented caused some minor problems.
    
    Add a test case for borders, and also use borders to style
    the buttons in the 'inline-style' test case.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595993

commit 076e902b2c911a9f6c23e620db2813339263902a
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sun Sep 20 13:41:13 2009 -0400

    Centralize computations of border and padding into StThemeNode
    
    Rather than repeating the computation of borders in many different
    widget subclasses, add helper functions:
    
     st_theme_node_adjust_for_height()
     st_theme_node_adjust_preferred_width()
     st_theme_node_adjust_for_width()
     st_theme_node_adjust_preferred_height()
     st_theme_node_get_content_box()
    
    That are used in get_preferred_width()/get_preferred_height() and
    allocate() methods to consistently apply the necessary adjustments.
    This allows removing the StPadding type.
    
    Queueing a relayout when the borders/padding change is moved from
    st_widget_real_style_changed() to the invoking code to allow access
    to the old StThemeNode for comparison. (Should this be added as
    a parameter to the signal?)
    
    Borders are included in the geometry adjustments, but borders
    are not yet drawn.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595993

commit 8c72623da38539f65a20a9b7fdef268d53913b92
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sun Sep 20 09:08:08 2009 -0400

    StThemeNode: Add border-radius support
    
    Add support for parsing and caching the border-radius property.
    Different radii for the 4 corners are supported; elliptical corners
    are not supported.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595993

commit 1fd25573e5db751458d6566a25d49862d5a92e44
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Sep 19 23:28:39 2009 -0400

    Fix problems with 4-sided padding: specifiers
    
    The test for identifying such a specifier was wrong, and the last
    value was assigned to the wrong sides.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595990

commit 6527dbc8b71a14e0259cf6c26295f82e1acd8a5e
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Sep 19 22:56:09 2009 -0400

    Add support for inline styles
    
    Add support for passing an inline-style string when creating a
    StThemeNode.
    
    Hook this up to a new 'style' property of StWidget.
    
    Add a test case that demonstrates using this to update font sizes
    on the fly.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595991

commit 3c646ec516434c99e8faae1ff2ea3e6b445ccfcc
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Sep 19 21:27:01 2009 -0400

    run-test.sh: support running tests under gdb
    
    As with the 'gnome-shell' -g/--debug can be passed to run under
    the debugger.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595987

commit a9fd3503967d56d4ad722b98ce3695eb0b96d829
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Sep 19 21:10:15 2009 -0400

    Port our imported parts of Mx to ShellTheme
    
    ShellTheme replaces both StStyle and ccss_stylesheet_t.
    
    The interface StStylable is replaced by usage of ShellThemeNode.
    A concrete node class allows some significant optimizations of property
    inheritance that would have been much more difficult to achieve with
    the highly abstract pair of StStylable and ccss_node_t.
    
    Some operations that were previously on StStylable (like the
    ::style-changed signal) are directly on NtkWidget.
    
    Custom properties are no longer registered as param-specs; instead you
    call directly into shell theme node to look up a length or color:
    
    shell_theme_node_get_length (theme_node, "border-spacing", FALSE, &spacing);
    
    The dependency on libccss is dropped, while preserving all existing
    functionality and adding proper parsing and inheritance of font properties
    and proper inheritance for the 'color' property.
    
    Some more javascript tests for CSS functionality are added; workarounds for
    a CSS bug where *.some-class was needed instead of .some-class are removed.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595990

commit e91e8e993d59117538e051c84b27ace9b7177bc8
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Tue Sep 29 15:08:01 2009 -0400

    Add emacs mode-lines to ST sources
    
    To each .c and .h file, add:
    
     /* -*- mode: C; c-file-style: "gnu"; indent-tabs-mode: nil; -*- */
    
    'gnu' is the default anyways for Emacs, but indent-tabs-mode is not,
    so this sets things up to correspond to the policy of no-tabs.
    
    http://bugzilla.moblin.org/show_bug.cgi?id=6467

commit 276d9a93021ab1d4ba84498929f5870b369bbbdc
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Sep 19 20:43:49 2009 -0400

    Import stylesheet code from hippo-canvas
    
    Import:
    
      HippoCanvasTheme      => StTheme
      HippoCanvasThemeImage => StThemeImage
      HippoCanvasStyle      => StThemeNode
    
    StThemeContext is a new class managing the theme for a stage and
    global properties like resolution.
    
    test-theme.c is a newly written test program to do verification of the
    style matching and property handling rules.
    
    Various changes are made in the import:
    
     - Comprehensive reindentation
     - guint32 pixels replaced with ClutterColor
     - General pseudo-class support added
     - Old-fashioned (non-bordered) background image support added, though
       with no support for repeat, etc.
     - Bug fixes for problems revealed by test program
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595990

commit 6b95864076a87d625ae864abd79f53f0832125e3
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri Sep 18 16:29:28 2009 -0400

    Fix installation and distribution of stylesheet data
    
    Install and distribute gnome-shell.css and theme images. They are moved
    down from $datadir to $datadir/theme to avoid a weirdness where we have
    images in $datadir and then also in $datadir/images.
    
    (Also moved in the source tree to avoid adding another difference between
    installed and uninstalled operation.)
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595989

commit d4c577a2993b93253a6122accb61d2775c5461b8
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri Sep 18 16:13:30 2009 -0400

    Remove stale C files
    
    Remove several stale C files that we are no longer using; now
    that we have a distcheck hook to catch non-distributed files, these
    would otherwise prevent distchecking.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595988

commit b90fc1e194202ed0545fe09590349e4335f142ab
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri Sep 18 16:13:30 2009 -0400

    Extend distcheck for files in Git to all files
    
    Instead of just checking that we distribute all Javascript files, check
    that we distribute everything that is in Git.
    
    The toplevel Makefile.am has a variable DIST_EXCLUDE that lists patterns
    of files that we actually don't want to distribute.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595988

commit 55497899dd9fdc408f0acaeb3046d3549ce81087
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri Sep 18 15:51:15 2009 -0400

    Add some structure for interactive tests of UI components
    
    js/ui/environment.js: Split out initial UI setup (Tweener initialization,
      ClutterContainer monkey-patching) into a separate file we can import from tests.
    
    tests/: Directory for various types of tests
    tests/run-test.sh: Shell script that to run tests with an appropriate
      environment set up.
    
    tests/testcommon/: Common modules and data for tests
    tests/interactive/: Interactive tests
    
    tests/interactive/box-layout.js: A sample test of StLayout
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595987

commit e37790fdf9251ccc6ce1aae58b360ac4ee52116c
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Sep 16 19:53:55 2009 -0400

    Monkey-patch in ClutterContainer methods for StBoxLayout
    
    Setting options for children added to StBoxLayout is not convenient
    since we are missing the varargs methods of clutter_container.
    
    Patch in:
    
     child_set() - set properties of a child
     add() - add a child and set properties (this is different from
             clutter_container_add()! I think the deviation is
             with avoiding the awkward name add_with_properties()
             which is what might be expected. ClutterContainer
             currently doesn't have a method like this at all.)
    
    The code is written to allow patching into multiple ClutterContainer
    classes but for now only StBoxLayout is patched, since it's the only
    container we are using where we need to set options as properties.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595419

commit 83402957bb5245870da89da4cfa45b32cfd37fd9
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Sep 16 19:07:23 2009 -0400

    Add GObject Introspection annotations
    
    Add GObject Introspection annotations to methods where needed, in
    particular adding (transfer none) to return values that don't transfer
    ownership.
    
    st_texture_cache_get_actor() and st_texture_cache_get_texture()
    are annotated as (transfer none) since they return a newly
    created *floating* texture.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=591245

commit 58325fca76909174bf4566cb71cd7608aa00e622
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Sep 10 04:39:27 2009 -0400

    Import MxEntry, MxLabel, MxClipboard
    
    For now this commit introduces an external dependency on clutter-imcontext.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=591245

commit 8b6962f3bf3532acf7b0749af4d821606eb906ab
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Sep 10 01:42:25 2009 -0400

    Import MxBoxLayout, MxBoxLayoutChild
    
    https://bugzilla.gnome.org/show_bug.cgi?id=591245

commit c1f91def74eb455730805ca2333615ade057619f
Author: Colin Walters <walters@verbum.org>
Date:   Thu Sep 10 01:38:00 2009 -0400

    Add css for scrolling
    
    Port bits of Mx's default.css into gnome-shell.css, and use some
    hand-rolled .pngs with colors from
    http://live.gnome.org/GnomeShell/DesignerPlayground/ExpandedViewMockups
    
    https://bugzilla.gnome.org/show_bug.cgi?id=591245

commit 529f74c0e5f176bba45bcc832da4d36e2c780173
Author: Colin Walters <walters@verbum.org>
Date:   Thu Sep 10 01:36:41 2009 -0400

    Load gnome-shell.css at startup
    
    https://bugzilla.gnome.org/show_bug.cgi?id=591245

commit 459a3b18f22ee4c9d549da664d6bca581a4d9da9
Author: Colin Walters <walters@verbum.org>
Date:   Thu Sep 10 01:36:05 2009 -0400

    Add a "datadir" property
    
    Will be used to load stylesheets from main.js.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=591245

commit ac2be7f0d1cbb8148ef70bec9bdee8046676ea66
Author: Colin Walters <walters@verbum.org>
Date:   Thu Sep 10 01:24:13 2009 -0400

    Remove hardcoded '28' from StScrollView
    
    https://bugzilla.gnome.org/show_bug.cgi?id=591245

commit f6b80d5ed4dacaddc688a64f2d60dcfd61e05e98
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Sep 9 23:13:35 2009 -0400

    Import MxScrollView and dependencies
    
    https://bugzilla.gnome.org/show_bug.cgi?id=591245

commit d291e568fde82c685c94781d559bc5552ac9bd0d
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Tue Sep 8 15:47:30 2009 -0400

    Import Mx core as ST
    
    Import the core MxWidget/MxBin and their dependencies; we use the
    namespace "St" (Shell Toolkit) because it is the same length as Mx
    so enabling easy sharing of code, but makes it clear that this is
    a friendly fork and not a literal import.
    
    Based on a patch by Colin Walters <walters@verbum.org>
    
    https://bugzilla.gnome.org/show_bug.cgi?id=591245

commit 2b78d5bd5da07716c0f81facbd581d95415f8d7d
Author: Dan Winship <danw@gnome.org>
Date:   Tue Aug 25 15:23:53 2009 -0400

    Improve support for multihead setups
    
    Fix panel, app switcher, and looking glass to limit themselves to the
    primary monitor, and run dialog to limit itself to the monitor
    containing the currently-focused window.
    
    The overview is also limited to the primary monitor now (with the
    other monitors being blacked out), although the workspaces within the
    overview are shaped like the full "screen" (the bounding box of all
    monitors). To be fixed later.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=593060

commit c9d9846759ea13e30ec0c50db5d34bd225bf900d
Author: Adel Gadllah <adel.gadllah@gmail.com>
Date:   Thu Oct 1 12:18:13 2009 +0200

    Add Desktop in Places
    
    Updated by Colin Walters <walters@verbum.org to monitor gconf
    and use g_get_user_special_dir.
    
    Signed-off-by: Adel Gadllah <adel.gadllah@gmail.com>
    Signed-off-by: Colin Walters <walters@verbum.org>
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596933

commit 6baafaa5302a750f9a43f97399ad6bd171357ed9
Author: Colin Walters <walters@verbum.org>
Date:   Thu Oct 1 08:56:59 2009 -0400

    [places] Fix double spacing between actions and devices
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596991

commit c2af05f753bd697fe75eebded16f10a7652531f6
Author: Dan Winship <danw@gnome.org>
Date:   Wed Sep 23 12:27:23 2009 -0400

    [AppSwitcher] Allow use of arrow keys in the popup
    
    https://bugzilla.gnome.org/show_bug.cgi?id=590563

commit 97df305a6d58ff10b3ed6efdc6c1817ebdf163b6
Author: Steve Frécinaux <code@istique.net>
Date:   Tue Sep 29 23:04:46 2009 +0200

    [AppSwitcher] Drop the line wrapping code.
    
    Also rename _grid into _appsBox as grid is not an appropriate word
    anymore for what this box is.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=590563

commit fee385ba35ed87ee374d1e04bfe171c98a2f6b98
Author: Steve Frécinaux <code@istique.net>
Date:   Tue Sep 29 14:13:28 2009 +0200

    [AppSwitcher] Do not show the glow for icons in alt+tab dialog.
    
    Unlike icons in the application well, do not show the glow used to
    indicate running apps.  It is somewhat redundant here.  These are all
    running apps and it is fairly clear from the window list if there are
    multiple instances available, according to mccann.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=590563

commit 373fa3c3250f4309ebee9e384200c14211edbf6c
Author: Dan Winship <danw@gnome.org>
Date:   Mon Sep 28 23:31:54 2009 -0400

    [AppSwitcher] deal with the user releasing Alt before we get the grab
    
    Previously mutter was doing this for us, but now we need to do it
    ourselves.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596695

commit 84a6a6faf03a62e3a8980e586f9686cce250e578
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   Mon Sep 28 22:00:25 2009 +0200

    Updated Spanish translation

commit 9432ddb12e91d47f0d94e7c288cde2ab2cc5d009
Author: Dan Winship <danw@gnome.org>
Date:   Sat Sep 26 17:32:22 2009 -0400

    [windowmanager] Remove destroy effect
    
    It slows things down, it's a slightly weird effect, and because the
    window is still live while it's animating, you may see subwindows
    being destroyed during the animation.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596441

commit d4a2f9e6042ac744bf47b74aaeaea16c24fd1026
Author: Dan Winship <danw@gnome.org>
Date:   Sat Sep 26 10:59:21 2009 -0400

    [AppIcon] Sort minimized windows after normal ones in AppIcon menu
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596389

commit 7f468b36e7ac7414edfaa8ce8b1c698a251396c7
Author: Dan Winship <danw@gnome.org>
Date:   Sat Sep 26 10:56:41 2009 -0400

    [AppSwitcher] Put apps with only minimized windows at end of list
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596389

commit 349e5b39af3bf1854631dd9dd7e14279dc4a1330
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   Mon Sep 28 13:43:23 2009 +0200

    Updated Hungarian translation

commit cad774aca19cae59d488efa4255f613110ac778f
Author: Steve Frécinaux <code@istique.net>
Date:   Sun Sep 27 13:14:26 2009 +0200

    Use "More" instead of "Browse"
    
    The text "Browse" used for the buttons on the dash section headers is a
    little obscure and tends to translate into something that doesn't fit
    well.
    
    Going back to "More" will hopefully be more manageable in translation.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596433

commit b25bbf4c0a6b38811c12f99b8b8047aecf960a89
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Sat Sep 26 20:53:54 2009 +0200

    Small application browse tweaks
    
     - Add spacing after Frequent, reduce it for the other app categories.
    
       Put a small gap (one line) between Frequent and the other
       categories to make it clear that it is something a little
       different.
    
     - Remove category icons from the applications menu.
    
       Remove category icons; they aren't particularly helpful
       (they are gone from the GNOME-2.28 menus too) and having them
       in Applications Browse draws the eye to the wrong thing - the
       category - rather than the right thing - the application icons.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596435

commit 72dd458c80a5578172f7de4ba70614be074b773c
Author: Dan Winship <danw@gnome.org>
Date:   Sat Sep 26 12:08:16 2009 -0400

    [AppSwitcher] Make the background translucent again
    
    The default AppIcon gray border color isn't very visible against a
    dark gray background, but a white border looks too bold in the Well. So
    allow the caller to override the AppIcon border color, so that the Well
    can use gray-on-black and the AppSwitcher can use white-on-gray. (And
    then revert the AppSwitcher back to the translucent gray background.)
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596337

commit 79d5d3dba0e9b75c7877acd67e1b8928c3f526a0
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Sat Sep 26 00:48:34 2009 +0200

    Add a missing "let".

commit c14a4deddf674080faa3d4a091ac8a251327e7ae
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Sat Sep 26 00:47:07 2009 +0200

    Rename iconButton to IconButton, as it is a class.

commit 4bab511fa5f00d9172b4f3db4f9113a3a2036379
Author: Colin Walters <walters@verbum.org>
Date:   Fri Sep 25 16:59:38 2009 -0400

    [Overview] Don't treat 1024x600 as widescreen
    
    This works significantly better on my netbook.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596375

commit 36b11ee8c7eda335d61f4d0210c5361ff06787b7
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Fri Sep 25 20:54:40 2009 +0200

    Do not show "More" next to "Recent Docs" if there are no docs (bug #582037)

commit 3ffc510be76eabe0c0c1e39b640302dcb36ffdaa
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Fri Sep 25 20:10:45 2009 +0200

    runDialog.js: really update the enableInternalCommands when the key changes
    
    The run dialog uses the "development_tools" gconf key to determine
    whether funcions like "lg" or "restart" should be enabled, but it
    failed to notice it on the run when said key changed. This commit
    fixes this.

commit ec92bfba14d9900dfb43d73b5973a0d5c3e9ff54
Author: Colin Walters <walters@verbum.org>
Date:   Wed Sep 23 18:07:19 2009 -0400

    Compress multiple load requests
    
    Before, if the texture cache received a request to load say
    the themed icon for an application multiple times (as could happen
    since we have multiple application displays), it would often create
    a thread for each one and in fact, load the pixbuf multiple times.
    
    Avoid this by keeping track of outstanding requests.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596121

commit f5f22b3935f2cd47b33f733c01e51e19d5df4623
Author: Dan Winship <danw@gnome.org>
Date:   Wed Sep 23 12:18:18 2009 -0400

    [AppSwitcher] Keep track of the selected window for each app
    
    Rather than selecting windows[0] each time the cycle returns to an
    app, select whatever window of that app was selected last time around.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=590563

commit 159081dcfc9194798c0413440bddf2d5dc6c63cd
Author: Colin Walters <walters@verbum.org>
Date:   Thu Sep 24 18:36:36 2009 -0400

    Optimize searching further
    
    There are now 3 code paths in decreasing speed:
    
    First, optimize subsearching more by just hiding the actors
    that didn't match, since we know the ordering has to be right.
    
    For initiating a search (or backspacing an existing one), again
    instead of destroying and recreating actors, just temporarily
    remove them and re-add them in the desired order.
    
    Finally for when data has changed, use the old code path of
    destroying all actors.  (This itself could obviously be optimized
    if we had a way to know that just one application changed, but
    at the moment we don't).
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596119

commit 1da4837d981cf2010edf28d78490f7f547da4863
Author: Colin Walters <walters@verbum.org>
Date:   Thu Sep 24 18:34:43 2009 -0400

    Don't show search results sections until we've actually searched
    
    We queue a 150ms timeout when the user starts typing to avoid searching
    for the first keystroke.  However, this caused us to change to the search
    mode, but show the leftover state of the search displays from an
    earlier search state.
    
    Instead, just hide the results sections until we've actually performed
    the current search once.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596119

commit 0f63ae186986c933fd8f37a2ec99a813e2c61506
Author: Colin Walters <walters@verbum.org>
Date:   Thu Sep 24 18:33:54 2009 -0400

    Only use visible actors for paging/allocation
    
    It's expected that containers skip not-visible actors when
    allocating, etc.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596119

commit 32ef951fe00e060968bd5fc959399002d6f09491
Author: Colin Walters <walters@verbum.org>
Date:   Wed Sep 23 16:16:38 2009 -0400

    Optimize subsearches
    
    This is probably not the biggest optimization that needs to be
    made at least for application searching, but we can optimize the
    case where we're going from a search of "fi" to "fire" by just
    re-searching the list of things we already had that matched "fi"
    instead of looping over everything.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596119

commit 3564d78d30031fa774dda1a4373bae0ea0745abb
Author: Colin Walters <walters@verbum.org>
Date:   Thu Sep 24 22:53:16 2009 -0400

    Use shellwm.takeover_keybinding for Alt-F1 and Alt-F2
    
    This fixes a regression where we weren't using the correct event
    timestamps, because for both of these we were sending an XClientMessage
    to ourself.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596262

commit 4bff2675ae56ec857a4d8727c1394b664cd6eeb7
Author: Khaled Hosny <khaledhosny@eglug.org>
Date:   Fri Sep 25 04:23:06 2009 +0200

    Add Arabic translation

commit 2020d15a1ae992d0ad63693afac76a1a9a06f724
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Thu Sep 24 00:01:57 2009 -0400

    Fall back to fewer than 4 columns if space limited
    
    First eliminate the variable WELL_ITEM_HSPACING since it was 0
    and thus effectively was not used.
    
    Add a new variable WELL_ITEM_MIN_HSPACING which is the minimum
    space between grid items we allow.  When computing layout, allow
    for a number of columns less than 4 by using the minimum item
    size.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595023
    
    Based on a patch from Colin Walters.

commit 64d8d7a91cb03857100213e2c781d9424d6c2119
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Sep 24 18:12:41 2009 -0400

    List shellDBus.js in Makefile.am
    
    Include the new file shellDBus.js with installed and distributed Javascript.

commit eb025901c8e826a30a0353dca0e304c06e67d014
Author: Dan Winship <danw@gnome.org>
Date:   Mon Sep 21 13:44:42 2009 -0400

    [AppSwitcher] Implement pointer selection

commit 9fee99bc7a4307f08c5686ade9f88f6c7d6abf44
Author: Dan Winship <danw@gnome.org>
Date:   Mon Sep 21 13:04:30 2009 -0400

    [AppSwitcher] Implement window cycling

commit 67bfbc9b4b29c55e0fca66d1c67666e7ccb65107
Author: Dan Winship <danw@gnome.org>
Date:   Thu Aug 13 12:52:50 2009 -0400

    [AppSwitcher] Use AppIcon and switch applications rather than windows
    
    https://bugzilla.gnome.org/show_bug.cgi?id=590563

commit 11d884d724c71724ad54ca9c618296c872edcfaf
Author: Dan Winship <danw@gnome.org>
Date:   Tue Sep 15 11:11:32 2009 -0400

    [AppSwitcher] Port Alt-Tab switcher to custom_handler interface
    
    https://bugzilla.gnome.org/show_bug.cgi?id=590563

commit 24d42adc044b74b62522fc6c9826e6444adc1022
Author: Dan Winship <danw@gnome.org>
Date:   Mon Sep 21 16:29:37 2009 -0400

    Add Main.activateWindow() to remove some duplication

commit 110ef17e2d7fd6bbdd3dc3b4f6171713fca5c260
Author: Dan Winship <danw@gnome.org>
Date:   Wed Sep 23 10:13:36 2009 -0400

    Add Main.currentTime(), to get the correct current-event-time
    
    https://bugzilla.gnome.org/show_bug.cgi?id=590563

commit 0143512e007c9ab72cafcdf29b5f29a0c7c471bc
Author: Colin Walters <walters@verbum.org>
Date:   Tue Sep 22 18:00:37 2009 -0400

    Don't leak when loading an already-cached item
    
    A previous patch fixed a leak when loading items which shouldn't
    be cached, but we also had a leak if two requests for the same
    item were outstanding.  In that case we load the pixbuf twice,
    but should discard subsequent loads when we notice we've already
    cached it.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595321

commit 4876474be3773597fc838d39437c065b0fb7a0b7
Author: Colin Walters <walters@verbum.org>
Date:   Wed Sep 23 14:30:05 2009 -0400

    Add shellDBus.js which implements Eval(str) and an OverviewActive property
    
    For various reasons I'd like a method which allows evaluation; say
    log in from another machine and run "gnome-shell --repl" or something.
    
    Also as a possible solution for the screensaver X grab issue, add
    a (read/write) property "OverviewActive".
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596102

commit 0e4a86f2e622553b94e3e6b3fa6db7acfecaba5f
Author: Dan Winship <danw@gnome.org>
Date:   Fri Sep 18 09:12:25 2009 -0400

    [AppIcon] move well menu code from appDisplay.js to appIcon.js
    
    The menu is needed by the app switcher as well as the overview, so
    make it slightly more generic and move the code to appIcon. Also add
    support for drawing the menu either to the right of or below the icon.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=590563

commit 18dbc5462f2c993cb5eeb088db343a25f7e498bc
Author: Dan Winship <danw@gnome.org>
Date:   Fri Sep 11 17:13:50 2009 -0400

    [AppIcon] Make BaseWellItem a subclass of AppIcon
    
    Part of https://bugzilla.gnome.org/show_bug.cgi?id=590563

commit 8f660f563c916c64734a95cf4765a8c223af8703
Author: Dan Winship <danw@gnome.org>
Date:   Fri Sep 18 12:06:07 2009 -0400

    [AppIcon] Remove redundant window array

commit fa316ddd3d40cd77111d37a8884c9a2664ca59e2
Author: Dan Winship <danw@gnome.org>
Date:   Fri Sep 18 12:03:45 2009 -0400

    [AppIcon] Make sure small icons still get full-sized AppIcon actors

commit 7703bee284a79bf8ccbe01c1d1586144adb2be11
Author: Colin Walters <walters@verbum.org>
Date:   Fri Sep 18 15:08:56 2009 -0400

    [workspaces] Use a stable minimum-motion placement for windows
    
    Rather than having the mapping from window into "slots" (or
    possible positions in the workspaces) be dependent on stacking
    order, compute the minimum-motion which is a vector from one
    top left corner to another.  This order won't change as long
    as the window set and their positions stay fixed.
    
    There are two minimum motion algorithims; one simply computes
    all possible placements by permuting the window list, up to
    a current maximum of 5 windows.  Past that (which also happens
    to be the number where we switch to a grid), we use a "greedy"
    algorithm which for each slot, finds the window with least motion
    for that slot.
    
    To break any ties, we use an internal integer in MetaWindow which
    enumerates the order in which windows were created.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=582654

commit 90e6769638a42f997f5f48c9d8c3d200dae27d2c
Author: Colin Walters <walters@verbum.org>
Date:   Tue Sep 22 12:45:43 2009 -0400

    Fix memory leak in getting applications from menu
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595321

commit 0b6d09bbe2bd06ca33de97ca51ba89a0826049e3
Author: Dan Winship <danw@gnome.org>
Date:   Tue Sep 22 17:48:44 2009 -0400

    [lightbox] Fix logic; get_children() returns children bottom-to-top

commit 3734479cbd47da87fcf1477f2cade64a774bce22
Author: Dan Winship <danw@gnome.org>
Date:   Tue Sep 22 15:24:14 2009 -0400

    [lightbox] Add lightbox.js and use it in overview, alt-tab, and run dialog
    
    https://bugzilla.gnome.org/show_bug.cgi?id=596000

commit 6cae94edcc23cbbb509c3a02833b132c6e0aa74f
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Tue Sep 22 16:15:28 2009 -0400

    Bug 594916 - Allow cancelling DND by hitting Esc
    
    Esc used to close the overview and get the DND actor stuck on the desktop when
    it was pressed when dragging.

commit 0918bdd6128cbca829a0454e0593ea2e7e56664f
Author: Dan Winship <danw@gnome.org>
Date:   Mon Sep 21 09:25:39 2009 -0400

    [AppWell] Don't add "New Window" item to menus for transient apps

commit a75b1abc93584a0cef61960f145c914a140317c4
Author: Andre Klapper <a9016009@gmx.de>
Date:   Tue Sep 22 13:37:55 2009 +0200

    Update Czech translation

commit e6a08cc9fd16d1c0daa97063b6d99769b92a0d27
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   Tue Sep 22 12:14:22 2009 +0200

    Added sl for Slovenian language

commit 09c9defbf034577feba4e919ab9697cb79b65d21
Author: Matej Urbančič <mateju@svn.gnome.org>
Date:   Tue Sep 22 12:13:49 2009 +0200

    Addeed Slovenian translation

commit 3ba6ff4ca976d57a2d9dbd7eb95af4c3bb8bcaa9
Author: Colin Walters <walters@verbum.org>
Date:   Thu Sep 17 16:56:38 2009 -0400

    Fix shell_hook_paint_red_border
    
    In overriding _paint we're already offset to our allocation
    coordinates, don't re-add them.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595514

commit 19fa0b5d5b0b520f05de60c93d68da9f1f612ce8
Author: Colin Walters <walters@verbum.org>
Date:   Wed Sep 16 19:44:38 2009 -0400

    Unref GIcon we use internally
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595321

commit 79db50500d038babbd6519c9156b2be4312ddf1b
Author: Colin Walters <walters@verbum.org>
Date:   Wed Sep 16 19:44:23 2009 -0400

    Squash small memory leak
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595321

commit f26c9ab24501ed645607b6f6b4966260f6c200d9
Author: Colin Walters <walters@verbum.org>
Date:   Tue Sep 15 20:13:17 2009 -0400

    Fix memory leaks
    
    Need to free the returned thumbnail path, and in the CachePolicy.NONE
    case we also need to unref the cogl handle.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595321

commit 293adb9bccdbf8d6d499e51454e4790b689b827c
Author: Rodrigo L. M. Flores <rlmflores@src.gnome.org>
Date:   Mon Sep 21 08:40:41 2009 -0300

    Updated Brazilian Portuguese translation

commit e79b15c645148c75cb02eb766108534bb8890bae
Author: Dan Winship <danw@gnome.org>
Date:   Tue Sep 15 21:26:11 2009 -0400

    Remove taskbar-highlighting support from Alt-Tab popup
    
    The "lightbox" effect had support for highlighting a particular
    rectangular region on the taskbar when Alt-Tabbing to a minimized
    window. Since we no longer use the taskbar, this code is just cruft
    now.
    
    Part of https://bugzilla.gnome.org/show_bug.cgi?id=590563

commit 08603c1524c2fdfc095874ef888572d5d4b770e1
Author: Daniel Nylander <po@danielnylander.se>
Date:   Fri Sep 18 13:02:49 2009 +0200

    Updated Swedish translation

commit cee7106cb1f4c58701c6bea5f59ac25786445999
Author: Colin Walters <walters@verbum.org>
Date:   Wed Sep 16 11:37:51 2009 -0400

    Better handle pushModal failing
    
    Previously we'd leave the focus on the stack, etc.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595382

commit 2c0661d377f33b0fa5d0951af20470e889e2206e
Author: Colin Walters <walters@verbum.org>
Date:   Thu Sep 17 11:08:24 2009 -0400

    Add "New Window" menu item
    
    Refactor the current menu code to support both window selection
    and "normal" menu items.  Add a "New Window" item which does what
    you'd expect.
    
    Clean up the way we handle highlighting the window items to be
    more direct; rather than looping over all items in most cases,
    just directly manipulate one item
    
    https://bugzilla.gnome.org/show_bug.cgi?id=594557

commit 471006ba6707dda193cbf3b7bf5a4790d23852d7
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Tue Sep 15 18:03:36 2009 -0400

    Bump version to 2.27.3

commit 98bd590a5d1cebfd2e54311bfddb19bf36044a33
Author: Colin Walters <walters@verbum.org>
Date:   Tue Sep 15 17:40:26 2009 -0400

    [runDialog] Add 'debugexit' command
    
    There are few uses for being able to exit the shell directly; my
    current one is that the gtype debug infrastructure is implemented
    as an atexit() handler.

commit 9d88a13d3c4d7bc32a2589091dbe2a925af7151a
Author: Fran Diéguez <fran.dieguez@glug.es>
Date:   Tue Sep 15 23:06:46 2009 +0200

    Updated Galician Translation

commit 159690b2d39db03bcb3224f9b54c774f9cc37ea9
Author: Colin Walters <walters@verbum.org>
Date:   Mon Sep 14 15:08:20 2009 -0400

    Enable Alt-f2 in overview
    
    This isn't a long-term solution; what we really want is for Alt-F2 to
    just be an application search with a hack to detect shell commands,
    but in the short term this allows us to run the magic 'lg' command
    from the overview.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595116

commit 8a2bfd0e55fc2cf4675cf9de410149867f4533bf
Author: Colin Walters <walters@verbum.org>
Date:   Tue Sep 15 15:53:07 2009 -0400

    Change keyboard handling API to handle nested modal calls
    
    Rename beginModal/endModal to pushModal/popModal.  All of the current callers
    just want to ensure that we're in a modal state; they don't actually need to
    fail if we already are.
    
    These functions also now take the Clutter keyboard focus, while recording
    the previous focus.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595116

commit 2ddc7cf00f64e937c8c2798b31c46d25734b7967
Author: Colin Walters <walters@verbum.org>
Date:   Mon Sep 14 13:45:49 2009 -0400

    Only enable internal commands if developer_tools is true
    
    'r' is a bit too accidentally-hittable for outside of developer usage.
    However it will still be enabled when developer_tools is true.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595116

commit 04f10ceb4e5b39d94029cd82efbac3293d93326e
Author: Colin Walters <walters@verbum.org>
Date:   Mon Sep 14 13:30:19 2009 -0400

    Add a developer_tools boolean defaulting to true
    
    This will be use to enable various internal tools which should only
    be exposed to developers/testers.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595116

commit ceefc5eea46ee84f634a9b9f225c5ca87d9ae92b
Author: Dan Winship <danw@gnome.org>
Date:   Tue Sep 15 13:09:51 2009 -0400

    Convert remaining uses of "let me = this;" to Lang.bind
    
    https://bugzilla.gnome.org/show_bug.cgi?id=595293

commit 9feda69888bce695d91fbfb7a1d93e4d0b70a909
Author: Colin Walters <walters@verbum.org>
Date:   Fri Sep 11 12:39:59 2009 -0400

    When in window filtering mode, reset filter before showing window
    
    When we had a filtered set of windows, and want to exit the overview
    into a particular window, what we do is re-show all the old windows
    first, but don't reset the scaling on them.  This will involve
    some overlapping, but that's not a big deal because we'll immediately
    get overlap anyways in the normal case zooming the windows back.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=594699

commit 33f9895d7101bc5dc97d9bc4eafd3ee944a738a3
Author: Colin Walters <walters@verbum.org>
Date:   Fri Sep 11 12:47:53 2009 -0400

    Don't proxy methods through overview; add a getWorkspacesForWindow()
    
    Duplicating the methods was unnecessary.  Also, we want a getWorkspacesForWindow()
    method as preparation for multi-monitor work.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=594699

commit 2812c21322870970c60021d4d4577e95fbb9bdcd
Author: Colin Walters <walters@verbum.org>
Date:   Wed Sep 9 21:14:31 2009 -0400

    Allow popup menu to be persistent, and support direct window selection
    
    When the user click+hold+release over the icon, the effect we want
    is for the menu to stick around.
    
    Also, allow the user to mouse over the actual windows and select
    them directly.  If the user mouses over a window, reflect that in
    the menu.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=594699

commit 7ac9fb2dd0bec76ffa9218728c94bf8c7ec8fe34
Author: Colin Walters <walters@verbum.org>
Date:   Fri Sep 11 17:16:49 2009 -0400

    Make popdown,popup methods idempotent; remove 'popdown' for 'cancelled'
    
    Callers will generally expect _popup and _popdown to be a no-op if
    the menu is already in that state; make it so.
    
    Also change the 'popdown' signal to be 'cancelled'; this is
    clearer and allows us to avoid having activate also call popdown.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=594699

commit 05c99241d6e93a27fcaa6da3b16ccbb8f93bd978
Author: Colin Walters <walters@verbum.org>
Date:   Sun Sep 13 14:54:56 2009 -0400

    [Overview] Make content area eat mouse events during animations
    
    There are ton of different kinds of mouse even handlers in the overview;
    WindowClone has several mouse-enter/leave handlers, we still have a variety
    of classes not ported to ButtonBox and so incorrectly handling double-click,
    etc.
    
    Since we at present don't have anything in the overview area for which
    it makes sense to interact with during the animation, create a transparent
    event-eating box which we raise to the top during the animation.
    
    https://bugzilla.gnome.org/show_bug.cgi?id=594074

commit 9fb8dad80c1b746bf859306de2d22f57a2af88ad
Author: Philip Withnall <philip@tecnocode.co.uk>
Date:   Sun Sep 13 16:24:19 2009 +0100

    Added British English translation

commit 004ad86e9d3579a74e01de55e225932b05e4f624
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   Sat Sep 12 14:41:15 2009 +0200

    Updated Spanish translation

commit 02c65fab8dc94a3be1845956ed215b82d6aae119
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Fri Sep 11 18:59:31 2009 -0400

    Don't show section headers for sections with no results and don't show page
    controls if there is only one page of results
    
    This makes the search results display more streamlined.
    
    Make sure that we move the selection to a different section if we are going
    from displaying a single section to displaying all and the section that
    used to be displayed alone doesn't have any results.

commit dfe16f4af6a042bf7635ee9f59b088082a3615ff
Author: Colin Walters <walters@verbum.org>
Date:   Fri Sep 11 18:58:30 2009 -0400

    Revert "[AppWell] Allow popup menu to be persistent, and support direct window selection"
    
    This reverts commit 6e31e59b57ad60186b41944b175907ec7d90647c.

commit e52cb3c213bfa1e564cd470af35000cbc5839923
Author: Colin Walters <walters@verbum.org>
Date:   Fri Sep 11 18:49:08 2009 -0400

    [ShellAppMonitor] Handle Iceweasel tripping Firefox window title detection
    
    We have compatibility code which detects from the window title what
    an application is.  However, the code didn't handle the case where
    we discovered by title, but didn't have the expected .desktop file
    installed.

commit 6e31e59b57ad60186b41944b175907ec7d90647c
Author: Colin Walters <walters@verbum.org>
Date:   Wed Sep 9 21:14:31 2009 -0400

    [AppWell] Allow popup menu to be persistent, and support direct window selection
    
    When the user click+hold+release over the icon, the effect we want
    is for the menu to stick around.
    
    Also, allow the user to mouse over the actual windows and select
    them directly.  If the user mouses over a window, reflect that in
    the menu.

commit 458778bcfd82cdf3c25881d0e9632322f1d164d7
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Fri Sep 11 17:48:02 2009 -0400

    Add a separate section of search results that shows system preferences
    
    System preferences should not be mixed in with applications in search results.

commit d8cabbee0be2323fa44b1fd966b593393e358753
Author: Dan Winship <danw@gnome.org>
Date:   Fri Sep 11 17:23:23 2009 -0400

    More global-ization

commit 3029a4086bdf50aa221004bf6df76fc945beda1b
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Fri Sep 11 16:42:54 2009 -0400

    Restructure the search results code to be able to support any number of sections
    
    We will be adding more search results sections, so we should store the intended
    order of the search results sections and their properties in an array of data
    structures.
    
    This information allows us to have generic code for creating the search results
    sections, moving the selection between them and transitioning between showing
    all sections and a single section.

commit 5598de654366d750a625f9f1e2595d9d3747c144
Author: Claude Paroz <claude@2xlibre.net>
Date:   Fri Sep 11 21:41:27 2009 +0200

    Updated French translation

commit 913aeae166631396251cf0faee808d1db5bef85e
Author: Colin Walters <walters@verbum.org>
Date:   Wed Sep 9 17:28:52 2009 -0400

    Actually update well menu filtering for review messages
    
    My updates got lost due to accidentally being on a rebase branch.

commit dddad9e1b5c021b6803bf8a17500aeb8789e1076
Author: Colin Walters <walters@verbum.org>
Date:   Wed Sep 9 16:43:29 2009 -0400

    [AppDisplay] In search/browse, show existing window instead of always launching
    
    This brings search in line with the AppWell behavior which is definitely
    right.  For browse we probably want more options.

commit 4bfa68d209b13e714a75ceff80dfddb8b9feaa6f
Author: Colin Walters <walters@verbum.org>
Date:   Wed Sep 9 16:42:43 2009 -0400

    [AppWell] Fix previous commit
    
    Somehow missed changing a call when updating for review comments.

commit 42e3a93c2080625ba5c24672c668373ca5ea15c6
Author: Colin Walters <walters@verbum.org>
Date:   Wed Sep 9 15:49:31 2009 -0400

    More gracefully handle a situation where starting shell failed
    
    If start_shell() threw an exception before, we'd overwrite it with
    an exception in the finally() clause.  Handle this and just print a message
    and let the exception propagate.

commit 05812ef7f94de1cf5f9874554225ec9d310ccd48
Author: Colin Walters <walters@verbum.org>
Date:   Tue Sep 8 18:34:04 2009 -0400

    [AppWell] Enable lightboxing immediately on popup
    
    Rather than starting lightboxing only when the mouse enters the
    menu, start it when an application filter is set.
    
    Also delete a stale function in WindowClone from previous work.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=594555

commit a0df412debabf26860f8b60e23a1a205fd94dd5e
Author: Dan Winship <danw@gnome.org>
Date:   Wed Sep 9 09:45:13 2009 -0400

    Extend (+) button sensitivity to corner of screen, for Fittsability
    
    https://bugzilla.gnome.org/show_bug.cgi?id=591984

commit 678a88dbdb077715651f0221c535b2eb677db531
Author: Dan Winship <danw@gnome.org>
Date:   Wed Sep 9 09:41:26 2009 -0400

    Remove some "let global ..."s that snuck back in as part of old patches

commit 5e944c9a3b488fdab5fd297615e4e3311c1ee7a0
Author: Dan Winship <danw@gnome.org>
Date:   Tue Sep 1 11:56:41 2009 -0400

    Move the add workspace button out of the Workspaces object, into Overview
    
    http://bugzilla.gnome.org/show_bug.cgi?id=594049

commit b28b60b47b1ee863ed959108ad8fc5405c44ca24
Author: Tomasz Dominikowski <dominikowski@gmail.com>
Date:   Wed Sep 9 03:06:16 2009 +0200

    Updated Polish translation

commit 16caa74386c3bd6049815fce16d8684eed8d4e46
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   Wed Sep 9 02:57:37 2009 +0200

    Updated Polish translation

commit 470c65d046743e88a8a9f14d390bff665c3a2243
Author: Colin Walters <walters@verbum.org>
Date:   Tue Sep 8 17:29:22 2009 -0400

    [AppWell] Make control-click create a new window
    
    Implement this for now by just re-launching the application, which
    visually will normally create a new window.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=594565

commit ef6ea078ddcb2ed2d733f39e1b526d7f23e5e6df
Author: Colin Walters <walters@verbum.org>
Date:   Tue Sep 8 17:53:45 2009 -0400

    [AppWell] Position menu components on integral coordinates
    
    This avoids fuzz.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=594553

commit 37ee16b34da390c6639e6643765f92bfb6df411e
Author: Colin Walters <walters@verbum.org>
Date:   Tue Sep 8 16:58:57 2009 -0400

    Use clutter_event_get_* instead of ShellGlobal
    
    Before Clutter gained accessors for event information, we had
    shell_global_ functions.  Now that Clutter has them, use them and
    delete the ShellGlobal code.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=594561

commit 5880b3b0edf2828e38bfa791583177e6578bf026
Author: Colin Walters <walters@verbum.org>
Date:   Tue Sep 8 16:58:17 2009 -0400

    [ShellButtonBox] Add event to activate signal
    
    This allows access to things such as keyboard modifier state and
    event time cleanly.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=594565

commit 80a5f78eb2b73d94318d9508f1239573e79cd772
Author: Colin Walters <walters@verbum.org>
Date:   Tue Sep 8 15:53:49 2009 -0400

    [AppWell] Unify drag and drop behavior between Running versus Inactive
    
    This fixes a regression where drag and drop didn't work for inactive
    items correctly.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=594542

commit 4b727ef40d347ec8770d1cd1ec858f2a068eec98
Author: Dan Winship <danw@gnome.org>
Date:   Fri Sep 4 15:25:17 2009 -0400

    Scroll wheel should zoom windows in the overview
    
    Allow using the scroll wheel to zoom in on windows in the overview.
    
    Original patch from JP St. Pierre.
    http://bugzilla.gnome.org/show_bug.cgi?id=591849

commit d0d79c5b3ee6edc0bc7d55f5ba2c8a3b5df96286
Author: Dan Winship <danw@gnome.org>
Date:   Tue Sep 8 16:12:50 2009 -0400

    Make "global" global.
    
    Rather than doing "let global = Shell.Global.get()" everywhere we
    need it, just create a global variable called "global".
    
    http://bugzilla.gnome.org/show_bug.cgi?id=594546

commit 0882da0a71fbcb989aea4f595531f6adfeee4f8f
Author: Adel Gadllah <adel.gadllah@gmail.com>
Date:   Tue Sep 8 20:04:18 2009 +0200

    Add error handling to the runDialog
    
    Show the errors to the user instead of silently logging them to the terminal,
    also rework positioning to get rid of magic numbers.
    
    Signed-off-by: Adel Gadllah <adel.gadllah@gmail.com>
    
    http://bugzilla.gnome.org/show_bug.cgi?id=593840

commit 25410a730ea354b772e0424f7adeb9ec65b80e46
Author: Colin Walters <walters@verbum.org>
Date:   Tue Sep 1 14:15:29 2009 -0400

    Bug 591763 - Add application window menu
    
    When we have multiple windows for an application, implement the following
    behavior:
    
    * On click + immediate release, go to the most recently used
    * On click, hold for 0.6s, pop up a menu with windows, filtering
      the window list to just those windows.
      Mouse over on the window list highlights the moused-over window.
    
    Implement this by splitting well item into InactiveWellItem
    and RunningWellItem, sharing a base class BaseWellItem.

commit 22c445cffc14ebafdd46cba83d86a6e26c0e13ee
Author: Colin Walters <walters@verbum.org>
Date:   Thu Sep 3 21:05:16 2009 -0400

    Add ShellMenu
    
    An object with methods and signals useful for implementing popup menus.

commit 42bf91fdc4a8b79aa96d8e2985062abb6200faa4
Author: Sander Dijkhuis <sander.dijkhuis@gmail.com>
Date:   Mon Sep 7 16:18:50 2009 +0200

    Distribute app-well-glow.png
    
    Add app-well-glow.png to data/Makefile.am

commit 7f88e02a269018afddacec41e70cccf4e6d443fa
Author: Jon Nettleton <jon.nettleton@gmail.com>
Date:   Mon Sep 7 08:06:50 2009 -0700

    Convert on_tree_changed to a gboolean returning false.
    
    This fixes commit 0a29cf61955935ca1e7d3a48ccd38164ec9c80af and
    g_timer_add_full running in an endless loop.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=592608

commit d540af847a3b3829398b3ecca61ae4a3a136464b
Author: Milo Casagrande <milo@ubuntu.com>
Date:   Sun Sep 6 18:32:44 2009 +0200

    Updated Italian translation

commit 2f78907aeb043cb1b62537f18f3d9984ab275059
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri Sep 4 20:14:57 2009 -0400

    Bump version to 2.27.2

commit d471541495836fe15a16496d678a24c05894b467
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri Sep 4 20:13:04 2009 -0400

    Bump gobject-introspectio nrequirement to 0.6.5
    
    gobject-introspection 0.6.5 is needed for Gio.VolumeMonitor usage.

commit fa5fb6b8a8a1fefb68728e983c9d98b89ebcc1f5
Author: Colin Walters <walters@verbum.org>
Date:   Fri Sep 4 19:58:37 2009 -0400

    Bug 594184 - Fix up glow positioning logic
    
    We were allowing the glow allocation to go too far to the right;
    clean up the logic.

commit 0a29cf61955935ca1e7d3a48ccd38164ec9c80af
Author: Jon Nettleton <jon.nettleton@gmail.com>
Date:   Wed Sep 2 14:35:09 2009 -0700

    Compress notifications of menu changes with a timeout.
    
    GMenu currently gives us a separate notification on the entire
    menu tree for each node in the tree that might potentially have
    changed. (See http://bugzilla.gnome.org/show_bug.cgi?id=172046.)
    Compress these with a timeout to avoid doing a lot of extra work.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=592608

commit b7b4c54ab5dd0d1359e3b1c8e13832347ac899d0
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri Sep 4 17:51:43 2009 -0400

    Make checking if an item is under the pointer asynchonous again
    
    Checking if an item is under the pointer by calling stage.get_actor_at_pos()
    synchronously will trigger a too-early allocation of the stage. Use an idle
    at Meta.PRIORITY_BEFORE_REDRAW. (Before 553503d it was using a 5 msec timeout,
    553503d made it synchronous.)
    
    http://bugzilla.gnome.org/show_bug.cgi?id=592608

commit 52abf266c068b3dad369eefc2f2fa8187461869c
Author: Colin Walters <walters@verbum.org>
Date:   Thu Sep 3 10:45:01 2009 -0400

    Redo AppWell glow to be based on a based on a .png instead of cairo
    
    Instead of drawing an ellipse, use a hand-drawn .png file which
    looks a bit less regular and blends better.

commit 11872cfb79070448905efc0384c4ce71e1600f53
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri Sep 4 15:20:27 2009 -0400

    Add README and DOAP file
    
    README: Add a short README with basic information.
    
    gnome-shell.doap: Add project information in DOAP format expected
      for GNOME projects.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=591564

commit 21309aa28f1155d9a51f8b176dd08f797e29790f
Author: Kris Thomsen <lakristho@gmail.com>
Date:   Fri Sep 4 01:26:01 2009 +0200

    Updated Danish translation

commit 38d21c8edf882d893b65a1c35c81f55fceda2391
Author: Dan Winship <danw@gnome.org>
Date:   Thu Sep 3 09:50:17 2009 -0400

    Remove some vestigial code

commit 090908439b113f6cb0dc9741d0573ca623c241c8
Author: Adel Gadllah <adel.gadllah@gmail.com>
Date:   Wed Sep 2 20:41:32 2009 +0200

    Add volumes support to places
    
    Display the mounted volumes in the places section of the overlay.
    
    Signed-off-by: Adel Gadllah <adel.gadllah@gmail.com>
    Signed-off-by: Colin Walters <walters@verbum.org>

commit 0a17a28608d587b3121ec7bc30c35e2f2b466a5b
Author: Colin Walters <walters@verbum.org>
Date:   Tue Sep 1 14:14:19 2009 -0400

    Add shell_button_box_fake_release
    
    The application menu code wants to do a popup after a given timeout
    while holding.  We can implement that by adding a function to
    manually break the grab held by the button box.
    
    Freeze+thaw around the hover and pressed property notification on leave
    since handlers may want to depend on the pressed state on a hover
    transition.

commit 926643b025c87c9343937965131fb9b2963f6d31
Author: Colin Walters <walters@verbum.org>
Date:   Tue Sep 1 14:13:15 2009 -0400

    Add shell_texture_cache_pixbufs_equal
    
    Mutter is currently creating separate pixbufs for window icons;
    use this to analyze them.

commit 1a834f7d8b5344c8d7f609419b934500e4cd134c
Author: Colin Walters <walters@verbum.org>
Date:   Tue Sep 1 14:07:31 2009 -0400

    Add API to programmatically initiate a drag
    
    For some use cases we have other behavior on mouse press and want
    to manually control when a drag starts.  Split out the drag initiation
    code into startDrag.

commit 3e54087e42a2e1921bfc84367d749b05c7d4cd9d
Author: Dan Winship <danw@gnome.org>
Date:   Tue Sep 1 13:27:31 2009 -0400

    Add Tweener.slowDownFactor, initialize from $GNOME_SHELL_SLOWDOWN_FACTOR
    
    This allows for easier debugging of glitchy animations

commit 304b377dae4a77c84f733fd385687c448f766fe2
Author: A S Alam <aalam@users.sf.net>
Date:   Wed Sep 2 05:28:51 2009 +0530

    Added Punjabi (Gurmukhi)Translation

commit ac4bcee0506842d026e213648c1b3793b34fc0bd
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Tue Sep 1 19:06:20 2009 -0400

    Merge headers when a single section of search results is displayed
    
    There is no need to show two headers when we are only displaying a single
    section of search results, so we merge the section header with the main
    header in that case.
    
    Show a back button on the left of the main header to get back to the results
    for all sections.
    
    Remove this._showTooltip flag from SearchSectionHeader because we no longer
    show this type of header when we want to suppress the tooltip.
    
    Add this._appSearchResultsOnlyShown and this._docSearchResultsOnlyShown
    flags to track when a single section is shown more cleanly.

commit 553503dace358ffcc83c02a3ecd479d32f8f4743
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Tue Sep 1 16:29:14 2009 -0400

    Remove the timeout for checking if an item is drawn under the pointer
    
    We no longer need the timeout for checking if an item is drawn under
    the pointer because we display search results in the main pane and there is
    no lowering/raising of other overview actors going on as the results are
    being displayed.

commit 90381ceea228b3c8963875b526353376348a2beb
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Tue Sep 1 16:24:47 2009 -0400

    Improve key navigation for search results
    
    Select an item by default when the search results are displayed.
    
    Enable moving from one section of search results to another with key navigation.
    
    Reset the selection when the search is updated or a new page is displayed
    or the transition between viewing multiple sections and viewing just one is made.

commit 687814b6c6bb8cef70e96520bbea004cb88b8c1f
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Tue Sep 1 08:59:27 2009 -0400

    Update build-setup.sh for gconf, gio python usage
    
    Add pygobject and gnome-python-gconf dependencies to
    gnome-shell-build-setup.sh package lists for Fedora and Ubuntu/Debian.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=593458

commit 615309405792ccb8c0859922e6c59d4f8cb34bb8
Author: Daniel Nylander <po@danielnylander.se>
Date:   Tue Sep 1 00:31:48 2009 +0200

    Updated Swedish translation

commit 0245a0cd0e0ea155cf678326e76b93c0137ce39f
Author: Steve Frécinaux <code@istique.net>
Date:   Fri Aug 28 18:38:48 2009 +0200

    Do not display windows with skip-taskbar hint in overview.
    
    This fixes the bug where the empathy buddy list is always visible on the
    last workspace it was shown on, even if it was closed.

commit bcc3dc0711be396a7429f28a660c68056790ece8
Author: Steve Frécinaux <code@istique.net>
Date:   Fri Aug 28 18:36:23 2009 +0200

    Consolidate window tracking filters between app monitor and overview.
    
    The windows we considered for both the app monitor and the overview
    workspaces were the same, but the code was duplicated once in C, once
    in Javascript.

commit 3d499219da7505b16eaf8215493da5da40641bca
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Mon Aug 31 11:52:18 2009 -0400

    Use AM_PATH_PYTHON to find Python >= 2.5
    
    On OpenSolaris /usr/bin/python is 2.4; use AM_PATH_PYTHON to find
    a newer Python. (The PYTHON environment variable can also be set
    before running configure to override the search.)
    
    http://bugzilla.gnome.org/show_bug.cgi?id=578196

commit 94b26888cf31aac1c3a1783eb47a9e98725621bd
Author: Colin Walters <walters@verbum.org>
Date:   Sun Aug 30 18:01:46 2009 -0400

    Build tweaks
    
    Add .AUTOPARALELL which is my GNU-make fix for projects to specify
    that the build is parallel-safe, and to automatically parallelize.
    
    Add a missing dependency on built sources, and specify --libtool
    to be safe.

commit 156fdf1fa3b9de62a550987a867aa1a196dc51b5
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Sun Aug 30 19:26:39 2009 +0200

    Update Catalan translation

commit 2a3f9e8f83664afe54c78e361af91e43a71f541e
Author: Petr Kovar <pknbe@volny.cz>
Date:   Sun Aug 30 17:37:51 2009 +0200

    Updated Czech translation

commit 849ce371ffba9dbe2eb7e9e8575576e3fbed8fe0
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   Sun Aug 30 11:17:50 2009 +0200

    Updated Spanish translation

commit a76ac5501c87f82044a5fe5fd2631b2429d71b53
Author: Ray Wang <raywang@gnome.org>
Date:   Sun Aug 30 09:15:34 2009 +0800

    Add Simplified Chinese translation.

commit 5803aa7e65a586a4b5c90004acf1b7819f863cbd
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Aug 29 07:23:28 2009 -0400

    Simplify Button class by using ShellButtonBox
    
    Make Button class purely about adding visuals, and use ShellButtonBox
    for behavior. API equivalences:
    
      shell.button => shell.actor [for consistency]
    
      staysPressed parameter to constructor => replaced by manually setting
       the 'active' property of button.actor as appropriate
    
      pressIn/release => button.actor.active = true/false
    
      enter-event/leave-event signals => button.actor notify::hover
    
    Along the way, this fixes a bug with the user status menu where it was
    not getting set to active because the button was getting a leave
    (triggered by the menu popping up and grabbing the pointer) before for
    button release, which disabled the staysPressed behavior.
    
    Reported by Michael Meeks
    http://bugzilla.gnome.org/show_bug.cgi?id=593471

commit 0fd6bc517241b5ae222a873e8568e72e41c71aa2
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Aug 29 13:25:32 2009 -0400

    ShellButtonBox: only listen to button 1 and single clicks
    
    Only mouse button 1 is supposed to activate button controls; other
    mouse buttons should do nothing unless there is a context menu.
    
    Checking the click count is important, since double-clicks will
    otherwise look like unpaired button presses.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=593504

commit 0e3cea41e0aa75b3e9603429215009f65d61144d
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Aug 29 12:31:15 2009 -0400

    ShellButtonBox: Use default handlers, not self-connections
    
    There's seldom a good justification for connecting to signals on
    yourself rather than using the default handler slots in the class.
    
    But in particular using the default handler slots means that
    an application can connect to ::button-press-event and get in
    before the default handling, to implement a button that does
    something on press.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=593503

commit 45c600cd258c8a2e491ea207bca07242819c9fd7
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Aug 29 12:00:20 2009 -0400

    Add an active property to ShellButtonBox
    
    Add an 'active' property to ShellButtonBox. This allows ShellButtonBox
    to be used as a "toggle button". It's up the application to connect
    it to the ::activate signal; there's no default handling of this.
    
    (It's seldom that the only time you want to toggle a toggle button
    through the user interface, so you need some connection to the backend
    data store in any case. Removing the default handling all-together
    prevents weird interactions.)
    
    When we have built-in styling for ShellButtonBox the 'active' state
    would be one of the elements that would be affect the styling.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=593502

commit 7fb8e2d0ef88be90444a6a1746b914aca6897623
Author: Thomas Wood <thos@gnome.org>
Date:   Thu Aug 20 21:39:04 2009 +0100

    Bug 592507 -  Javascript exception when ~/.gtk-bookmarks is missing
    
    Check the file exists before trying to access it and simply return if it
    is not available.

commit 2d5d54f3cd3b462bcc2295f5f4f7d5068da5760e
Author: Sander Dijkhuis <sander.dijkhuis@gmail.com>
Date:   Sat Aug 29 15:11:34 2009 +0200

    Update Dutch translation

commit 949359db5da484439c93d68128b631a33108632c
Author: Kris Thomsen <lakristho@gmail.com>
Date:   Sat Aug 29 10:25:03 2009 +0200

    Added Danish translation

commit 5bd26958634510d81f2c5311f33b5eedbbde4e9c
Author: Kenneth Nielsen <k.nielsen81@gmail.com>
Date:   Sat Aug 29 10:23:43 2009 +0200

    Added Da to list of laguages

commit dfbbf9b4364da97e38430931992211ec0d060a1c
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri Aug 28 20:10:43 2009 -0400

    Bump version to 2.27.1

commit a230ad9225ce18380ec8cd251785c05a7e5c4ca4
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Fri Aug 28 13:37:03 2009 -0400

    Improve the display of search results
    
    Use bigger font and brighter color for the search results section headers.
    Add more padding.
    
    Display "(see all)" tooltip in the section headers on mouse-over.
    (Still TODO: supressing that tooltip when all results are already being shown.)

commit 7a87474bcdf52358065c167422cf039f76599249
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri Aug 28 16:21:21 2009 -0400

    Switch Find entry text size to px
    
    All our font sizes were in px, other than the size for the text in
    the search entry. Switch that from 12 to 16px (which is the same size
    at the standard 96dpi), it doesn't become out of scale if the DPI
    is different. (Using fixed px sizes isn't probably what we want to
    do in the long term; moving to style sheets will be a good place to
    fix that. But better to be consistent.)
    
    http://bugzilla.gnome.org/show_bug.cgi?id=593212

commit 479acf2d18dce7627ee5139fc6ef1dc23e3661ad
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri Aug 28 15:11:25 2009 -0400

    Renable PrintScreen and Super_L in the overview
    
    When we are modal, examine keypresses and look for:
    
     - 'Print': Run the screenshot command in any mode; very useful for
       bug filing, reviews, etc.
    
     - Release of Super_L/Super_R - if in the overview, toggle back
       out of the overview.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=593427

commit 943c5e2edc3f56939b62c137ca3a180a781604d1
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri Aug 28 12:40:56 2009 -0400

    Improve comment about button-release-event handler
    
    Improve the documentation about the button-release-event handler
    we put on the status-menu button at Colin's suggestion.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=593362

commit 1340413740c44d1568d8ebe0413ea9ebcd009dfb
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri Aug 28 11:27:39 2009 -0400

    Fix hang when clicking on the user status menu in the overview
    
    shell-global.[ch]: Add shell_global_display_is_grabbed() that
      uses the newly added meta_display_get_grab_op() to check
      for existing grabs.
    shell-status-menu.[ch]: Add shell_status_menu_is_active() to
      check if the menu is popped up. Check for active grabs before
      popping the menu up. Use gtk_menu_popdown() rather than
      gtk_widget_hide(). Remove an excess gtk_widget_show() and
      some excess casts.
    panel.js: Check whether the status menu is popped up after button
      release, and if it's not popped up, unhighlight the button.
    
    Reported by Nuno Donato
    http://bugzilla.gnome.org/show_bug.cgi?id=593362

commit 3adec65e2002f4adb67a55861843a71c39e05af3
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Aug 27 16:19:35 2009 -0400

    Remove pre-GNOME-2.26 panel-replacement code
    
    gnome-shell.in: Remove the code to replace gnome-panel by attaching
      to it with GDB; this was always problematical (required gdb, debug
      symbols, finding the pid of gnome-panel, etc.)
    
    gnome-shell-build-setup.sh: Require 2.26 to be in place before building
      the shell; remove gdb from the list of required packages.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=593325

commit d116f707c5e4b4e3f07ff5ae3db162b01b1ca11e
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Tue Aug 18 18:02:53 2009 -0400

    Clear save_id when removing idle_save_application_usage()
    
    When we remove the timeout for saving application usage when application
    usage is disabled, set the save_id member variable to 0.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=589676

commit 6f94b8cffe47909f9e8333082cee3274644a9fc6
Author: William Jon McCann <jmccann@redhat.com>
Date:   Fri Aug 28 11:56:40 2009 -0400

    Change search box text to "Find..."
    
    We want to find more than apps and documents and the previous
    string was too long in some languages and on some display sizes.

commit 14a7e310fc423c1927cf61e927c8fa1b90fa845b
Author: William Jon McCann <jmccann@redhat.com>
Date:   Fri Aug 28 11:47:19 2009 -0400

    Make the gradient on the top panel the same as the "dash"
    
    The previous top color was a bit too bright.

commit bf680fdc7c542b515fa3a3b4d34a39f571838c10
Author: Colin Walters <walters@verbum.org>
Date:   Wed Aug 26 23:17:21 2009 -0400

    New class ShellButtonBox
    
    This is a Box subclass which adds several signals useful for implementing
    "button like" behavior, such as hover and pressed states, as well as
    click activation on release.

commit 851bf182658885c3d33f477e1c58e628bec222e2
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Aug 27 14:19:42 2009 -0400

    Restore GNOME based on GNOME configuration
    
    Instead of using pidof to find what was running when we started,
    and then hacking in a restart with hardcoded paths in /usr/bin,
    approximate how GNOME starts the panel and window manager.
    
    This fixes restarting Compiz correctly:
     http://bugzilla.gnome.org/show_bug.cgi?id=593184
    
    And restarting gnome-shell correctly:
     http://bugzilla.gnome.org/show_bug.cgi?id=591171

commit 452e98e3bc490213b7be1bb7be6fd822df81f414
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Aug 27 14:07:46 2009 -0400

    Require an explicit --xephyr option
    
    Instead of starting Xephyr automatically, require --xephyr to be
    passed explicitly.
    
    This makes the operation easier to understand and has the benefit
    of allowing running in Xephyr mode when some other window manager
    (like gnome-shell!) is running. We also want to emphasize that
    Xephyr is a development tool, and not a good preview of the
    user-interface.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=592881

commit 3cb54f6707aeab0a36d325bb169d5798da4062b2
Author: Colin Walters <walters@verbum.org>
Date:   Wed Aug 26 23:15:47 2009 -0400

    Fix allocation implementations for ShellStack and ShellDrawingArea
    
    In both, using our allocation directly for the child is wrong; we
    should create a new allocation that's our width and height.
    
    In ShellDrawingArea, also need to chain up to parent.

commit ed7881d6c91d9555d18da1e072eaa97c03ef9f56
Author: Colin Walters <walters@verbum.org>
Date:   Thu Aug 27 02:22:25 2009 -0400

    [AppMonitor] Handle window title changes causing mapping changes
    
    For Firefox/OpenOffice, right now we have a workaround in the
    code where we look at their "title" property.  However, we
    weren't monitoring that property for changes, and I'm fairly
    certain Firefox at least was mapping a window and then very
    quickly changing its title after.  So we need to handle
    dynamic changes.
    
    Split out the wm_class mapping from the title hack.  It was
    messy and weird to have the two mixed because they're not
    at all related, and we're not trying to handle WM_CLASS changes
    right now.
    
    Explicitly connect to notify::title in the case where we had
    a title fallback.  When a title changes, just treat it as
    an add+remove.
    
    In the Application Menu area in the panel, hook up to app-added
    and app-removed so we get notification of the active app changing.

commit ea1a45a8789db66a346b61aadc6aa037903f143b
Author: Colin Walters <walters@verbum.org>
Date:   Thu Aug 27 02:18:55 2009 -0400

    Also remove libtidy-1.0.la from Makefile

commit 003807334ba82f7236b585a47cf7a8fbd72b07e1
Author: Colin Walters <walters@verbum.org>
Date:   Wed Aug 19 19:35:02 2009 -0400

    Delete Tidy
    
    It wasn't used any more.

commit 24a5c3c19a1a9c2a3cd03b8110682e51fb3db56e
Author: Colin Walters <walters@verbum.org>
Date:   Fri Aug 21 14:48:14 2009 -0400

    Add "mozilla" as a vendor prefix
    
    Clean up the vendor prefix handling a bit, and add "mozilla" so that
    we pick up "mozilla-firefox.desktop" from Firefox's (recent?) change
    to have a WM_CLASS of "Firefox".

commit 62b2d69c2b6991cc722f56056c2236e58d1cf718
Author: Colin Walters <walters@verbum.org>
Date:   Thu Aug 20 15:45:12 2009 -0400

    Bug 592402 - Better handling of Nautilus window
    
    Separate the application monitor logic for "tracking" and "usage tracking".
    The first means we associate an application with a window.  The second
    means we count focus time inside that window, and consider the window
    interesting from a user point of view.
    
    (Really, should probably split ShellAppMonitor into two classes along
     this line, with the second consuming the first).
    
    For the purposes of counting running applications and returning
    the list of open windows for an application, skip not-usage-tracked
    windows.
    
    Together this allows us to associate the Nautilus desktop window
    with the nautilus.desktop, but not show "File Manager" open all
    of the time.

commit cdbb7f8f5ff893bc7ca1262b8aa336d064a66ba6
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Wed Aug 26 18:46:58 2009 -0400

    Display only first page of search results by default and display a total results count
    
    Display only first page of search results by default for each section and
    allow clicking on the section header to view all the results for a given
    section. This design will allow us to easily move from paging to scrolling
    without having to stack multiple scrollbars in a single pane.
    
    Display a total results count next to the section name. This serves as an
    indicator that there are more results. The section header pre-lights to
    indicate that it can be clicked on.
    
    Make sure we go back to the first page of results when we exit a single
    section mode. Make sure we re-instate all result sections if the search
    mode is left.
    
    Close the only section search mode on Esc, and only close the search
    when Esc is hit again.

commit ecc1f964c917163e67211d3b419c577737f2e1ce
Author: Colin Walters <walters@verbum.org>
Date:   Wed Aug 26 18:43:44 2009 -0400

    Add 'r' as an alias to 'restart' in run dialog
    
    For even faster turnaround inspection of changes.
    
    Also add a comment about the idle_add in the 'lg' command.

commit 0f4e9189c501dc502c7a77904aa2bac623a61389
Author: Dan Winship <danw@gnome.org>
Date:   Thu Aug 13 12:21:01 2009 -0400

    Split out "AppIcon" and make WellDisplayItem a subclass of it

commit 799f56fe877ca8e66bdf97a702f78e1298aed691
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Aug 12 00:22:46 2009 -0400

    Use new plugin-modality functionality in Mutter
    
    We now have functionality in Mutter to grab the keyboard on behalf
    of a plugin. This avoids interactions with the key handling code
    in Mutter that could leave the user with an inconsistent state
    and no way to get out of it.
    
    src/shell-global.[ch]: Change shell_global_grab_keyboard() and
      shell_global_grab_keyboard() to shell_global_begin_modal()
      shell_global_end_modal() and call mutter_plugin_begin_modal()
      mutter_plugin_end_modal() rather than directly grabbing the
      keyboard.
    main.js: Call global.begin_modal/end_modal from Main.startModal()
      and Main.endModal()
    altTab.js; Remove call to Main.startModal() - we're letting Mutter
      handle modality for Alt-Tab.
    main.js lookingGlass.js overview.js runDialog.js: Rename
      Main.startModal() to Main.beginModal() for consistency with
      naming in mutter and ShellGlobal.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=590686

commit af9ab5dbb665848e42c42e14984b04bed3f821ff
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sun Aug 23 20:48:52 2009 -0400

    Only respawn if gnome-shell exits abnormally
    
    If Mutter exits with an exit status of 0, then that most likely
    means that it was replaced by another window manager and we shoudln't
    try to start the previous window manager and the panel.
    
    (We don't actually know about the panel, but assume that if someone
    is replacing us they know what they are doing.)
    
    When Mutter exits with a signal, we know we want to restart.
    
    When Mutter exits with a non-signal non-zero exit status, it's
    ambiguous - we could be exiting because we lost the connection to
    the X server, or because of a assertion failure in gnome-shell.
    We assume the latter; if the X server is gone, all that will happen
    is a bit of noise.
    
    To know why Mutter exited accurately, we always wait() and
    kill() the Mutter process, and then, if running in Xephyr, clean up
    Xephyr afterwards. This has the nice side effect of exiting when
    gnome-shell does and not forcing the user to close Xephyr manually.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=591171

commit 3486fcc89a659924a1b323f79a13ee816f332017
Author: Daniel Nylander <po@danielnylander.se>
Date:   Tue Aug 25 07:48:31 2009 +0200

    Updated Swedish translation

commit 1e2018d1b752c149bd2a132770ef89c96e4eae68
Author: Sander Dijkhuis <sander.dijkhuis@gmail.com>
Date:   Mon Aug 24 22:39:53 2009 +0200

    Update and improve Dutch translation
    
    Improvements mentioned by Wouter Bolsterlee in gnome-nl-list.

commit fb46bad6656ac3a41649162683ba0ec4ea4a8c0d
Author: Young-Ho Cha <ganadist@gmail.com>
Date:   Sun Aug 23 04:51:56 2009 +0900

    Add Korean translation

commit e2d912c037e96b2876716bb57a12cba0b6fb8291
Author: Fran Dieguez <fran.dieguez@glug.es>
Date:   Sat Aug 22 16:40:06 2009 +0200

    Added Galician Translation

commit 2879d9cdef4968d9c7e03063a16fb598e3f82772
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   Sat Aug 22 12:22:25 2009 +0200

    Updated Spanish translation

commit 300cefd66a61c3e11e48d00f555d6b63ea944004
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Fri Aug 21 18:21:35 2009 -0400

    Display search results in the dash
    
    Display search results in the dash instead of showing them in a separate pane.
    We get dynamic allocation for the section height based on the number of
    results, but a lot of the problems with the previous search results display,
    such as displaying empty sections and paging overflow are still present.
    
    Also, we don't yet close the browse pane for applications or documents when
    we display the search results and only replace it if we are showing the
    details pane, so all that looks weird. We'll need to work out the interaction
    for these cases.

commit 72b4d2a234afb4e7f2d508a11cde95da3a3763d1
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Fri Aug 21 15:56:07 2009 -0400

    Make hotCorner a class variable
    
    This fixes a bug where we were already using this._hotCorner
    in _onHotCornerEnvironsLeft() and were incorrectly setting
    this._hotCornerEntered to false when the hot corner was
    re-entered from the environs.

commit 02e438b1f8f8d67a4ad76de12261e89e46544721
Author: Sander Dijkhuis <sander.dijkhuis@gmail.com>
Date:   Fri Aug 21 20:10:13 2009 +0200

    Add Dutch (nl) translation

commit 58690c210eef026eec642e2f3ff8b097305a11c0
Author: Colin Walters <walters@verbum.org>
Date:   Fri Aug 21 12:48:15 2009 -0400

    [ShellAppSystem] fix missing break; in _unref

commit 61f19a6c22a067324efca84dade46028c7dd97b2
Author: Kjartan Maraas <kmaraas@gnome.org>
Date:   Fri Aug 21 12:44:31 2009 +0200

    Added Norwegian bokmål translation.

commit 7465338ea1d501c996614ce7894ed6c247d107b6
Author: Colin Walters <walters@verbum.org>
Date:   Thu Aug 20 20:03:28 2009 -0400

    [appDisplay] Always relaunch application on drag and drop
    
    Rather than just launching if we weren't already running, always
    relaunch, which happens to make Firefox, etc. work.  See
    the comment in the commit for more explanation.

commit 9dff05a3946efa7364aabc9091f6b9dc6253087c
Author: Colin Walters <walters@verbum.org>
Date:   Wed Aug 19 16:55:39 2009 -0400

    places: Implement drag&drop for overview
    
    Add drag and drop.  We need to be able to recreate the icon texture,
    so instead of passing it directly into PlaceDisplay, pass
    a factory function which knows how to create a new texture.

commit 9f5a5ad63500a11e36705e63c8e1c91f41864f6a
Author: Colin Walters <walters@verbum.org>
Date:   Wed Aug 19 16:54:49 2009 -0400

    appDisplay: Don't leave overview for drag&drop of an app
    
    The design says we stay in the overview for these situations.

commit 2dcd0511c45d1e45978a145d28b4047fdee47051
Author: Colin Walters <walters@verbum.org>
Date:   Sun Aug 16 22:23:44 2009 -0400

    dash: Make recent docs display two columns
    
    The design has smaller icons in two columns.  Add a new
    custom display to docDisplay for it.
    
    Clean up some of the texture cache handling for recent URIs so
    it's not size-dependent, since the dash size is now different
    from the default GenericDisplay size.

commit dd1a309cb6699c1ab77664bd6a48ec22f07f4d1a
Author: Colin Walters <walters@verbum.org>
Date:   Mon Aug 17 20:29:54 2009 -0400

    dnd: Centralize drag actor positioning code, use shellWorkspaceLaunch for workspaces
    
    We had multiple copies of the code to position a drag actor given a particular
    source.  Instead, just put it inside dnd.js.
    
    Second, rather than test for GenericDisplay/WellDisplayItem etc.,
    in various places, add a new method on each source "shellWorkspaceLaunch"
    which both marks the item as being droppable on a workspace, and is
    called by the workspaces code to launch the item.

commit 9563515e97f4f66a1189e47ecb8748ee36ae0856
Author: Baris Cicek <baris@teamforce.name.tr>
Date:   Fri Aug 21 00:45:14 2009 +0300

    Fixed problem in tr.po file.

commit ba77c51ee0f93726a17c88dc4ebd2008d94efdb9
Author: Baris Cicek <baris@teamforce.name.tr>
Date:   Fri Aug 21 00:41:46 2009 +0300

    Added Turkish (tr) translation.

commit 2e83b9548493de8fce95a5893f9bc38594ab29fa
Author: Milo Casagrande <milo@ubuntu.com>
Date:   Thu Aug 20 23:30:23 2009 +0200

    Updated Italian translation

commit 756374b2e4e2170d44d1e50b1218e8a37face228
Author: Sander Dijkhuis <sander.dijkhuis@gmail.com>
Date:   Thu Aug 20 17:58:42 2009 +0200

    Unmark GdmUser property strings for translation

commit 527ff6fb1d6e3da151cee86db6f0506013344cd5
Author: Daniel Nylander <po@danielnylander.se>
Date:   Thu Aug 20 16:57:06 2009 +0200

    Added Swedish translation

commit fb4fc496da19ff535a44d8e1396e904a717e1620
Author: Hendrik Richter <hendrikr@gnome.org>
Date:   Thu Aug 20 16:49:45 2009 +0200

    Updated German translation.

commit 8d9bd87c2260ebe0c981dc7a94a4078dc68169d0
Author: Milo Casagrande <milo@ubuntu.com>
Date:   Thu Aug 20 16:48:37 2009 +0200

    Updated Italian translation

commit 36acb0a63db431e8dadd094a29ec6271c8f6bbf2
Author: Milo Casagrande <milo@ubuntu.com>
Date:   Thu Aug 20 11:42:39 2009 +0200

    Added Italian translation
     * Added it to LINGUAS

commit 3e0f5aec0c0b459ebfef90f7202c1679ffe4e24d
Author: Colin Walters <walters@verbum.org>
Date:   Thu Aug 13 14:16:58 2009 -0400

    Bug 587951 - Don't show empty categories
    
    When loading menus, skip ones which entirely consist of NoDisplay=true
    items.

commit 4f5c3b4b740308628daf4a29698bd592bc345759
Author: Colin Walters <walters@verbum.org>
Date:   Thu Aug 13 14:59:16 2009 -0400

    Bug 591267 - Fix places icon centering
    
    Pack the place icon in a vertical centering box to avoid the horizontal
    box stretching it vertically.

commit a4bf54e4653d4df83067a7830e2b3627a2a9a9d8
Author: Colin Walters <walters@verbum.org>
Date:   Fri Aug 14 04:35:48 2009 -0400

    ShellAppMonitor: create "applications" for unknown windows
    
    Use MetaGroup for a window when looking up applications.  If
    we know the application for a TYPE_NORMAL window in the group,
    use that.
    
    However, we aren't always going to know the application for a window.  In
    that case, create a fake one.
    
    ShellAppInfo has a "transient" flag so we know not to write these
    fake apps to the usage file.
    
    Clean up the idle focus handler to better handle the case where
    no window is focused, and where we don't want to track the
    particular window.
    
    Update track_window to create the fake window.
    
    When a window goes away, we want to delete the usage.
    
    Rewrite shell_app_monitor_get_running_apps to be based
    on the window_to_app hash, because that's what has the pointer
    to ShellAppInfo*.  Before we were looking up all ids through
    ShellAppSystem, but that shouldn't be holding a ref to transients.
    
    Change the well display icon to be centered, since our icons for
    window apps aren't 48 pixels.

commit d94606587bf8fab284f1bfb2f26a07f30c09a525
Author: Colin Walters <walters@verbum.org>
Date:   Fri Aug 14 04:34:28 2009 -0400

    Add shell_app_system_create_from_window
    
    For various cases such as when we don't know a .desktop file
    for a window, it's desirable to "fake" an application from
    the contents of a MetaWindow*.

commit 74ea9f930521b21f68502818355daa0f07b9c7fe
Author: Colin Walters <walters@verbum.org>
Date:   Fri Aug 14 04:33:45 2009 -0400

    Add shell_texture_cache_bind_pixbuf_property
    
    This utility function is targeted for MetaWindow; we can create
    a ClutterTexture which tracks the value of an "icon" property.

commit 4dc04d8c538daeac0f52ff4af2696cb2e4dd9f16
Author: Dan Winship <danw@gnome.org>
Date:   Tue Aug 18 18:19:16 2009 -0400

    Update .gitignore for i18n files

commit 6e298759a44b6ca3c77b8e934333f57ef23fc463
Author: Dan Winship <danw@gnome.org>
Date:   Mon Aug 10 15:49:25 2009 -0400

    Use g_shell_parse_argv() in run dialog
    
    http://bugzilla.gnome.org/show_bug.cgi?id=581137

commit 3b320de8d7bbc8b9dc2e07169a507d07a67a8695
Author: Piotr Drąg <piotrdrag@gmail.com>
Date:   Tue Aug 18 23:26:25 2009 +0200

    Updated Polish translation

commit 30d3c1fe72c456482b09bfdf5f0b1616460300c9
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Tue Aug 18 14:59:53 2009 -0400

    Use a larger area around the hot corner to decide if the user has left the hot corner
    
    Using a larger area around the hot corner to decide if the user has left the
    hot corner prevents triggering the hot corner multiple times due to an
    accidental jitter.

commit 7469a2626a33f1da4aafe51c8b657707f6b6e086
Author: Colin Walters <walters@verbum.org>
Date:   Mon Aug 17 08:53:59 2009 -0400

    Bug 591859 - Use glib/gi18n-lib to get correct gettext package
    
    We need to use the -lib variant which in turn uses the
    GETTEXT_PACKAGE define, because the default translation
    domain is actually mutter, not gnome-shell.

commit d5345975897bcf935ff5ee9f48e22206ea5dcdbc
Author: Colin Walters <walters@verbum.org>
Date:   Mon Aug 17 08:47:29 2009 -0400

    Add a po/POTFILES.skip with gnome-shell.desktop.in
    
    It's generated from the .in.in.

commit ec3c8464d30fa7008130161d7294f8a98465eaf0
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   Sun Aug 16 16:23:35 2009 +0200

    Updated Spanish translation

commit 6319f649c213385ac262c919efac0b9852d30a5c
Author: Colin Walters <walters@verbum.org>
Date:   Sun Aug 16 10:09:34 2009 -0400

    Some search appearance fixes for last commit
    
    Add a close-black.svg.  Add some padding around the content.
    Fix magnifier.svg to be 18 pixels wide.

commit 44d34aba199c7af17d5bc62616f15626830d319c
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Sat Aug 15 16:32:58 2009 -0400

    Highlight the search entry when the user clicks or starts typing in it
    
    This will give the user a visual indication that the search is active.
    
    We need to replace the gray close button in the search entry with a black one.

commit 4245c573df88997f06719ec61f8cd9c3fa5ecb7d
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Aug 15 10:15:42 2009 -0400

    Clean up our .typelib generation rules
    
    - Prepend to the LD_LIBRARY_PATH not append
    - Use $(G_IR_COMPILER) instead of g-ir-compiler
    - Use $(AM_V_GEN)

commit c27b6493d6e7f466f85cfb8addb781929bd14529
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Aug 15 09:32:39 2009 -0400

    autoconf-2.64 compat: Don't use $(builddir)
    
    $(builddir) is not a standard automake variable. With autoconf < 2.64
    it ends up getting set in every Makefile.in to '.' (because autoconf
    defines it), but that is no longer the case for 2.64.
    
    Since $(builddir) was always '.', just use that instead.

commit 7200207009a60fd0a56626489accd727969dff7f
Author: Andre Klapper <a9016009@gmx.de>
Date:   Sat Aug 15 15:35:32 2009 +0200

    Initial Czech translation

commit 9ba66fd800640572946024168c5b1e716eee4e88
Author: Andre Klapper <a9016009@gmx.de>
Date:   Sat Aug 15 14:49:48 2009 +0200

    Remove whitespace so l10n.gnome.org is happy

commit e4552fca40829cbc150a5b41c101465e9e60abd0
Author: Seán de Búrca <leftmostcat@gmail.com>
Date:   Sat Aug 15 06:01:33 2009 -0600

    Updated Irish translation

commit b7d892e4c62c2004b262bdcde0cb433139a642a1
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   Sat Aug 15 12:53:00 2009 +0200

    Added Spanish translation

commit 5b096be68b7dc1f1c79b4aaa4778cfc882196ceb
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   Sat Aug 15 12:51:29 2009 +0200

    Added es to LINGUAS

commit e843d115669c2fd57ec83536c1ac20467da332a6
Author: Jorge González <jorgegonz@svn.gnome.org>
Date:   Sat Aug 15 12:43:09 2009 +0200

    Added missing files to POTFILES.in

commit 9c7803030e60269e81694688e5958dbd8c84dcbe
Author: Seán de Búrca <leftmostcat@gmail.com>
Date:   Sat Aug 15 04:24:19 2009 -0600

    Added Irish translation

commit 67ef36ef8e3398b8e309cf0e7347d6bfa55126fa
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   Sat Aug 15 11:37:06 2009 +0200

    Hungarian translation added

commit 4c1614f6a5dff7a032c353f8bd510c83877f5d71
Author: Gabor Kelemen <kelemeng@gnome.hu>
Date:   Sat Aug 15 11:36:42 2009 +0200

    added hu to LINGUAS

commit 37667847993cd4add0ff4cb0dc76f825b1f34cd9
Author: Colin Walters <walters@verbum.org>
Date:   Fri Aug 14 20:02:07 2009 -0400

    Pass foreign option to automake
    
    We don't want a ChangeLog file.  NEWS maybe.

commit 56e16ef712f20a744ac044234d53519abd821dae
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Sat Aug 15 00:14:28 2009 +0200

    Add Catalan translation.

commit 559c313fc74466faa7bd1d16cdd7b9e48c5082ad
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Sat Aug 15 00:13:55 2009 +0200

    Fix untranslatable string: "Find apps or documents"

commit 5e10d56d8952e91f563d9a6f58792145ca812335
Author: Og B. Maciel <ogmaciel@gnome.org>
Date:   Fri Aug 14 18:11:00 2009 -0400

    Added Brazilian Portuguese translation.

commit d289ce6aca88aea6ff3f47b213a95279a380dffe
Author: Hendrik Richter <hendrikr@gnome.org>
Date:   Fri Aug 14 23:43:27 2009 +0200

    Updated German translation.

commit c68e69bd6e9f15e5199fd3c07ffc2ce84f6fb041
Author: Hendrik Brandt <heb@gnome-de.org>
Date:   Fri Aug 14 20:42:51 2009 +0200

    2009-08-14  Hendrik Brandt  <heb@gnome-de.org>
    	* Update LINGUAS, add de

commit a6f312cfd393bea4dd78bb7acc2340eece230d6f
Author: Hendrik Brandt <heb@gnome-de.org>
Date:   Fri Aug 14 20:40:16 2009 +0200

    2009-08-14  Hendrik Brandt  <heb@gnome-de.org>
    	* po/de.po: Initial German translation.

commit ca51a8c926be8e0c268ba3d87dcde5411df630f2
Author: Colin Walters <walters@verbum.org>
Date:   Fri Aug 14 09:30:48 2009 -0400

    Add initial calls to Gettext
    
    We don't have a lot of strings, and what ones we do have we've
    been avoiding duplication.  This patch adds calls to _() i.e. gettext
    for those strings we do have.

commit ec95a1c2d3143d11ab8244289b6de571f4c551e9
Author: Colin Walters <walters@verbum.org>
Date:   Mon Jul 27 15:33:42 2009 -0400

    Add test fr translation
    
    Useful to verify that translation infrastructure is working.

commit a418558b73bce78099347cb17ca55738a83c09c1
Author: Colin Walters <walters@verbum.org>
Date:   Fri Jul 24 18:11:14 2009 -0400

    Add localization
    
    Infrastructure for localization; hook up intltool, create po/
    and po/POTFILES.in.  We need to call bindtextdomain/bind_textdomain_codeset.
    
    Switch to gnome-autogen.sh to call intltool.

commit f097304f3bbb574b90c3b7f8d2031dcb13d3b6e4
Author: Colin Walters <walters@verbum.org>
Date:   Fri Aug 14 08:41:00 2009 -0400

    Bug 582763 - Remove maximization effects
    
    The maximize effect looked really ugly.  In the absence of any cooler
    effects, none at all is better than what we have.  Current compiz
    doesn't have one either.
    
    Note that in the future when we merge the frame into the panel
    in the maximize case, we may want an effect for that.

commit ea4ea4a9b26f9208c784f07d3b3295a88f06e866
Author: Colin Walters <walters@verbum.org>
Date:   Thu Aug 13 22:51:16 2009 -0400

    Disable sidebar by default
    
    The sidebar is a bit neglected currently; we'll revisit it when
    we have more design and code time to focus on it.

commit b94452ee42e0cb90a653a2c62f089b92b6db5d63
Author: Dan Winship <danw@gnome.org>
Date:   Thu Aug 13 13:51:48 2009 -0400

    Redo highlight-drawing logic slightly, as suggested by Owen

commit 51db34d22341b5533e9129f50d29232269b7ab4e
Author: Dan Winship <danw@gnome.org>
Date:   Thu Aug 13 10:10:50 2009 -0400

    Implement distinct 2-window and multi-window highlights

commit 059c330d95f44edb33fd0b7cad39261b4c1abbe8
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Aug 13 13:11:21 2009 -0400

    Clear _searchTimeoutId when removing search
    
    When we remove the search because the search empty is
    entry, we need to reset _searchTimeoutId to 0.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=591719

commit 557f9ceb97bde57fa3715c4a91cfd4982f3402d1
Author: Colin Walters <walters@verbum.org>
Date:   Thu Aug 13 11:31:53 2009 -0400

    Bug 591590 - Fix some applications not appearing in menu
    
    Use the correct address for the entry, instead of treating the
    ShellAppInfo pointer as one.

commit 4aae57c2744d18bac7502ba180b5538b824215d4
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Aug 12 22:07:10 2009 -0400

    Explicitly set the size of the workspace actors
    
    Instead of counting on the implicit sizing of ClutterGroup, which isn't
    going to work well because of current limitations of ClutterClone, set
    the size of workspace explicitly based on the screen size.
    
    This should fix various problems with drag-and-drop being unreliable;
    if a workspace was sized to big it could overlap other workspaces or
    elements of the overview.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=591643

commit fb0ca1ba9de709a0911f34bb1687a2eb5ff3450a
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Wed Aug 12 20:02:59 2009 -0400

    Make dragging an item to the Add Workspace button launch it on a new workspace
    
    It is convenient to drag an item to the Add Workspace button and
    have it be launched on a new workspace.
    
    Based on a patch from Josh Adams.

commit 51723bb93b88ad07efbed5f1cd04172533810cf1
Author: Colin Walters <walters@verbum.org>
Date:   Wed Aug 12 19:45:17 2009 -0400

    Bug 591626 - Fix crash in ShellAppMonitor
    
    Pass application into signal as expected.  Be sure to reference
    it across the call, since removal from the hash unrefs it.

commit 1e41f869de4bca9f8b692a5536d309c498636e84
Author: Colin Walters <walters@verbum.org>
Date:   Wed Aug 12 19:37:47 2009 -0400

    Bug 591624 - dash: Rename searchId to searchTimeoutId
    
    From review comments.

commit 28517e4c348b1510514aeff20f31920191c67b49
Author: Colin Walters <walters@verbum.org>
Date:   Wed Aug 12 12:29:33 2009 -0400

    places: Use consistent variable for bookmark monitor timeout
    
    We had an inconsistent usage of the timeout variable name.  Fix
    it to consistently be a member property of this.

commit 619066780f6af70aa5001e82cf372432c401fd51
Author: Colin Walters <walters@verbum.org>
Date:   Wed Aug 12 17:07:00 2009 -0400

    dash: Clean up search pane creation
    
    There was some weirdness relating to when the search pane is shown
    in a timeout, and how that relates to setSearch.  Instead of doing
    this in the timeout, just call setSearch() in the timeout.  The
    pane hide/show state is directly controlled from the handler.

commit 1636e6c18732d10fc89ad8810a0859fe36f8e54c
Author: Colin Walters <walters@verbum.org>
Date:   Wed Aug 12 19:32:50 2009 -0400

    dash: Don't expand displayControl
    
    It shouldn't take up more space than it needs.

commit d17c94f9b98a76b2ff4041e94c95f22da7ba8254
Author: Colin Walters <walters@verbum.org>
Date:   Wed Aug 12 13:32:54 2009 -0400

    Initialize ShellAppMonitor/ShellAppSystem at predicatable time
    
    Currently ShellAppMonitor relies on all the .desktop files being
    loaded.  We should initialize it very early to ensure that anything
    that uses it has up-to-date information right away.

commit 4b47803162f4a692c6904a911200f224431d843d
Author: Dan Winship <danw@gnome.org>
Date:   Wed Aug 12 15:53:42 2009 -0400

    Implement the multi-window highlight on WellDisplayItem

commit 15a3f39f65e9cecadd2444cc515ff45f864a1b3a
Author: Dan Winship <danw@gnome.org>
Date:   Wed Aug 12 16:05:25 2009 -0400

    Add finer-grained signals to ShellAppMonitor, update appDisplay

commit f7d85e618cfe5afd1e46892dc7e47b3b937210bd
Author: Colin Walters <walters@verbum.org>
Date:   Wed Aug 12 16:33:39 2009 -0400

    Bug591246 - Minor code-cosmetic fixes
    
    Missed these two in original commit.

commit f00500d3d5a9528735719e503e434f8ea42750c7
Author: Colin Walters <walters@verbum.org>
Date:   Sun Aug 9 19:48:54 2009 -0400

    Bug 591246 - Move towards shell-black02 mockup
    
    Remove the last use of passing width into Dash by having the
    Pane with the previews scaling dynamically and relying on
    Clutter scaling.
    
    If we only have one workspace, don't display a selection frame
    for it.
    
    Rework Dash into a searchArea and sectionArea, which get
    explicitly sized by overlay.js.  We use the workspaces size
    to choose the size of those dash areas.
    
    Switch dash colors/boxes etc. to ones from shell-black02.
    
    Add a gradient to the panel.
    
    Add a magnifier.svg for use in search.

commit 25a5da074cb3b3b36de05cb7d5665a37020a9dba
Author: Colin Walters <walters@verbum.org>
Date:   Sun Aug 9 21:42:41 2009 -0400

    ShellTextureCache: Don't try to scale pixbuf to 0 size
    
    If we pass in -1 for both width and height, we'd attempt
    to scale the image to 0x0.  Don't do that; just avoid
    scaling the pixbuf and let ClutterTexture do it for us.

commit 43d737c663dbea43bd558189fe43b65f90b70bae
Author: Colin Walters <walters@verbum.org>
Date:   Wed Aug 12 15:09:56 2009 -0400

    Ensure dash is raised over workspaces
    
    Having the workspace actor on top of the dash broke drag and drop.

commit 789e24b59a07f20d1658377ebed57567ca7d4299
Author: Colin Walters <walters@verbum.org>
Date:   Tue Aug 11 14:54:51 2009 -0400

    ShellAppMonitor: Correctly handle transients
    
    If looking up the application for a transient window, try look up
    its transient source.  Ignore transients for the purposes of counting
    open windows.

commit b51bcf3e2b8c90d34a2fcf7726b11156c2241377
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Wed Aug 12 01:30:58 2009 +0200

    Catch exception trying to create a preview of an unknown image type

commit babb13f6035240e402ecda3a946ea4c69d0e4470
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Tue Aug 11 18:10:25 2009 -0400

    Remove unused button width and height arguments and specify button height explicitly
    
    minWidth and minHeight arguments of the Button class were not used.
    
    Panel buttons need their height to be explicitly specified as
    PANEL_HEIGHT to take up full panel height. This fixes the problem with the
    user not being able to click at the very top edge of the panel to activate
    the button.

commit 21ef33df65805c424459861bf1b4f057636df96b
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Tue Aug 11 16:39:43 2009 -0400

    Replace libgnomegnomeui with gnome-desktop in gnome-shell-build-setup.sh
    
    With the recent switch to use libgnome-desktop for thumbnailing instead
    of libngomeui, we should require that instead.
    
    (Updated for Debian/Ubuntu, Fedora, OpenSuSE, unable to figure out
    the right name for Mandriva in a quick web search.)

commit 83b1cedb86d04cc9d584f39244426e99bdd20559
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Tue Aug 11 14:21:13 2009 -0400

    Use distinct filenames for all code generation tempories
    
    Because of a history of cut and paste, the different enumeration
    and marshal generation generation shell snippets were using the
    same temporary file names. This caused problems for parallel
    builds.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=591474

commit 36ee36283ae126f6b597c999e1f82cf6ce521095
Author: Colin Walters <walters@verbum.org>
Date:   Tue Aug 11 13:35:08 2009 -0400

    ShellAppMonitor: Add static to definition of sequence_ref

commit 74eac2187086b82b001f88bec64d779fd92ab63c
Author: Colin Walters <walters@verbum.org>
Date:   Tue Aug 11 11:32:58 2009 -0400

    Add application menu area to panel
    
    This is a start at the "Active Appliction Item" component of the
    shell design.  Currently we just show the currently focused
    application.  When launching a new application, we show that as well.
    
    The implementation here is not complete; basically when launching
    we de-focus the active one, and the application well shows the
    most recent startup sequence.
    
    This kind of fails in the case of multiple sequences, and we
    also don't correctly de-focus the current window in other
    launch paths.

commit e330c5ea17cad7481d485fbd4b2ba5256e3ace09
Author: Colin Walters <walters@verbum.org>
Date:   Tue Aug 11 11:16:25 2009 -0400

    panel: Switch to fully dynamic layout
    
    There was lots of fixed positioning in the Panel; now it is completely
    dynamic, and width/height is driven from main.js.  We still have a
    global constant Panel.PANEL_HEIGHT, but this is a big step towards
    eliminating it.
    
    Also, this avoids overdraw in the "way too many tray icons" case.  The
    clock will shift left.

commit e6644b7feba63a67be95ef2ff8331950d2f74e68
Author: Dan Winship <danw@gnome.org>
Date:   Mon Aug 10 13:57:10 2009 -0400

    Use GnomeDesktopThumbnailFactory instead of GnomeThumbnailFactory
    
    http://bugzilla.gnome.org/show_bug.cgi?id=591008

commit 47af454115dc204e7e04e89081f01034aa292ae3
Author: Sander Dijkhuis <sander.dijkhuis@gmail.com>
Date:   Tue Aug 11 13:46:10 2009 +0200

    Bug 591437 - Rename overlay.js to overview.js
    
    Replace 'overlay' with the more descriptive name 'overview'
    where the Activities Overview is meant. Call it Overview
    (capitalized) in code comments.
    
    The overlay-group and overlay-key provided by Mutter are not
    affected, since they may be used for other components than
    the Activities Overview.

commit 1f31e80c470db30e1569443629dcf8b9ef1fcbfb
Author: Sander Dijkhuis <sander.dijkhuis@gmail.com>
Date:   Tue Aug 11 00:31:39 2009 +0200

    Bug 584609 - Zoom the whole overlay when showing or hiding
    
    Instead of only transforming the active workspace, create a
    zooming effect when showing or hiding the overlay. This makes
    the transitions simpler: the workspaces are now fixed to the
    overlay actor group and will not slide over the Dash.
    
    overlay.js: Add zoom animations, fade in/out Dash during those,
        remove obsolete Dash clipping and stacking logic, add public
        get[Scale|Position]() and getZoomedIn[Scale|Position]()
        functions.
    workspaces.js: Remove zoom animations, add fade animations for
        the remove button, add helper functions for the overlay
        zooming, keep the movement of windows linear to that of
        their workspaces, remove the updatePosition() and
        updateInOverlay() functions and fullSize variables that
        were left from the old overlay design.

commit b0c7dac56b5772d9bade4c8db398acb312b30386
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Mon Aug 10 18:36:54 2009 -0400

    Distribute places.js
    
    Add places.js to the Makefile.am

commit e5aa67421db30d11315ac06a9f63a006488eb1be
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Mon Aug 10 18:18:29 2009 -0400

    Fix distcheck-hook for missing distributed JS files
    
    Use git ls-files not git-ls-files, since git-ls-files is no longer
    on the path with Git 1.6

commit fdd50f09ddc4bdcb151f615cd9ba7735913896da
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Mon Aug 10 17:47:52 2009 -0400

    Don't dist gnome-shell.in
    
    We only want to include gnome-shell.in.in in the tarball. If we
    include gnome-shell.in, then it won't be regenerated, and paths
    won't be correct for the install location.

commit 26a074588b59784cb2c7dad30225b457474964c0
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sun Aug 9 09:57:39 2009 -0400

    Bug 591114 - Remove expanded background
    
    The "expanded background" that is behind the workspaces etc. in the overview
    should be removed.  It isn't in the designs, it is distracting, and it breaks
    the overview metaphor.
    
    At least temporarily, just make the background of the overview black.
    Change the pane popup to black as well, but keep a blue border so that
    it is visually distinguished from the background.
    
    Based on a patch by Colin Walters, with fixes from  Marina Zhurakhinskaya.

commit 00cc32d95a9f793a20e2ebdf56bd57e2807a30ac
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Fri Aug 7 18:22:05 2009 -0400

    Ignore clicks on hot corner during transition
    
    It's both intuitive to go to the corner of the screen
    and click the activities button at the same time.
    
    Both actions bring up the overlay,  but combined
    they cancel each other out.  This commit makes
    clicking the hot corner not cancel the act of
    going to the hot corner.
    
    Based on a patch from Ray Strode.

commit df8f727bbab6330daf66035248d40bad4d9b59ce
Author: Dan Winship <danw@gnome.org>
Date:   Mon Aug 10 13:56:34 2009 -0400

    Add .desktop file to .gitignore

commit de8084ed40e37a723141fabe6fb548742b1fb9f4
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Mon Aug 10 12:13:09 2009 -0400

    Specify the clutter-1.0 branch of Clutter
    
    For now, we want to stick to the stable branch of clutter rather
    than tracking new developments. Now that Clutter has branched for
    1.0 switch our moduleset to the clutter-1.0 branch.

commit 9fa88caded499aa3565e712a632326250c437fcf
Author: Colin Walters <walters@verbum.org>
Date:   Mon Aug 10 11:18:19 2009 -0400

    Bug 591316 - Fix bad notify:: parameters
    
    We weren't using them, and they were wrong.

commit 06d17e08c06acb3168750251e85e76c51171a1b5
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Aug 8 00:45:06 2009 -0400

    Reposition windows when scaling workspaces
    
    The scale of windows within a workspace is determined by the
    scale of the workspace since we never scale a window bigger
    than the original size of the window. So when we rescale
    workspaces we have to rerun Workspace.positionWindows().
    
    http://bugzilla.gnome.org/show_bug.cgi?id=591124

commit 4830808d2fb34f7927e086faf570f4fbdf3a717e
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Aug 8 00:41:46 2009 -0400

    When fading in window icons, use the final position not current position
    
    The onComplete when positioning windows may come before the
    final stage of the workspace positioning animation. So we can't
    use actor.get_transformed_position() to figure out where to put
    the icons. Compute the final position manually ourselves instead.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=591123

commit 02ee6f69b3b0f048a3f0a04bb61d831e13d06fa5
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Aug 8 00:31:47 2009 -0400

    Fix updating of workspace frame actor
    
    Both the position and size of the frame actor depend on the scale
    of the workspace, so update them both when the scale changes.
    
    On the other hand, the the frame actor doesn't need to be
    repositioned when the workspace moves (since it is relative to the
    workspace). We do base the frame  position of the desktop actor, but
    that will presumably stay fixed (at 0,0) in most all cases.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=591122

commit 5d0808e1c0c15a10962e3bf075025dd4aec181b6
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Aug 8 00:36:59 2009 -0400

    Use the size of the window, not of the clone to position windows
    
    When Workspace._positionWindows is called, the clone might nto
    yet have its final size (because of the clone is is a clone of
    the window texture and the window texture isn't updated until
    right before painting.) So get the size from the MetaWindow
    instead ... the MetaWindow size is determined synchronously when
    the window is managed.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=590741

commit 1f864fba7fdd1453bf1d91b45e8660d84736ee25
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Sun Aug 9 19:19:07 2009 +0200

    Show bookmarks with spaces in the name correctly
    
    Take everything in the ~/.gtk-bookmark lines after the URI
    as label, not only the first word. (eg. if there's a line like
    "file:///home/rainct/Ubuntu%20One Ubuntu One", now "Ubuntu One"
    is taken as the label, instead of only "Ubuntu").

commit cc83aee40153b59a4a691a575a1841e259713970
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Sun Aug 9 19:00:00 2009 +0200

    Show "Network" item on Ubuntu
    
    If gnome-network-scheme.desktop can't be found, look for
    network-scheme.desktop (which is used, for example, on
    Ubuntu).

commit 185ccecec1844ccf9afd9574f2b2abe463789d8b
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Sun Aug 9 18:32:22 2009 +0200

    Make <AppSystem>.load_from_desktop_file() raise an exception again
    
    Pass the error variable to g_key_file_load_from_data_dirs in
    Shell.AppSystem.get_default().load_from_desktop_file again, and
    use a try/catch in places.js.

commit f96193dc8ca1237f191831b8e5578f1618e2f5e9
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Fri Aug 7 23:34:36 2009 +0200

    Thumbnail generation without GtkRecentlyUsed in TextureCache
    
    This fixes Shell.TextureCache.get_default().load_thumbnail so
    that it can be used to get thumbnails (with an icon matching
    the mimetype or, in the worst case, gtk-file, as fallback) for
    items which don't have a GtkRecentlyUsed object. This is needed
    for the Zeitgeist integration.

commit 205c57d6af3913b3f98c239a43edaada38451348
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Sun Aug 9 17:39:17 2009 +0200

    Fix FTBFS and crash triggered by <AppSystem>.load_from_desktop_file()
    
    - Avoid error '"iconname" may be used uninitialized in this function'
      by initializing said variable to NULL.
    
    - Define shell_util_get_file_description as static (like the other
      similar functions) to avoid another compiler error.
    
    - Don't save errors from g_key_file_load_from_data_dirs into the
      variable "error" (ie. pass NULL to it instead). Without this,
      gnome-shell crashes if the key file can't be found (with message
      "Error invoking Shell.load_from_desktop_file: Valid key file could
      not be found in search dirs").
    
    - Check the result of the load_from_desktop_file() call in places.js,
      as it may be null.

commit 5c97d2188909ca0d08a1d5f3b89d26040d2682d7
Author: Colin Walters <walters@verbum.org>
Date:   Sat Aug 8 20:07:16 2009 -0400

    Fix comment header for shell_texture_cache_load_uri

commit e323593f4a4d8278c744ddc8153021cbf50f553a
Author: Colin Walters <walters@verbum.org>
Date:   Thu Aug 6 09:06:33 2009 -0400

    Add Places
    
    Implement the Places mockup.  This commit adds a link to Home,
    Network, Connect to server, and the GTK+ bookmarks.

commit 3bae3fa203bbb8f04774b8e66fbab08613569780
Author: Colin Walters <walters@verbum.org>
Date:   Thu Jul 30 00:22:18 2009 -0400

    Add shell-uri-util.[ch]; functions ported from gnome-panel for URIs
    
    These two functions are useful for the Places implementation to
    get name/icon for a desktop-related URI such as Documents or
    Downloads.

commit 9bd22dc033caabb086621c0deaec0cc854254ed2
Author: Colin Walters <walters@verbum.org>
Date:   Wed Aug 5 11:27:06 2009 -0400

    ShellAppSystem: Support loading a .desktop file directly
    
    Previously, ShellAppSystem only loaded (and cached) the set of
    .desktop files from applications.menu and settings.menu, using
    the gnome-menus library.  The ShellAppInfo structure was
    a "hidden typedef" for GMenuTreeEntry.
    
    But we need to support loading an arbitrary .desktop file.  Thus,
    refactor the ShellAppInfo into a real struct, with a refcount,
    and allow it to point to either a GMenuTreeEntry or a GKeyFile.
    
    Also, in the case where we fail to lookup an icon for an
    application, ensure we return a 0 opacity texture.

commit 5064d873bb473f99609e48b9b52844c7b3f0d4e0
Author: Colin Walters <walters@verbum.org>
Date:   Thu Jul 30 00:17:25 2009 -0400

    Add shell_texture_cache_load_from_name
    
    Utility function to load a texture for a themed icon from a
    string name.

commit 4495f98dcec83c2726cedf9aba5afd3c1d97ddea
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Sun Aug 9 03:34:35 2009 +0200

    Fix negative height request in WellGrid
    
    When WellGrid had no child it was doing a division by zero,
    which screwed up the calculation for the height request and
    having it ask for a negative number. This commit fixes this
    by always requesting 0 in this case.

commit 5a75b44f71ae8709dd5e7c8960fc08f6bbdde68f
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Sat Aug 8 22:10:40 2009 +0200

    Consider height when positioning windows in the overlay
    
    I've done some little modifications to the window positioning code
    used in the overlay so that it considers the height of the windows
    and they don't overlap or get out of the workspace.
    
    I've also raised the hard-coded scales a bit to have the windows as
    big as possible without overlapping (this could use some testing on
    a non-widescreen monitor).

commit ebd6f4bc8fa0539cbe7520e8cee586a512e73fc9
Author: Colin Walters <walters@verbum.org>
Date:   Thu Aug 6 15:39:09 2009 -0400

    appDisplay: Reimplement well layout to be width-independent
    
    Use ShellGenericContainer to implement a fully dynamic layout
    for the application well.  It's still fixed to 4 columns by default,
    but no longer requires a fixed width to be passed in on start.
    
    With another chunk of work, it could likely try to adjust to
    the case where we can only fit fewer than 4 items in the well.
    
    Remove the border highlighting on mouseover, since that caused
    reallocations, and the grid layout isn't trivial.
    
    Delete the unused shell_global_get_word_with function.

commit 687a87d3d090283b0404b44a2159bd063f4fa20c
Author: Colin Walters <walters@verbum.org>
Date:   Sat Aug 8 10:03:08 2009 -0400

    Define stable ordering for application favorites and running apps
    
    For both of these, because of optimizations a few patches ago, we
    ended up relying on hash table ordering which caused instability
    in the application well among other things. Define an ordering
    for both.
    
    The favorites is just the order of the GConf keys, and new items
    get appended.  In the future we should allow insertion at any
    point which the grid could use.
    
    For running applications order, define a new "initially_seen_sequence"
    transient variable which is just an monotonically incrementing
    integer assigned to an application for the first time we saw it
    running in this session.  When an application is closed, it's reset.

commit 464842ea36e88de94135609fcdfdfe3240e64076
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Aug 8 10:44:22 2009 -0400

    Change to $HOME before launching gnome-panel again
    
    When exiting from --replace mode, we want to start the new
    gnome-panel with a reasonable working directory so that if, you say,
    open a terminal from it it doesn't start off in the gnome-shell
    directory.
    
    (gnome-shell itself is running in $HOME because mutter changes
    directory itself at startup.)
    
    Reported by Mathieu Bridon
    http://bugzilla.gnome.org/show_bug.cgi?id=591145

commit 91911da302a2e1fc44a237c47ae41a8302d771d8
Author: Colin Walters <walters@verbum.org>
Date:   Sat Aug 8 11:57:09 2009 -0400

    Bug 590985 - Fix frequent apps list being empty
    
    We shouldn't append .desktop again, that was a leftover from
    the old WM_CLASS based application code.

commit 3c87d7674119038fa868c49fa874309e2d16a210
Author: Colin Walters <walters@verbum.org>
Date:   Thu Aug 6 19:34:12 2009 -0400

    dnd: Fix used of undefined variables
    
    The variables this._yOffset and this._xOffset are included in the
    drop coordinates, but as far as I can tell never defined.  Looking
    back on the commit that introduced this code, they weren't removed
    from anywhere else either.
    
    The drop coordinates seem correct without them, so just delete them.

commit ccafa53bd62a63d81adc20f554518ac2a6019204
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Fri Aug 7 16:45:35 2009 -0400

    Enable hot corner for triggering the overview mode
    
    Use the 1x1 actor in the top left corner of the screen to enter and leave
    the overview mode by just moving the mouse over to it.
    
    No delay is used for triggering the hot corner because a delay significant
    enough to allow moving away the mouse to avoid triggering it ruins the desired
    flow when triggering the hot corner is actually intended.
    
    The hot corner is not enabled in the full screen mode because the application
    or the virtual system might have a hot corner of its own in that place.

commit 4e23f4cfc9ccb7cfdb31a1462b9344c736981ab7
Author: Colin Walters <walters@verbum.org>
Date:   Fri Aug 7 13:30:53 2009 -0400

    Bug 591077 - Hide overlay when activating an application
    
    It's easier to explicitly call Main.overlay.hide() instead
    of chaining activation signals, this got lost in a mix between
    the big dash rewrite and ongoing changes to the Application well.

commit 544a80fc6ea0afd2ce2a020f5e7a33f95b4a114f
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri Aug 7 13:10:39 2009 -0400

    Add a desktop file for gnome-shell
    
    Add a desktop file for GNOME Shell. This allows making GNOME Shell
    your desktop default by adding it to your auto-start items.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=591089

commit 4d52c1095816bfba51715b5e836f29483960ea13
Author: Colin Walters <walters@verbum.org>
Date:   Thu Jul 23 17:36:41 2009 -0400

    Bug 589316 - Add application/window icon to overlay windows
    
    To better distinguish between vast fields of white of which many
    windows are composed, add the application icon to the bottom
    right of the window.
    
    We fade them in to avoid an abrupt feel.  The icons are in the
    workspaces group, not individual workspace groups to avoid
    having to adjust them when we scale the workspaces.
    
    Replace Workspace._lookupIndexAndClone with Workspace.lookupIndex,
    and make the caller go from index to clone, or clone and index.

commit c23b9ee1920567d8317dac82db1f8702bc017eca
Author: Colin Walters <walters@verbum.org>
Date:   Thu Jul 23 17:34:01 2009 -0400

    dnd: Emit drag-end in after snapback complete
    
    Emit the signal at the correct time to take action
    on snapback (i.e. after the end of the snapback animation).
    
    Add a boolean to the drag-end signal saying whether it was accepted,
    which ensures consumers know whether the drag was successful.

commit 296e0c2054964bb18bca0dd91c1cabf53ac7f84e
Author: Milan Bouchet-Valat <nalimilan@club.fr>
Date:   Fri Aug 7 15:28:05 2009 +0200

    Remove residual references to libXScrnSaver in required packages
    
    See 5527fa2bc34f665f02d7ca63de3fbf2a3e42e2eb. Now that we don't use it at all, no need to install the package either.

commit 5527fa2bc34f665f02d7ca63de3fbf2a3e42e2eb
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Aug 6 18:26:57 2009 -0400

    Remove residual references to libXScrnSaver
    
    Now that we are no longer using the screen saver X extension, remove the check
    for the .pc file and the include of the header file.

commit 59532ab0c738f28e74df1f0f885faf05a1bd187d
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Aug 6 17:59:20 2009 -0400

    Check the result of fgets() to deal with warn_unused_result
    
    Some C library versions have __attribute__((warn_unused_result)) on
    fgets(). We really don't care since we are just throwing the data
    away, but check the result anyways.

commit ad5a9d8f8b95c4a6755948531992abee5dfde7de
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Aug 6 16:56:06 2009 -0400

    Turn on "silent-rules" for automake >= 1.11
    
    When AM_SILENT_RULES is available, use it to strip down the output
    of make so we can see what's important rather than gigantic long
    compile lines.
    
    Use 'make V=1' to see everything again.
    
    Fix a couple of places where we had 'cmp' rather than 'cmp' and were
    getting standard-error spew about missing files when generating
    enum-types.h files.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=591002

commit d2436346023de303ed8e96b43671ad5ff3de3e4e
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Aug 6 16:39:15 2009 -0400

    Fix compiler warnings
    
    src/shell-global.c src/shell-process.c: Remove dead code
    src/shell-texture-cache.c src/shell-status-menu.c: Remove
      <foo>_new() functions that weren't in the header file and
      not used anyways:
    src/shell-texture-cache.[ch]: Fix a prototype that used ()
      when (void) was intended.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=590998

commit e89d3c7b07b174cd67461ddbdae7e671a336a709
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Aug 6 16:26:45 2009 -0400

    Turn on -Werror and -Wmissing-prototypes
    
    When compiling with GCC turn on -Wmissing-prototypes, and by default
    turn on -Werror as well.
    
    As with most gnome modules:
    
     --enable-compile-warnings=minimum/maximum
    
    Can be used to disable -Werror (they are the same)
    
    http://bugzilla.gnome.org/show_bug.cgi?id=590998

commit 354112fb415ca174c99b59d5eb76e4c8006ee5ee
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Aug 6 15:14:57 2009 -0400

    Tweak sizing of windows in overview
    
    Tweak arrangements with 2,3,4,5 windows in a desktop so:
    
     - Windows are a bit bigger
     - All windows for 5 windows are equally sized instead of making
       the windows in the bottom row larger
    
    This does cause some more problems with tall windows overlapping
    or running off the edge of the workspace, but it's an overall
    small improvement to the behavior.

commit f7746ec3f668566e7c9fc429ce0070508b74f41a
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Aug 6 15:07:55 2009 -0400

    Initialize GStreamer from shell_recorder_init()
    
    Move the GStreamer initialization from the Javascript code into
    shell_recorder_init(). This avoids a dependency on the GStreamer
    introspection information and will make it easier to drop the
    gir-repository module dependency.

commit 03e0fe1e954dc950f43b2143d9514d91621ad5a7
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Thu Aug 6 19:51:11 2009 +0200

    Replace _getIndexOfDisplayedActor with a function in OverflowList
    
    Said function in genericDisplay.js was returning the index of the
    actor based upon its position in the entire list, while everywhere
    else indexes relative to the currently displayed page were used.
    
    This made actions in the details pane break (bug #590949), so I
    replace it with a new function in shell-overflow-list.c,
    shell_overflow_list_get_actor_index, which is page based.

commit 22c98e6240a78899d285325d7da0439d9254abdc
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Thu Aug 6 17:25:58 2009 +0200

    Fix incorrect variable name: mimeType -> this.mimeType.

commit 90979faedd70d569f16f56a546cf330dc116d636
Author: Colin Walters <walters@verbum.org>
Date:   Wed Aug 5 20:07:30 2009 -0400

    ShellAppMonitor: Fix case of not seeing apps being closed
    
    Remove the app from the window_to_app hash *before* emitting
    CHANGED, otherwise a signal handler could see stale data.

commit 21858d928a432486dd2180498879b8a51d969288
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Thu Aug 6 02:04:04 2009 +0200

    Clear text in the run dialog when it's hidden with escape

commit be95ca553a6b3e55b614bb120d226c5e18c319dc
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Thu Aug 6 01:54:22 2009 +0200

    Fix indentation issues in altTab.js, plus minor cleanup in some other files.

commit c4b424870780b9a19be0d80288a7b0273518f81d
Author: Colin Walters <walters@verbum.org>
Date:   Sun Aug 2 15:49:10 2009 -0400

    Bug 589086 - Fix non-integer positioning in altTab
    
    Non-integer makes fonts look awful.  Fix this by rounding
    down.

commit 91353c6d603bfcc05f7ebeeb52b8916deb955774
Author: Colin Walters <walters@verbum.org>
Date:   Tue Aug 4 16:08:59 2009 -0400

    Add ShellGenericContainer, which makes it possible to write containers in JS
    
    Subclass ClutterGroup (to avoid having to implement all of dispose,
    raise, lower, add, etc.), and have it proxy the allocation requests
    out into signals.  We have to group up the two out parameters
    into a struct unfortunately.
    
    Included example code in the C file source for now.

commit 31851cbc32d3bede48197900f55f8a346ee823f4
Author: Dan Winship <danw@gnome.org>
Date:   Wed Aug 5 08:59:57 2009 -0400

    Install missing svg files. #590814

commit 41f6e8ef86470faa5be07dcd4b0029a1e3806385
Author: Dan Winship <danw@gnome.org>
Date:   Wed Aug 5 08:58:35 2009 -0400

    Add dash.js to js/ui/Makefile.am. #590813

commit 85b4b97b7b968123e31f93b125d644b1800c44b8
Author: Colin Walters <walters@verbum.org>
Date:   Fri Jul 31 22:12:01 2009 -0400

    Rewrite Dash, remove hardcoded width/height from GenericDisplay
    
    This patch is a near-total rewrite of the Dash.  First, the dash
    code moves into a separate file, dash.js.
    
    Inside dash.js, the components are more broken up into separate
    classes; in particular there's now a Pane class and a MoreLink
    class.  Instead of each section of the dash, when activated,
    attempting to close all N-1 other sections, instead there
    is the concept of a single "active pane", and when e.g. activating
    the More link for documents, if we know there's an active pane
    which happens to be the apps, close it.
    
    Many redundant containers were removed from the dash, and all
    manual width, height and x/y offsets are entirely gone.  We move
    the visual apperance closer to the design by using the view-more.svg,
    etc.
    
    To complete the removal of height/width calculations from the dash,
    we also had to do the same for GenericDisplay.  Also clean up
    the positioning inside overlay.js so calculation of children's
    positioning is inside a single function that flows from screen.width
    and screen.height, so in the future we can stop passing the width
    into the Dash constructor and call this once and work on screen
    resizing.

commit 2726fdb831345c51a632e72e56c0ac20b03d172e
Author: Colin Walters <walters@verbum.org>
Date:   Thu Jul 30 15:40:26 2009 -0400

    Bug 588343 - Major rework of window monitoring to be application-based
    
    The previous application monitoring code was originally designed
    to be based on WM_CLASS, which was then resolved on a server.
    We have that resolution code locally now, so instead
    of saving WM_CLASS data, save application IDs.
    
    Also, inside the WM we have a much better
    infrastructure for tracking windows.  In particular, rather
    than polling, we can just watch for focus notification on
    the display, and window add/remove.
    
    Instead of polling XScreensaver, use DBus to watch org.gnome.Session
    which already has an idle time watch.
    
    Now there is no polling at all inside the monitor.

commit b1150eb147ebf33ccde9199afedd569d9e89bda7
Author: Colin Walters <walters@verbum.org>
Date:   Tue Aug 4 12:28:12 2009 -0400

    Bug 589276 - Use 0 opacity while loading textures, preserve aspect ratio by default
    
    When we fail to load a texture, make sure we keep it 0 opacity to avoid
    a white square.  Also this is useful to avoid the square while loading
    a texture asynchronously.

commit 898d76af53623e8898279cc4326cfb6ef97c9a9f
Author: Colin Walters <walters@verbum.org>
Date:   Tue Aug 4 09:49:03 2009 -0400

    lookingGlass: Add hierarchy list and property inspector
    
    Add a Notebook class which we then use to pack in separate Hierarchy
    and Properties tabs.
    
    Split out the inspector into its own class to avoid bloat in the
    main class.

commit 7c26303b25a04a9da3dd1031c84e477a3c55f4b3
Author: Halton Huo <halton.huo@sun.com>
Date:   Tue Aug 4 09:54:42 2009 -0400

    lookingGlass: Add to Makefile.am
    
    Signed-off-by: Colin Walters <walters@verbum.org>

commit 902956ca0d1e0cd3ee7b1a73b24928f20795db40
Author: Colin Walters <walters@verbum.org>
Date:   Tue Aug 4 09:48:15 2009 -0400

    lookingGlass: Draw a red border around target actor

commit 3429abff40a91f39d15f439007578261857fc105
Author: Colin Walters <walters@verbum.org>
Date:   Tue Aug 4 01:37:54 2009 -0400

    lookingGlass: Faster history save, avoid empty lines
    
    5 seconds is should help ensure we lose work less often on
    Alt-f2 restart.
    
    Avoid saving empty lines to history, and filter them out if
    we find them.
    
    Minor fixes for the still-not-enabled inspector.

commit 61b28c5c7d0cff4da75b764f6963378fbd971519
Author: Colin Walters <walters@verbum.org>
Date:   Sat Aug 1 22:11:37 2009 -0400

    Adjust tray spacing to cope with many icons
    
    This patch attempts to adjust if we have many tray icons; currently
    the simple algorithm is to drop down to a spacing of 8 if we have
    more than 6.  In the future we should fix the panel layout so that
    the clock moves to the side.

commit e84e842c1e6e9d35b0f5c2e915a11c32da707d60
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Tue Aug 4 02:36:53 2009 +0200

    Fix 'redeclaration of global' error in lookingGlass.js.

commit 0792f8d4a3b219e6f1ee766a4d16bffe1123d495
Author: Colin Walters <walters@verbum.org>
Date:   Mon Aug 3 20:21:07 2009 -0400

    lookingGlass: Fix spacing and line appearance

commit 52ae75d4b8d3d5c1129f2d9db862df197f634ab5
Author: Colin Walters <walters@verbum.org>
Date:   Sun Aug 2 03:46:01 2009 -0400

    LookingGlass - JavaScript prompt and interactive Clutter controller
    
    Add a dropdown pane triggered by Alt-F2, "lg" which supports interactive
    JavaScript evaluation, saving/restoring a history file, as well as
    an inspector element to pick by using the mouse.

commit 224538c885441a15602be15f2baa4c162e2133ec
Author: Colin Walters <walters@verbum.org>
Date:   Mon Aug 3 17:52:45 2009 -0400

    Cleanups for runDialog
    
    Using an internal boolean rather than the visibility property seems
    more reliable to me.  Add a list of internal functions rather than
    an if/else chain, so for example an extension could hook something on.
    
    Delete the javascript evaluator in favor of the upcoming lookingGlass.js.

commit 45dc34bfa2163b409affdc17fbed495f0b571aa2
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Mon Aug 3 15:12:03 2009 -0400

    Add mesa-utils to build-setup.sh for Debian/Utils
    
    At least on Ubuntu 9.04 and Debian Squeeze, glxinfo is in the
    mesa-utils package, so pull that in.
    
    Reported by Flamarion Jorge
    http://bugzilla.gnome.org/show_bug.cgi?id=590480

commit 0b801a0d2dcecb77334433a604a26f1f202d10b9
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Sun Aug 2 20:06:32 2009 +0200

    Fix the amount of fitting elements calculation in the OverflowList
    
    Before this in certain conditions (depending on the available
    height) two items could be drawn in the same position. Bug #590278.

commit d7f5fd5d24b3e43bdad807201d89f9af44a82780
Author: Colin Walters <walters@verbum.org>
Date:   Sat Aug 1 21:46:02 2009 -0400

    Give the runDialog a rounded corner
    
    Just makes things a bit nicer looking.

commit 026f014d32f70c425500e8b7b9071b6470c85b19
Author: Colin Walters <walters@verbum.org>
Date:   Fri Jul 31 17:20:26 2009 -0400

    Bug 589937 - Raise clone on window activation
    
    We had duplicate code in appDisplay and workspaces for handling activating
    a window; unify that inside workspaces, add an API to Main.overlay to
    access it from both contexts.
    
    Also, explicitly raise the clone we're activating to the top
    before starting the animation to leave the overlay.

commit a439a58f13a7d5744bfb23e30cef0ef3b7cfd3ca
Author: Jon Nettleton <jon.nettleton@gmail.com>
Date:   Fri Jul 31 17:40:46 2009 -0400

    Remove taskpanel
    
    The new design doesn't have the task panel at the bottom; remove it.
    
    Signed-off-by: Colin Walters <walters@verbum.org>

commit 29ffa46d08c868c2d8cf76e6a69cd65faa666570
Author: Colin Walters <walters@verbum.org>
Date:   Fri Jul 31 16:32:24 2009 -0400

    Move drawing functions from shell-global into new shell-drawing.c file
    
    Just to avoid shell-global.c bloat.

commit 0a1aac862f0f7943843e621a11c2f579bfaac647
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Fri Jul 31 16:08:39 2009 +0200

    Fix details pane repositioning
    
    Two calls to _repositionDetails() were done too early,
    before the visibility of the results pane had changed,
    so they had no effect. Thus when a search was done while
    a details pane was active, the pane with the results was
    hidden by the details pane.
    
    In addition to fixing this, move the two remaining calls to
    the line after changing the results pane's visibility
    to make it clearer why the calls are there.

commit f7fff8364786f25cb5ee8de6cd470bd0dc9f19af
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Wed Jul 29 17:47:50 2009 -0400

    Fix showing small item previews
    
    Don't use a clone of an actor that's not part of the scene graph for the
    item previews. This patch fixes previews in the details pane for documents
    for which we don't have full previews and for applications.
    
    Use create_icon_texture() from AppInfo instead of looking up the file
    for gicon when creating an application icon for the details pane.

commit 66e48da7cb98e43a42434f3b6e67dfc1dfda5d14
Author: Colin Walters <walters@verbum.org>
Date:   Wed Jul 29 15:05:05 2009 -0400

    Bug 589260 - Don't replace panel in Xephyr mode
    
    Avoid grabbing the org.gnome.Panel name if we're running in
    Xephyr, since that affects the main desktop.

commit 93ea4b07c163532dc44fbfae14b832bf43e6ad31
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Wed Jul 29 23:36:48 2009 +0200

    Add appInfo.get_desktop_file_path method
    
    Add shell_app_info_get_desktop_file_path, matching *_get_executable,
    *_get_id, etc. This is useful for Zeitgeist.

commit 77c92d75d5d102d7d4f66bc2bed622c83c51b784
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Wed Jul 29 19:35:11 2009 +0200

    Toggle the info pane when clicking the info icon (#587550)
    
    Now clicking on the information icon of the same item a second
    time will hide the details pane. Clicking it another time will
    show it again, etc.
    
    This is achieved by adding a 'toggle-details' signal which
    switches the visibility of the details pane.
    
    Other than the necessary changes, function _selectIndex (in
    genericDisplay.js) has been restructured a bit to avoid
    duplicating checks.

commit 119516424db1f7d43f0a40e0ebce6c7a8dd02a69
Author: Colin Walters <walters@verbum.org>
Date:   Wed Jul 29 13:00:11 2009 -0400

    Update to using Clutter 1.0
    
    Change the pkg-config and .gir requirements.

commit f3efbf432f04dcd4fcbd1c87a1873034a2cd2afa
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Sat Jul 25 17:00:37 2009 +0200

    Replace lastVisited method in DocInfo with timestamp attribute
    
    This is not only more consistent with the name, uri and
    mimeType attributes, but makes adding Zeitgeist support easier.

commit 04538c65b5e7c0bb0e6206fc153edf139793563b
Author: Jonathan Blandford <jrb@gnome.org>
Date:   Mon Jul 27 23:28:00 2009 -0400

    Changed logout menu to include Log Out and Shutdown options, #583955

commit efcf8bae9d7dfaeeacbc0c6d2acbd21dd31b4e9f
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Mon Jul 27 18:59:26 2009 -0400

    Align category labels vertically
    
    Add a box to contain the MenuItem labels and align them vertically.
    
    Clean up the style in the MenuItem code.

commit adfb419cebdb5ba0b6158d0f1ca4a0baeba8fd7a
Author: Colin Walters <walters@verbum.org>
Date:   Mon Jul 27 17:47:28 2009 -0400

    Don't line wrap application names in wells, fix running alignment
    
    The experiment with avoiding ellipsization was a definite failure;
    several translations have very long names, and we'd end up
    with a single column.
    
    Also fix extra padding; we only want some space at the top, not
    left/right.

commit 09948ce03388e415711fd53d3944bdf204e82eb1
Author: Colin Walters <walters@verbum.org>
Date:   Mon Jul 27 17:21:09 2009 -0400

    Remove unused gdm-user-chooser-*.[ch] files
    
    These widgets aren't currently used, delete them for now.

commit ff6ee2c0c2a4ab484ab63cf0fbe95a7c4e8b062d
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Mon Jul 27 18:18:17 2009 +0200

    DocsWidget -> RecentDocsWidget
    
    Rename DocsWidget to RecentDocsWidget (as widgets for most used docs,
    docs related to the currently open documents, etc. may be added in the
    future), and change the title so that it doesn't abbreviate 'Docs' (for
    consistency with the overlay).

commit 96cf9c739e3836e05977a24179cc2dd65f304765
Author: Colin Walters <walters@verbum.org>
Date:   Sat Jul 4 17:28:34 2009 -0400

    Avoid ellipsizing app names; Draw glow around running
    
    Corresponding with the design, if an application is in a running
    state (has > 0 windows open), draw a glow behind the name.
    
    To make the display look a bit nicer, set the width of each item
    to be equal to the longest word among all the items.

commit 9f4ccb83e3efb083885d105881a3097125b96b39
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Fri Jul 24 17:25:20 2009 -0400

    Make dash background darker
    
    Make dash background darker so that the blue color used for indicating
    running apps can be visible. Use the dark blue (almost black) color from
    Jeremy's mockup.
    
    Make the dash height be the full screen height minus the height of the panel.
    Don't use padding on top or on the bottom.
    
    Remove the border from the main dash, but leave it for the results and details
    panes. Make the border slightly transparent.
    
    Make sure the details pane is correctly positioned by not applying the
    additional padding when determining its x position.

commit 978ab8a4dd4bfadddbec264519f4d2eaa09aff18
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Fri Jul 24 12:58:53 2009 -0400

    Return false from the timeout callback function
    
    Timeout callback function should not be rescheduled again with the same timeout
    because we compute a new timeout and schedule it again instead. So the callback
    function needs to return false to not be scheduled again by default.

commit 2cc650e38935d8af8e584e6430bfdd738a3701ca
Author: Colin Walters <walters@verbum.org>
Date:   Wed Jul 22 18:57:33 2009 -0400

    Bug 589437 - Switch to workspace of target app to activate
    
    The user explicitly selected a window, so take them to it.

commit f24169735a30a621caba78b55f7119e33baac8d3
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Wed Jul 22 18:57:05 2009 -0400

    Fix updating last visited time for the doc display items.
    
    Make sure that we calculate the next update time correctly.
    
    Store timeout time instead of the timeout delta, so that it doesn't get outdated.
    
    Create a new callback when the time update happens for the original callback.
    
    Make sure last visited time is updated in the details pane by keeping track
    of the description actors created for the detail actors.
    
    Add comments to the new functions.

commit 75c875f0733254b2ec5a9292c4a7ca95ead7d342
Author: Colin Walters <walters@verbum.org>
Date:   Wed Jul 22 12:46:05 2009 -0400

    Fix time updating for recent files

commit 6ea2822fa39399a9bdc44cc27156cc40c9a3026c
Merge: a7c1ff3 b4cf178
Author: Colin Walters <walters@verbum.org>
Date:   Wed Jul 22 12:11:06 2009 -0400

    Merge branch 'bug589185-docinfo-time'

commit b4cf178cc5ab630b2d458dc1f67ef0e40f03ebcc
Author: Colin Walters <walters@verbum.org>
Date:   Mon Jul 20 17:56:47 2009 -0400

    Display last visited time as docInfo description
    
    It's useful information, and takes up some of the blank space.

commit a7c1ff37291ca9ecfb6618394f4f5e75f048b390
Author: Colin Walters <walters@verbum.org>
Date:   Tue Jul 21 21:27:56 2009 -0400

    Fix prototype for shell_app_monitor_get_window_app
    
    It contained a stale definition for the old version of _id, it
    now returns the app.

commit fdd9b85448dae6ac68da506fbce2dbe5b0c7eac5
Author: Colin Walters <walters@verbum.org>
Date:   Tue Jul 21 10:50:18 2009 -0400

    If org.gnome.Panel exists on the bus, replace it rather than using gdb
    
    Avoid depending on gdb for replacing an existing panel, since it
    requires debuginfo and gdb installed.
    
    Instead we grab the org.gnome.Panel DBus name, using DBus name
    replacement semantics.

commit e12587619b54c4cbd3f82469e74d3b1453c2cb9d
Author: Colin Walters <walters@verbum.org>
Date:   Mon Jul 20 18:19:50 2009 -0400

    Fix reference counting of textures loaded via _load_uri_sync
    
    Avoid double unref, fixes image previews.

commit 8d9fc288728cbf1d88f5b8135d394512c515ec4a
Author: Colin Walters <walters@verbum.org>
Date:   Thu Jul 16 17:44:50 2009 -0400

    Bug 588050 - Cache information icon forever, only look up recent once
    
    Extend ShellTextureCache by adding the concept of a policy, which
    we expose to the public API for loading URIs.
    
    This lets us have the shell tell the cache to keep the information
    icon texture around forever.
    
    Secondly, fix the caching of recent info; we shouldn't always be
    loading the backup pixbuf.  Move recent info loading entirely
    into ShellTextureCache.

commit 2c5d520395bb20eb821a6e755a54989d7a986453
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri Jul 17 13:08:32 2009 -0400

    Fix srcdir != builddir issue when installing schemeas
    
    Since we aren't (currently) generating our GConf schemas by merging in
    .po files, the schemas file is in sourcedir not builddir.

commit 9e85d197fddf5f4dc421d2f4460367920e9a533e
Author: Sander Dijkhuis <sander.dijkhuis@gmail.com>
Date:   Mon Jul 13 18:49:06 2009 +0200

    Bug 588462 - Use a plain black panel with a different layout
    
    The semi-transparent gradient on the panel is replaced by a
    solid black background. The shadow below the panel is removed.
    The clock is put at the center instead of the right side of
    the panel and has the date removed. The user icon is hidden.
    Instead of boldface, a regular font is used. Padding is added
    on each side and between panel elements.
    
    button.js: Allow for custom text colors and fonts.
    panel.js: Change the panel colors and layout, remove the shadow.

commit 2aea9c59a4795761c83f82ca8ffa51bd62abc363
Author: Sander Dijkhuis <sander.dijkhuis@gmail.com>
Date:   Tue Jul 14 14:37:21 2009 +0200

    Bug 588173 - No remove button on the first workspace
    
    If there is only one workspace and it's empty, it should
    not get a remove button. Add a workspaceNum != 0 check to
    workspaces.js.

commit 001af727276c24d57afb5527d6ee172f4f9c2322
Merge: 9d594d7 5d067ec
Author: Colin Walters <walters@verbum.org>
Date:   Mon Jul 13 16:24:55 2009 -0400

    Merge branch 'bug588050-doc-textures'

commit 9d594d7f26fc10384428ea5e410bc47111175374
Author: Colin Walters <walters@space-ghost.verbum.org>
Date:   Sat Jul 11 12:33:57 2009 -0400

    Always clear details pane when unsetting more mode
    
    We don't want a detail pane hanging around for an item no
    longer visible.

commit 2161e90cda3806c922b73049a8ce70618fbc4e6e
Author: Colin Walters <walters@space-ghost.verbum.org>
Date:   Sat Jul 11 12:26:36 2009 -0400

    Fixes for GenericDisplay
    
    GenericDisplay wasn't quite completely converted to the ShellOverflowList
    model.  Since the list now holds all actors, the indexing/wrapping
    was incorrect.
    
    Add a property which lets us keep track of how many items are displayed,
    use this in genericDisplay.
    
    Avoid setting selectedIndex to -2 when going up with no items.
    
    If we're not displaying any results at all, don't attempt keynav (for now).

commit f7a82d6400180fcc614146573cbf92adc0c83780
Author: Sander Dijkhuis <sander.dijkhuis@gmail.com>
Date:   Mon Jul 13 14:44:54 2009 +0200

    Bug 588445 - Use BigBox vertical alignment for the clock
    
    panel.js: Replace the manual vertical padding calculation
        for the panel's clock with an y_align property on its
        BigBox container.

commit 10e30f7dc7fd6746ede74fa9bda4e937c6e08ddc
Author: Sander Dijkhuis <sander.dijkhuis@gmail.com>
Date:   Sun Jul 12 23:44:06 2009 +0200

    Bug 588405 - Handle status menu button appearance in JavaScript
    
    Make the ClutterText and ClutterTexture from the status menu
    button available to JavaScript, and from there improve the
    font definition of the user name.
    
    shell-status-menu.[ch]: Add public get_name() and get_icon()
        functions that return the user name label and icon
        texture, remove the markup from update_name_text().
    panel.js: Set the font for the button consistently with that
        of the other panel labels.

commit 177edc5444b7ae8cd83224ec614261a9ab6b2213
Author: Milan Bouchet-Valat <nalimilan@club.fr>
Date:   Sat Jul 11 18:44:21 2009 +0200

    Bug 587955 - Small cleanups to iconButton
    
    Missing trailing ; after "this._fadeOut()". A few missing spaces after "if". Parameter inconsistently named "icon" instead of "texture".

commit b45cd0a4eb3ae055b127773a8f1dc3eafe0387e8
Author: Colin Walters <walters@verbum.org>
Date:   Fri Jul 10 17:04:39 2009 -0400

    Small fixes for sidebar application bits
    
    We need to set the .name property, also skip unknown apps.

commit 8a56b990dd4ddedacf528710cc484b3c2d59f01f
Author: Colin Walters <walters@verbum.org>
Date:   Tue Jul 7 20:56:01 2009 -0400

    Bug 587949 - Handle locale-encoded names from struct pwent
    
    Convert to utf8 internally.

commit f353283a40d0f8800c8ad263715ca9d3e3e4c008
Author: Colin Walters <walters@verbum.org>
Date:   Tue Jul 7 20:45:43 2009 -0400

    Merge up to commit 92e608bd0f3807314c45ee5f5daf6ba781c27d58 of gdm
    
    Pull in a few fixes from gdm trunk for gdm-user.c

commit 5d067ec718ac1b5389c237b83fd0ab6219319225
Author: Colin Walters <walters@verbum.org>
Date:   Wed Jul 8 21:06:06 2009 -0400

    Better caching for document textures and information
    
    Move thumbnail creation into ShellTextureCache.  It's now asynchronous,
    and we cache the result.
    
    Create a DocManager class which keeps around the DocInfo objects between
    invocations.  This is also where we ensure we remove thumbnails for
    recent items not known anymore.

commit 1cb6fc004b5c8752b73e5258db8ac9c71bde71e3
Author: Colin Walters <walters@verbum.org>
Date:   Wed Jul 8 17:30:09 2009 -0400

    Add magic "js " prefix to runDialog to run arbitrary JavaScript
    
    This is useful for debugging things; e.g. you can "js Meta.quit(0)"
    to exit the WM, "js Shell.Global.get().<whatever>..." etc.

commit 3b603ef7e0299e7c41420c3de97bbadfa60eb629
Author: Colin Walters <walters@verbum.org>
Date:   Wed Jul 8 11:54:15 2009 -0400

    Don't fail if we can't find an application
    
    Instead of logging and passing null through, explicitly skip
    apps we don't know about.  It's valid to have say uninstalled
    an app.

commit 0971ba54b87f274dd3ec53264057a1ba73e3df75
Author: Colin Walters <walters@verbum.org>
Date:   Tue Jul 7 20:02:47 2009 -0400

    Bug 587952 - Immediately fade in information button
    
    0.5s is a pretty long time, start immediate fade in.

commit c136acc8794d75ce2ba41c8b9e3ffbb92fa14cde
Author: Colin Walters <walters@verbum.org>
Date:   Wed Jul 8 11:38:22 2009 -0400

    Remove inadvertent early return in apps search

commit cc2d3fd56d64cf8d0afdebed8ed4806f1573acce
Author: Colin Walters <walters@verbum.org>
Date:   Tue Jul 7 16:08:41 2009 -0400

    Major rework of application data structures and caching
    
    Before, we looked up application data in several ways; the ShellAppSystem
    exported just application ids (though it parsed the .desktop files internally),
    and we'd create a Gio.DesktopAppInfo object (reparsing the desktop file again),
    wrapping that inside a JavaScript AppInfo class, and finally the AppDisplay
    would again parse the .desktop file to get the categories.
    
    Also, to look up applications by id previously, we traversed the entire
    menu structure each time.
    
    Some qualities such as the NoDisplay flag were not easily exposed in the old
    system.  And if we wanted to expose them we'd have to change several different
    application information wrapper classes.
    
    All in all, it was quite suboptimal.
    
    The theme of this new code is basically "just use libgnome-menus".  We do
    not call into Gio for app lookups anymore.  The new Shell.AppInfo class
    is a disguised pointer for the GMenuTreeEntry item.
    
    To fix the caching, we keep a simple hash table of desktop id -> ShellAppInfo.

commit 72e6e7839feaebf26a9011cd3f5041a43eed5905
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Tue Jul 7 12:20:17 2009 +0200

    Reset page number when changing the active category

commit 732573331af2f829462237d84826f7e28e059546
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Tue Jul 7 10:51:56 2009 +0100

    Fix DND to left side of the screen
    
    Set the size of the Dash actor to 0x0 so that it doesn't
    interfere with drag and drop.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=587899

commit 00407d6971bd869a0f077cd1cd9f2062da47ff35
Author: Colin Walters <walters@verbum.org>
Date:   Mon Jul 6 23:13:58 2009 -0400

    Explicitly include gio/gio.h in ShellGlobal
    
    Because we use GFile.

commit db630b29459e0c337dd8dc15813ab523d44f23df
Author: Colin Walters <walters@verbum.org>
Date:   Sat Jul 4 12:46:35 2009 -0400

    More for applications now displays a category list
    
    Rework the previously extant Application category code to display
    in the expanded list.  Add a "Frequent" category which corresponds
    to the most_used_apps, and selected by default.
    
    Instead of adding the background and shadow as expanded items to
    the results/details panes as fixed, we slave the background/shadow
    sizes to the results using notify::allocation.
    
    Also clean up the code for sizing the details pane, using a common
    function which adjusts its x position in one place.

commit a15ee28177fcaa785eb98e68d0855a1cdf7e73f1
Author: Colin Walters <walters@verbum.org>
Date:   Mon Jun 29 12:51:10 2009 -0400

    Add ShellDrawingArea and ShellStack
    
    ShellDrawingArea is a size-independent wrapper for a ClutterCairoTexture.
    Useful when drawing non-fixed size areas.
    
    ShellStack is a simple container class which holds items
    in a completely overlapping Z stack.  The main difference
    from ClutterGroup is that items will be constrained to
    (and allocated) the size of the stack, not getting their
    preferred size always.

commit 92e9bc85a1832bdbd35c565b8961d9b7b9ab7e60
Author: Colin Walters <walters@verbum.org>
Date:   Sat Jul 4 17:13:13 2009 -0400

    AppWell: If an application is running, activate an existing window
    
    Instead of relaunching, pick the first window and activate

commit 70c51beeeb9d786bf3b3f2da5994d5ab4be47bf9
Author: Dan Winship <danw@gnome.org>
Date:   Tue Jun 30 15:00:06 2009 -0400

    Add a sidebar show/hide menu item to the status menu
    
    This is how it is in the mockups, but we may want to revisit it

commit 98908871266b1bc3a723de050ca141968f6ed0b6
Author: Dan Winship <danw@gnome.org>
Date:   Mon Jun 29 12:13:23 2009 -0400

    Add GConf schemas for sidebar prefs, and use those prefs from sidebar.js

commit 203ec385c5d4393b56e5ae7b1a0ce81e8a0e6072
Author: Dan Winship <danw@gnome.org>
Date:   Mon Jun 29 12:07:10 2009 -0400

    Add ShellGConf
    
    Although methods like gconf_client_get/set_bool() and such are usable
    from gjs, get_list/set_list is not, since there's only one method for
    all list types. So ShellGConf wraps GConfClient and adds separate
    typed list methods.
    
    Also, add a detailed "changed" signal that can easily be connected to
    from js, since we can't currently use gconf_client_notify_add()
    directly.

commit 5a0d8eca9ffb834760a7f87efeed576c15630049
Author: Dan Winship <danw@gnome.org>
Date:   Tue Jun 30 14:57:40 2009 -0400

    Fix Chrome.removeActor()
    
    The split between this.actor and this.nonOverlayActor in chrome.js is
    annoying, but aside from actually subclassing ClutterGroup (which
    would have to be done from C), all of the other possibilities are
    annoying too.

commit ae779c7f209960e0646f16e26269d14f4b1f93eb
Author: Dan Winship <danw@gnome.org>
Date:   Mon Jun 29 12:11:52 2009 -0400

    Fixes to allow widgets to be initially collapsed

commit 3852176e80323b9a5161e852525134df511b6782
Author: Milan Bouchet-Valat <nalimilan@club.fr>
Date:   Thu Jul 2 18:35:34 2009 +0200

    Use a fading icon button in genericDisplay
    
    Add a new icon button in button.js that fades in/out with a short delay when the mouse enters/leaves its parent. Use it for the information button of genericDisplay.

commit 7a0ce6c57b1f1376c8ce6ef3b938992fa27b0c08
Author: Colin Walters <walters@verbum.org>
Date:   Sat Jul 4 19:50:55 2009 -0400

    ShellOverflowList: Implement pick
    
    This gives us the correct event behavior.

commit 15e862f974ee7eeae1fd0f7cb012023c2efff119
Author: Colin Walters <walters@verbum.org>
Date:   Sat Jul 4 15:30:12 2009 -0400

    Switch GenericDisplay to ShellOverflowList for dynamic height
    
    This converts GenericDisplay to totally dynamic layout, where
    we display as many items as we can, and the rest cleanly overflow
    into pages.
    
    For now, remove multi-column; to readd this, we can pack multiple
    display items into a single ShellOverflowList item.

commit a1908d9db137c6272dd582fb6ecc204bc4b5580a
Author: Colin Walters <walters@verbum.org>
Date:   Sat Jul 4 15:29:51 2009 -0400

    Add ShellOverflowList, a dynamic list with paging
    
    This container class will be used for GenericDisplay.

commit 8ee740e4254dc6c8cfc6864f83cf065beb959985
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Jul 4 15:01:54 2009 +0100

    Don't include NoDisplay items, except for window identification
    
    Searching across NoDisplay desktop items can produce weird
    results to the user (including duplicates, and items that
    aren't really applications at all.) So, don't include them
    normally.
    
    But continue including NoDisplay items when we look up the
    desktop file for a window, since we want to catch applications
    like Evince and Nautilus which are otherwise NoDisplay.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=587548

commit f44b3e0553262e33ae869a1c1d68a314c2f0fe10
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Jul 4 14:14:44 2009 +0100

    Hide the running-apps area when empty
    
    It looks funny to have the "more running apps area" there as a gap
    when empty and dragging to it is an unintuitive way to remove stuff
    from the favorites list, in any case, so just hide the area when
    empty.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=587720

commit bddcb40237d0c0d2cebaf5c82a884decedd132f3
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Jul 4 14:10:53 2009 +0100

    Fix expand flags for the contents of the Dash
    
    Pack everything we don't want to expand with BigBoxPackFlags.NONE;
    this fixes the More... button for the docs section ending up with
    a gap underneath it.
    
    Since the More... button for the docs now ends is right at the bottom
    of the dash, add some padding to it.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=587720

commit 66ea19fbfb64198ca152a39c67311573f7901c83
Author: Colin Walters <walters@verbum.org>
Date:   Fri Jul 3 22:32:23 2009 -0400

    Switch to dynamic layout for Dash
    
    Instead of laying out the dash contents "manually" and having
    the content items explicitly passed their height, just give them
    a set width.

commit e9966b4aff18712eff099c525bbb55ab2a50262d
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri Jul 3 22:31:22 2009 -0400

    Add partial implementation of dynamic width/height layout to TidyGrid
    
    This is not a complete patch; it doesn't attempt to handle the homogenous
    property or column major.
    
    (Based on patch by Colin Walters <walters@verbum.org>)
    
    http://bugzilla.gnome.org/show_bug.cgi?id=587720

commit a71ae65f8bcb944e312c5f99b43da2e1cb115ae4
Author: Colin Walters <walters@verbum.org>
Date:   Thu Jul 2 05:04:33 2009 -0400

    Allow dragging a Workspace.WindowClone into favorites well
    
    It's a natural thing to do, though in the future we may want
    to split the WindowClone into js/misc/window.js or the like.

commit 96a2747e0b8347b70703052fc1c07db980d097bc
Author: Colin Walters <walters@verbum.org>
Date:   Thu Jul 2 01:02:46 2009 -0400

    Wire up search up/down
    
    This is not a complete fix; the search selection will not cross
    the apps/docs boundary.  But it's good enough until we have a more
    final search design.

commit 8ef48ca33cd7d9b808f5b3f7cf82d1ca44b7b9e1
Author: Colin Walters <walters@verbum.org>
Date:   Thu Jul 2 00:52:21 2009 -0400

    Animate panel appearance on startup

commit 8a0cebccdc1dabba2bb0902ae310f7bc7dc16922
Author: Colin Walters <walters@verbum.org>
Date:   Thu Jul 2 00:35:26 2009 -0400

    Display full application title, allow DnD from More
    
    For now display the full application name, centered to avoid
    excessive ellipsization.
    
    Highlight on mouseover, and allow DnD from the More display.

commit 5ae6239344a6b4218935ff44e10edf26bada8be7
Author: William Lachance <wrlach@gmail.com>
Date:   Wed Jul 1 15:54:51 2009 -0300

    SuSE needs xorg-x11-proto-devel for X11 screen saver extension header
    
    libXScrnSaver-devel was a Mandriva package, not available on SuSE.

commit aaeb980688b5d54c6a56c7c8a0c0ebc58806023f
Author: Colin Walters <walters@verbum.org>
Date:   Wed Jul 1 13:43:27 2009 -0400

    Add info.svg to Makefile.am

commit 77c325772a1e5d06b741c6091c3a3d44cb6057bd
Author: Dan Winship <danw@gnome.org>
Date:   Wed Jul 1 10:34:24 2009 -0400

    fix tag name in schema

commit 2eb0d20221bf50db1f738f5d4e58cad14f6e91e8
Author: Milan Bouchet-Valat <nalimilan@club.fr>
Date:   Sat Jun 20 16:51:07 2009 +0200

    Make the sidebar's horizontal padding symmetric
    
    Widgets should be horizontally centered in the sidebar. Else they look
    out of place (in particular the clock and the applications widgets).
    Due to little tricks with the sidebar starting out of the screen to
    hide rounded corners, this implies playing with paddings. The patch
    decreases the widgets padding from 4 to 2 pixels, removes additionnal
    padding on the right, and adds an out-of-screen padding to the widget
    box to make up for the negative horizontal position of the sidebar.

commit 454ca0957598090c588fd9203a3c0b951cdcf2b6
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Tue Jun 30 19:45:56 2009 -0400

    Make individual dash panes reactive instead of making the dash Group actor reactive
    
    The width of a Group actor ends up including the width of its hidden children,
    so we were getting a reactive object as wide as the details pane that was
    blocking the clicks to the workspaces underneath it even when the details
    pane was actually hidden.
    
    Not making the dash Group actor reactive solves this problem. However, we
    have to make individual parts of the dash reactive instead so that the clicks
    are not passed to the transparent actor underneath them. That transparent
    actor is used for dismissing the additional panes when the user clicks over
    the workspaces area.

commit 8f0bf5deae7463801c9da42e35e21f51a3077c50
Author: Colin Walters <walters@verbum.org>
Date:   Tue Jun 30 17:37:27 2009 -0400

    Fix double free and under-dup in ShellAppMonitor
    
    The hash table is keeping ownership of appid, we don't need
    to free it again.  However we do need to re-dup it when we
    insert as a key.

commit 09d9d91297cb8de4cb56b0f6739a3017d72d203d
Author: Colin Walters <walters@verbum.org>
Date:   Tue Jun 30 17:22:12 2009 -0400

    Include NoDisplay applications in application data
    
    For now, we want to get Evince and Nautilus at least in the application
    list.

commit a5e3227b64a69ec2925ca0fbadabff0f4e4dd038
Author: Dan Winship <danw@gnome.org>
Date:   Tue Jun 30 17:29:40 2009 -0400

    Set GCONF_DEFAULT_SOURCE_PATH from the gnome-shell wrapper script
    
    Needed so that a jhbuilt gnome-shell can find its schemas at runtime

commit 8a790e1c38fc67db16f523c1c3f074a7ce163ae6
Author: Dan Winship <danw@gnome.org>
Date:   Tue Jun 30 17:29:20 2009 -0400

    Fix schema install

commit db52e024e8fabfec94b66031e161c27557c447ec
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Mon Jun 29 15:08:48 2009 -0400

    Use a separate icon image as a drag actor instead of using the clone of the icon
    
    Clutter no longer allows using a clone of an actor that is not a part of
    the scene graph. This is what used to happen when we created a clone for
    the icon of the item that was being dragged, and then closed the More panes
    with the original item, removing the icon from the scene graph. This was
    also when happened when the user hit Esc while dragging, which prompted the
    overlay to close, removing the original icon from the scene graph.
    
    Rename getIcon() methods to createIcon() to better reflect on the fact that
    a new icon is created each time the method is called (we do use cache in
    some cases).
    
    Remove a stray log message in overlay.js
    
    Fixes http://bugzilla.gnome.org/show_bug.cgi?id=585490
    and http://bugzilla.gnome.org/show_bug.cgi?id=585489

commit 79c166c38dd36bda3a4de54e64ecfd0def5da2ca
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Mon Jun 29 12:28:21 2009 -0400

    Make workspaces accept a drop of AppDisplay.WellDisplayItem
    
    AppDispplay.WellDisplayItem needed to be added along with the
    GenericDisplay.GenericDisplayItem as a type of a drop object
    that workspaces accept.

commit 04fbaf4f27e7ce6cbf7b952a607cd22eca586855
Author: Colin Walters <walters@verbum.org>
Date:   Fri Jun 26 18:35:48 2009 -0400

    Avoid duplicating most used applications in the AppDisplay cache
    
    All used applications should be in the database from the menus
    anyways.

commit b92263e80cb0d37128648747cf14600ad74a7b55
Author: Colin Walters <walters@verbum.org>
Date:   Fri Jun 26 17:12:55 2009 -0400

    Fix invalid function signature and a memory leak
    
    Add the missing GParamSpec to on_n_workspaces_changed.
    
    Also, we don't need to re-dup the appid, since it's already dup'd.

commit 12f78a08cd2657eca20d3d393dd21a6cb0a9fa43
Author: Colin Walters <walters@verbum.org>
Date:   Tue Jun 30 16:35:39 2009 -0400

    Replace Dash application display with AppWell
    
    The new class AppWell implements the application favorite well
    in the Dash component.  The previous AppDisplay remains for use
    in the More... mode now.
    
    Delete DEFAULT_APPLICATIONS; this is now in GConf.
    
    Rename getMostUsedApps to getTopApps since we now have the
    idea of explicit favorites.
    
    Delete some GenericDisplay-related calls from overlay related
    to the seletion - we'll reimplement keyboard nav in a more
    coherent way later.

commit 88c9a23866527a48bf3a7e8d3123863108fa9aec
Author: Colin Walters <walters@verbum.org>
Date:   Thu Jun 25 17:43:54 2009 -0400

    ShellAppSystem: Add favorites API and shell_app_system_lookup_basename
    
    Add a GConf key for favorites, and API for retrieving them.
    
    Also add shell_app_system_lookup_basename, which we use from
    the app monitor to look up WM_CLASS ids.

commit 94f92072c2e39f43dfbc281cccc46cfc89c63fc0
Author: Colin Walters <walters@verbum.org>
Date:   Thu Jun 25 17:42:46 2009 -0400

    ShellAppMonitor now always assocates windows with desktop files
    
    Track all windows; at the time of opening (and shell startup)
    we call into ShellAppSystem to take the WM_CLASS property and
    try to find an associated .desktop file.
    
    Add mozilla-firefox to the list of our WM_CLASS workarounds.
    
    Add shell_global_get_screen, since it's often used.

commit 5ca4b41063b7820f14177e713b802b2ac1b39b32
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Thu Jun 25 19:14:29 2009 -0400

    Use a single ItemResults class instead of AppResults and DocResults
    
    AppResults and DocResults classes were identical with an exception of
    the display class they used and the text label for the results. Merged
    them into a single ItemResults class that takes these two additional
    arguments.

commit 45c97862e55f0d89aeef01785b763456a520f9cb
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Thu Jun 25 18:01:45 2009 -0400

    Move the activate and select functionality inside the callbacks
    
    Move the activate and select functionality inside the callbacks for
    'button-release-event' signals of the display item and the information
    button correspondingly. This way it is more obvious that this is an
    event handling code that needs to return a boolean value for whether
    the signal has been fully handled by the actor.

commit 3a7447daccc29e7e9bb7634ef2fa068f0bec24eb
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Thu Jun 25 17:24:46 2009 -0400

    Use TextureCache to load the information icon
    
    Use TextureCache to load the information icon, so that we don't create a
    new ClutterTexture for information icons corresponding to each display
    item.

commit dc7b2b03e17ffbbb164b9715dec66ff4689de885
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Thu Jun 25 15:31:09 2009 -0400

    Make sure we show the information button when a new item appears under the pointer
    
    Update the code for checking a display item under the pointer to expect
    the item itself rather than its child to be returned by stage_get_actor_at_pos().
    
    This code is now used to display an information button when an item is
    drawn under the pointer, so update the comment accordingly.

commit 8b15724c2a54e53775056bd976355e5d4593ca4e
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Thu Jun 25 14:54:28 2009 -0400

    Show and hide dash panes instead of adding and removing each time
    
    Add results and details panes up-front, and show and hide them instead
    of adding and removing them each time

commit 587f04f80760ac6999fae9b81398e820846c89a2
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Thu Jun 25 14:33:24 2009 -0400

    Add a comment about the use of the transparent background and set its opacity to 0
    
    Add a comment about the use of the transparent background to catch clicks
    in the workspaces area when the dash panes are being displayed and dismiss
    the dash panes.
    
    Set opacity for the background to 0 instead of using a transparent background
    color so that Clutter optimizes the drawing of the background actor.

commit 9faf161aae60bf806b848dfdfb8b1d681cc2d878
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Thu Jun 25 14:32:00 2009 -0400

    Fix up horizontal gradient code and its use
    
    Fix up the comments about the horizontal gradient code and use 8x1 texture
    instead of 8x8.
    
    Make sure the values we assign to the three-stop horizontal gradient
    require the use of the three stop gradient, with the middle value not being
    right between the side values.

commit 3b56807e7885ce9ff9a1c282be0839235e6a0b4a
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Wed Jun 24 18:24:48 2009 -0400

    Display search results automatically
    
    Display a pane with search results for both applications and documents
    automatically when a search string is entered.
    
    Allow viewing search results for the individual section when More link
    for applications or documents is clicked.
    
    Move text labels for the applications and documents sections into the
    respective classes.

commit d5882c0cd3744431ce5ba57d665fbfe61b7004c9
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Mon Jun 22 19:06:50 2009 -0400

    Add back search functionality
    
    Enable typing in the search box and display results in the results pane.
    This means that the user has to open the details pane for applications
    or documents to view the results for now.
    
    Connect Enter to launch the seleted item.
    
    Connect Escape to clear search, remove results and details panes,
    or exit overlay.

commit c92268a615c701896da3c70bb0682bcc9340a14d
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Mon Jun 22 21:58:12 2009 +0200

    Hide details panel by default
    
    Don't show the details panel when the overlay is activated,
    only when explicitly requested by clicking the info icon.

commit e1fa61cd589e6322822f0ccbefab154c19e78913
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Thu Jun 18 20:01:49 2009 -0400

    Fix the height allocated to the results sections
    
    The results sections no longer include a label on top of them, so the
    height of that label needs to be subtracted when specifying the height
    for the sections. This ensures that display controls are positioned
    correctly on the bottom of the section.

commit 98c5f3532486b8150e48fa5f94c4001c777ab547
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Thu Jun 18 19:53:21 2009 -0400

    Select an item when information button is clicked, launch on single click
    
    Clicking the information button for an item selects it (i.e. highlights it)
    and shows details about the item.
    Clicking the rest of the item area launches it.
    Item does not become draggable if the dragging is started over the information
    icon (i.e. if the user presses the information icon, but releases elsewhere).
    
    Make sure we emit "activated" signal and close the overlay when an item from
    one of the results displays is launched.

commit 3841e8da74efc4019b79682ba13898b8d942bc47
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Thu Jun 18 17:50:56 2009 -0400

    Add an icon for the information link
    
    Use an (i) icon supplied by Jeremy for the information link and display
    it on hover. Make sure it is positioned nicely and the text doesn't
    overlap with it.

commit e3291aa5ba8b769de6789c588291b651ded5230f
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Thu Jun 18 17:12:58 2009 -0400

    Remove pop-up previews
    
    Pop-up previews are not part of the new design and interfere with the information link.
    
    Make sure details display for applications has the appropriate width set.

commit fab13dbb89e6c9c01e14b01e61d2b8911e8919fb
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Wed Jun 17 18:12:02 2009 -0400

    Make sure at most one item is selected in the overlay
    
    Make sure at most one item is selected in the overlay and we always show
    a details pane for the selected item.
    
    Improve the positioning of the search box.
    
    Remove a duplicate variable DASH_PAD and use DASH_SECTION_PADDING everywhere instead.

commit c0c79e59fccc19e5c3531773cc0d219b4d2bc64c
Author: Colin Walters <walters@verbum.org>
Date:   Wed Jun 17 13:25:07 2009 -0400

    Split out separate AppResults, DocResults classes. Readd search as stub.
    
    Avoid bloating the Dash class by separating out a bit more functionality.

commit 90b7d9a7fa19bf03426d3ee6d229255132d7b494
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Tue Jun 16 16:30:42 2009 -0400

    Change selected item color and make sure only one item is selected at a time
    
    A blue selected item color fits better with the new color scheme than a green one.
    
    Only one item should be selected across all the displays we are showing.

commit 662c99551506f7feb5155ce7964e8c1e6b231187
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Tue Jun 16 14:50:38 2009 -0400

    Display a pane with item details
    
    Display a pane with item details, such as a full image previews, when an item is single clicked.
    
    Add a placeholder information link that shows up when an item is moused over.

commit 3c54893656bcb12aeaa88a50ac05e3543ebb268a
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Thu Jun 11 19:00:12 2009 -0400

    Add icons from Jeremy
    
    These icons are for the "more", "close", and "info" images in the overlay.

commit 580794f3fb64bad65ba2e555c56a36b4ac51f281
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Tue Jun 9 16:11:51 2009 -0400

    Display all recent documents in the results pane
    
    Display all recent documents in the results pane, in addition to the first
    few displayed in the main dash. All documents can be viewed with the help
    of a paging control.

commit 1154a1e8d75f5c9f5af992d82aa2a20f514bafe9
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Mon Jun 8 19:04:52 2009 -0400

    Add a results pane in the overlay
    
    Display the results pane above the workspaces. The results pane is somewhat
    transparent and has a blue gradient background. The dash pane is slightly
    transparent and also has a blue gradient background.
    
    The results pane shows up when a More control is clicked. It disappears when
    a Less control is clicked, an area outside of the dash area is clicked,
    an item starts being dragged, or the overlay mode is exited.
    
    Add shell_global_create_horizontal_gradient() to shell-global.[ch]

commit 837683004d32947f5d34738310641299bf6d7245
Author: Colin Walters <walters@verbum.org>
Date:   Tue Jun 2 13:13:51 2009 -0400

    Remove a lot of obsolete code from old Sideshow (now Dash)

commit 14bb73220b66fbcc595420478648e4c7dd55a039
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Jun 11 18:34:56 2009 -0400

    Increase priority of region-updating idle
    
    Increase the priority of the idle for updating work area and struts
    to META_PRIORITY_BEFORE_REDRAW. This prevents it from being starved
    by a constantly-redrawing client.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=585500

commit f1a9ada5f018437e2bbf72c2845a9290390655f6
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Jun 17 14:35:32 2009 -0400

    Improve postioning of status menu
    
    Currently we position the user status menu at the upper left of
    the user status button. Then, because Mutter is inappropriately
    positioning override-redirect windows it get shoved into the
    workarea. Once that bug is fixed (bug 582639), we'll have to
    position the menu ourselves.
    
    This patch aligns the user status menu at the left end of
    and beneath the top panel.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=586156

commit 5f0d67263b6de0ad8a43a916dba10d5b2425e7b5
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Mon Jun 29 14:30:34 2009 -0400

    Add '--disable-default-service' to gconf module autogenargs
    
    This allows us to avoid adding PolicyKit DBus as a dependency.
    
    Closes http://bugzilla.gnome.org/show_bug.cgi?id=586987

commit 66a0bef1fb27c02720a28c3508c000fff46a0bf8
Author: Dan Winship <danw@gnome.org>
Date:   Thu Jun 25 09:16:35 2009 -0400

    Add gconf to gnome-shell.modules for gconf/jhbuild support

commit f215935d2dc115c848882c7805f82832a1a269ea
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Mon Jun 22 14:23:52 2009 +0200

    Speed up initialization of DocInfo objects
    
    We achieve this with two changes:
    
     - Move the Shell.get_thumbnail call in DocInfo from _init
       to getIcon, so that it isn't executed until it's actually
       needed.
       (If caching the output of said call permanently is desired
       we could still do it on the first getIcon invocation, but
       I don't believe this is necessary given that looking up an
       already generated icon is pretty fast and this also gives
       us an updated icon in case the file changes.)
    
     - More importantly, we ommit the get_thumbnail call in case
       the URI doesn't start with file://. Looking up, for example,
       an http:// URI is very slow, and doesn't give us an icon anyway.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=586539

commit b8af0c1b8b85af36d8abecaee23e117a7d58cc21
Author: Colin Walters <walters@verbum.org>
Date:   Thu Jun 18 16:44:14 2009 -0400

    Fix refcounting issue in ShellTextureCache
    
    Also clean up compilation warnings.

commit e7771b4eb096fb61aaf5e3520c6b58be66adb234
Author: Colin Walters <walters@verbum.org>
Date:   Thu Jun 18 12:27:19 2009 -0400

    Make ShellAppMonitor and ShellAppSystem singletons, remove unused code in appDisplay
    
    We shouldn't create multiple instances of either.  Also remove a bit
    of unused code in appDisplay.

commit dd1c95b3ceed59c08c4ecd970cfda8a022fa14d7
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Wed Jun 17 18:42:05 2009 -0400

    Make sure we have information about all applications returned by the AppMonitor
    
    The list of all applications was based on the items that show up in
    the menus, and might not have contained all applications returned
    by the AppMonitor for the most used applications request. One example of
    such an application was Evince. This resulted in a crash when an
    application we did not prepare the info for was returned as one of the
    matches by the AppMonitor, so we now include all applications returned
    by the AppMonitor in the list, in addition to the ones from the menus.
    
    Also mark apps as stale when we catch a "changed" signal from the AppMonitor
    to ensure that the cache is refreshed.

commit 71cad8cd3f7c06f28be11fa27ca349920347f2d1
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Wed Jun 17 18:37:54 2009 +0200

    Fix a regression: search in the overlay not working anymore
    
    With commit a3d35af444445b92b3fe2475ebef4e282b8c34d1 variable
    itemInfo in js/ui/appDisplay.js was changed to a new object
    (AppInfo from js/misc/appInfo.js) but some of the code in
    js/ui/appDisplay.js wasn't updated accordingly. This commit
    fixes that and makes the search box in the overlay usable
    again.

commit a3d35af444445b92b3fe2475ebef4e282b8c34d1
Author: Dan Winship <danw@gnome.org>
Date:   Tue Jun 16 12:20:12 2009 -0400

    Split appDisplay and docDisplay into "model" and "view" parts
    
    This lets us share the recent-app-tracking, recent-file-tracking, and
    icon-drawing code between the overlay and the sidebar, without the
    sidebar having to poke into AppDisplayItem and DocDisplayItem's guts.

commit 4314c6e57f3c00badca177610e100efcc577c89e
Author: Colin Walters <walters@verbum.org>
Date:   Tue Jun 16 11:55:14 2009 -0400

    Close memory leaks in ShellAppMonitor, ShellAppSystem, ShellTextureCache
    
    Unref'ing the GdkPixbuf is particularly critical.  Some smaller fixes
    also included.

commit 6675b568d92d680fc1261d9a09eff2f824402061
Author: Jon Nettleton <jon.nettleton@gmail.com>
Date:   Thu May 7 21:29:44 2009 -0400

    Update gnome-shell for renamed Mutter
    
    Adjust references to the mutter binary and plugin locations to account
    for the rework of Mutter to install as 'mutter' instead of 'metacity'
    
    http://bugzilla.gnome.org/show_bug.cgi?id=581814

commit e478cc4c4e472cf6260e7721e4f598a92442b0fa
Author: Siegfried-Angel Gevatter Pujals <rainct@ubuntu.com>
Date:   Tue Jun 16 02:05:16 2009 +0200

    Fix shell_get_thumbnail* to not be specific for GtkRecentInfo items
    
    Currently function shell_get_thumbnail_for_recent_info located in
    src/shell-global.c is used to get thumbnails for recently used files.
    However, it only works if you have a GtkRecentInfo object for the file,
    even though the thumbnail generation code doesn't depend on it. This commit
    renames the function to shell_get_thumbnail and makes it generic so that it
    just takes two strings: a filename and a mimetype.

commit 8b1d7e3407c67e6bdd676d8324bc0251a74a87de
Author: Colin Walters <walters@verbum.org>
Date:   Fri Jun 12 11:27:27 2009 -0400

    Fix transfer of application setting ids
    
    It's cached, should be (transfer none).

commit 66459eff965fe06a2b78dc454a6ebc4789a45243
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu May 14 10:00:22 2009 -0400

    BigRectangle: Use pre-multiplied colors
    
    With recent Clutter changes to the default blend mode, premultiplied
    colors should be used for cogl_material_set_color() in the normal
    case.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=585473

commit b131ecc42a88c1e1765373fa7a216879c52ef4de
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Mon Jun 8 17:05:45 2009 -0400

    Work around a Clutter crash when there is no root pixmap
    
    When there is no root pixmap, the result will be a CoglMaterial
    with a layer with no texture, and that causes a crash.
    
    Work around this by supressing painting the root pixmap actor
    when there is no root pixmap.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=585196

commit 2c7d33bad2653b9ad9bce090b5b8227cd6393ad1
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Jun 6 13:07:41 2009 -0400

    Port gnome-shell to the Clutter-1.0 API
    
    - clutter_actor_get_transformed_position()/size() return floats
    - clutter_stage_get_actor_at_pos() takes a pick mode
    - ClutterTimeline no longer has a concept of frames
    - ClutterUnit is now replaced by float
    - cogl_texture_new_from_data() signature changed
    
    http://bugzilla.gnome.org/show_bug.cgi?id=585013

commit 315da57c97ae738fc345ff07d375203235bf0cc4
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Jun 6 13:03:24 2009 -0400

    Add the root pixmap source actor to the stage
    
    With clutter changes, we can now no longer clone an actor unless
    it is part of a stage. So, we hide the root pixmap source, and
    add it.
    
    This means that the logic to free the source actor when the
    last clone disappears no longer applies, since the stage will also
    reference it; so we just leave the actor around permanently.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=585012

commit 9a62af6c7cab312d7c40b7ce0c91d09d68ae84cb
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Jun 6 12:55:30 2009 -0400

    Port TidyGrid to Clutter-1.0 API
    
    - ClutterUnit is now replaced with float
    - allocate() now takes flags rather than absolute_origin_changed boolean
    
    http://bugzilla.gnome.org/show_bug.cgi?id=585010

commit 8a7acaab8419c86c4c85373426240b327e3465f1
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Jun 6 12:42:50 2009 -0400

    BigBox: Implement foreach_with_internals()
    
    We need a foreach_with_internals() function that includes the
    background_texture/background_rectangle actors, so that states
    will properly be updated on map/unmap/etc.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=585007

commit 9c859caf30e90d77a2bfb46462719c61e60c24a3
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Jun 6 12:33:45 2009 -0400

    Port BigBox, BigRectangle, BigThemeImage to Clutter-1.0 API
    
    - ClutterUnit is now replaced with float
    - allocate() now takes flags rather than absolute_origin_changed boolean
    - cogl_texture_new_from_data() signature changed
    
    http://bugzilla.gnome.org/show_bug.cgi?id=585007

commit ef3ac7a7f6a828e5fcdd1a635773ef79613c54f9
Author: Milan Bouchet-Valat <nalimilan@club.fr>
Date:   Mon Jun 1 21:43:45 2009 +0200

    Fix crash in app monitor on 64 bits CPUs
    
    Pointers and integers are not the same size, use GPOINTER_TO_INT() for conversion.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=584539

commit 015d10b87e2a58ca513b7c5dd1b11515f8456480
Author: Colin Walters <walters@verbum.org>
Date:   Thu Jun 4 11:03:06 2009 -0400

    Use title property instead of description for window titles
    
    The title property is what we actually want.

commit 361461d1b9f96f67ea9a2e1810251f6bab02fa38
Author: William Jon McCann <jmccann@redhat.com>
Date:   Wed Jun 3 22:24:59 2009 -0400

    Allow status icons to receive clicks at edge of screen
    
    This removes the border and padding and aligns the box to the top.  Perhaps we
    could push the padding down into the active area of the icon since it does look
    a bit nicer with it.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=583139

commit 360338fe07bbb99ade2ef80f7629785a329f1829
Author: William Jon McCann <jmccann@redhat.com>
Date:   Tue Jun 2 13:43:34 2009 -0400

    Shorten overlay animation to 0.25 seconds
    
    The animation time for the overlay is a bit long.  We're using 0.5 second.
    From my quick tests of "another system" it takes about half that time to
    animate.  The other system feels about right.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=583572

commit 3ed0c2dc1c5d25878bdf76197f6f7eebe8813ac7
Author: Dan Winship <danw@gnome.org>
Date:   Wed May 13 11:54:09 2009 -0400

    Take advantage of trayicon transparency in gtk+ 2.16
    
    Fall back to the old behavior with older gtk.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=582484

commit 278a44caf12b5a0ce20451a4929ebefbb7cef9a2
Author: Colin Walters <walters@verbum.org>
Date:   Tue May 26 17:22:51 2009 -0400

    Rework internals of ShellAppMonitor to use Metacity library
    
    The code here is significantly cleaner if we use the data Metacity
    already has cached and validated, rather than talking to X directly.
    
    Also some preparatory work for extending the monitor API by
    clarifying the name of the (current) main entry point.

commit 0ea01b31afeee963e7c09f25aa8fd82cb2608b4f
Author: Colin Walters <walters@verbum.org>
Date:   Mon Jun 1 13:46:39 2009 -0400

    Make unknown seat-id from gdm-user-manager debug instead of warning
    
    This makes running with G_DEBUG=fatal-warnings usable from an
    ssh connection on systems which don't record ConsoleKit logins
    for ssh sessions.

commit c32e928fc64bb187c02d13c8cfd15a4ff4156553
Author: Dan Winship <danw@gnome.org>
Date:   Wed May 13 15:32:51 2009 -0400

    Make Alt-Tab highlight iconified items (in the tasklist) too
    
    Change the "overlay" actor to be a group of 4 actors that we can
    rearrange so as to have a hole in the middle (to cover up the whole
    screen except for the highlighted icon). For non-iconified windows, we
    still highlight them the old way (raising them above the overlay),
    because we don't want square highlights around shaped windows.

commit 939aed29d657d808c07f0b0bfdec51dc2ccea3ff
Author: Dan Winship <danw@gnome.org>
Date:   Wed May 13 14:53:49 2009 -0400

    Make Alt-Tab a bit faster and nicer
    
    Make the indicator in the pop-up move faster.
    
    Quickly fade in the "overlay" window when starting, rather than
    showing it abruptly. Destroy it right away rather than just hiding it
    when the AltTabHandler is destroyed.
    
    Fix the font size to be the same as the "Activities" button.
    
    Fix a warning when tabbing past an iconified window.

commit 0e14789acae7d11d85a7130838a37e151eeaeaf9
Author: Dan Winship <danw@gnome.org>
Date:   Wed May 13 15:26:50 2009 -0400

    Fix Alt-Shift-Tab to not skip some windows
    
    The % operator doesn't do the expected thing with negative numbers.

commit a4904043a0f580bb4c64ad9a7e6713c0798b06c8
Author: Dan Winship <danw@gnome.org>
Date:   Wed May 13 15:29:39 2009 -0400

    Remove some debugging cruft that shouldn't have ever been committed

commit 386d6a5eb27fbb9d544ecb3bf7edc33b6ebae884
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Tue May 26 17:26:00 2009 -0400

    Fix showing image previews
    
    Fix the call for getting the image previews by getting an instance
    of TextureCache first and then calling load_uri_sync() on it.

commit 36775c9a58c9e5cf333bae2697d6df89f284543b
Author: Colin Walters <walters@verbum.org>
Date:   Tue May 26 12:56:38 2009 -0400

    Fix syntax error in previous patch
    
    Also some style/logic cleanups pointed out by Marina.

commit 5416f53351345655f9a893f508b76b12fdbc472c
Author: Colin Walters <walters@verbum.org>
Date:   Thu May 14 14:14:18 2009 -0400

    Bug 581944 - Fully rebase on ShellAppSystem, don't use Gio to load apps
    
    To avoid loading applications from two different systems, use
    ShellAppSystem solely.  This unifies the initial load and the
    reload.
    
    Extend ShellAppSystem to also load settings/preferences, and
    ensure they appear in the search.

commit 0c7b983b107d9e32c3ab6f77660117f64219afec
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat May 23 10:47:13 2009 -0400

    Fix Chrome group not to interfere with drag-and-drop
    
    Drag and drop was not working since the (non-reactive, invisible)
    chrome group was on top of most of the screen. Explicitly set
    a 0x0 size on that group to resolve the problem.

commit 7af940f7ea56e58e313be9acb2f0eced83db4563
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu May 21 18:49:00 2009 -0400

    Fix icon caching - set size in cache key
    
    We need to include the icon size in the data we pass to on_pixbuf_loaded()
    so that we can include it in the key we use when caching the icon
    Currently we save icons in the cache at size 0 but look them up at size 48
    so no caching occurs.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=583503

commit 7d913452f58534ae0bf63af3488c46b4b9eb6b2f
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu May 21 15:22:44 2009 -0400

    Point GJS_DEBUG_OUTPUT to stderr
    
    Recent gjs changes have made it log most types of messages (including
    log() calls) only to a configured log file and not to stderr. So,
    set GJS_DEBUG_OUTPUT=stderr to make *stderr* the log file and get
    our log() calls back.

commit 99e6004c6603e6a56ca21eef5220f5f7993eca67
Author: Jon McCann <jmccann@redhat.com>
Date:   Wed May 20 17:07:37 2009 -0400

    Use full opacity for windows in workspace/window selector
    
    The goal of the workspace view is to identify and select windows.  Transparency
    results in the blending of the window and the background (and icons on the
    desktop).  I think the transparency is counterproductive.
    
    We used it in the initial mockups kind of as a lark - it wasn't well thought
    out.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=582647

commit d024dbd7795371d75d98c0dc91a1bb93ce0a3c30
Author: Colin Walters <walters@verbum.org>
Date:   Wed May 13 14:06:24 2009 -0400

    Bug 582248 - Async loading of pixbufs and icon caching
    
    Add a ShellTextureCache class which loads (and can cache)
    pixmap->texture conversions.  This fixes a problem with the
    async code in ClutterTexture that it was lower priority
    than animations, and also ensures we're really only
    loading these pixbufs once in the icon case.

commit 10afe4619505d159f6639e70a346902082671ff1
Author: Dan Winship <danw@gnome.org>
Date:   Fri Apr 24 10:01:34 2009 -0400

    Add an initial implementation of the sidebar
    
    This still needs design love, and none of the current widgets should be
    considered finalized, but it shows the basic ideas.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=581774

commit bc558306a409fc9d80ea1b1d4a4887ae63d53e0c
Author: Dan Winship <danw@gnome.org>
Date:   Wed May 6 14:36:50 2009 -0400

    Improve the framework for managing shell UI
    
    Adds an explicit "chrome" layer for the panel (and later the sidebar),
    managing the input region and struts for them, and hiding them when
    fullscreen windows are present or the user enters the overlay.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=581771

commit ff7940b87fea3a2fd32d06b7ecf197fdc4d2547b
Author: Colin Walters <walters@verbum.org>
Date:   Thu May 14 13:03:18 2009 -0400

    Recursively flatten menus
    
    This is a quick-fix which at least shows entries from nested
    menus such as Wine.  It also enables us to load "settings.menu".

commit deaf0e4e1a56bd0325df56982be8982a872654a4
Author: Dan Winship <danw@gnome.org>
Date:   Wed May 13 15:24:32 2009 -0400

    Make switch-workspace faster (the same as the other wm ops)

commit bea595d14391259bbabbac9285d612c19bed3a34
Author: Milan Bouchet-Valat <nalimilan@club.fr>
Date:   Mon May 11 20:52:33 2009 +0200

    Fix occasional crash in lists handling in ShellAppMonitor
    
    We need to reset the popularity GSList* at start, and everytime we load data about a another activity. This also implies fixing the typo about (activity != -1).
    
    Thanks to Dan Winship. http://bugzilla.gnome.org/show_bug.cgi?id=582215

commit 675fe5617674566726975d387b5aad23572738f8
Author: Dan Winship <danw@gnome.org>
Date:   Mon May 11 16:21:39 2009 -0400

    Use transition:"easeOutQuad" for switch_workspace, just like everywhere else
    
    the overshoot-and-bounce-back effect (easeOutBack) gets annoying after a while

commit 0f2860b588352e1b1f70a2e7726c60433982f284
Author: Dan Winship <danw@gnome.org>
Date:   Mon May 11 13:06:42 2009 -0400

    Don't temporarily show minimized windows while switching workspaces

commit e365a0ba7ab6f5f726d17514caf5dcee2934002e
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Fri May 8 16:27:14 2009 -0400

    Press in the Activities button when the overlay is entered
    
    In addition to pressing the Activities button, the overlay can be entered
    by pressing the System key or Alt+F1. We want the button to look pressed in
    in these cases too.

commit 062e1aa78b4a3bea2d548eef9c3f236019268c5e
Author: Dan Winship <danw@gnome.org>
Date:   Thu May 7 09:47:48 2009 -0400

    Reorganize overlay hiding/showing code
    
    Rather than having main.js manage this, put it into overlay.js, and
    have the overlay object emit signals that other code can watch to do
    things when the overlay is showing/shown/hiding/hidden.

commit 17fb2808842e33ae27c0841216ee4d39e54d694b
Author: Dan Winship <danw@gnome.org>
Date:   Thu May 7 09:54:21 2009 -0400

    js/ui/panel.js: Lang.bind-ify

commit 397a1056386e8560736f89391714376347edd48f
Author: Dan Winship <danw@gnome.org>
Date:   Wed May 6 08:29:52 2009 -0400

    js/ui/Makefile.am: add altTab.js
    
    http://bugzilla.gnome.org/show_bug.cgi?id=581541

commit 84d469c1f9c8cc0076c8ad2dd57a450dc04924d0
Author: Dan Winship <danw@gnome.org>
Date:   Tue May 5 14:10:06 2009 -0400

    Deal with thumbnail failure correctly
    
    If a file already has a failed thumbnail indicator, don't try to
    thumbnail it, and if thumbnailing fails, create a failed thumbnail
    indicator. (In particular, so that if thumbnail creation times out, we
    don't keep retrying and eventually timing out every time the user
    opens the overlay.)
    
    http://bugzilla.gnome.org/show_bug.cgi?id=568081

commit 7fc4560e861a899399b92ddda55a7098d02e1c02
Author: Dan Winship <danw@gnome.org>
Date:   Tue May 5 16:34:25 2009 -0400

    Add gstreamer deps for Ubuntu to gnome-shell-build-setup.sh
    
    http://bugzilla.gnome.org/show_bug.cgi?id=579739

commit d67c88e4dcacc4353709f7d71a4bb335602ee1a6
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Tue May 5 15:40:52 2009 -0400

    Bug 577380 - Use the default application for the mime type to open the document
    
    Using appExec for the last application that registered the document was failing
    in certain cases, such as for the Open Office for which the application
    execution string is being registered as "soffice %u" in ~/.recently-used.xbel.
    In general, using the default application for the mime type seems to be a more
    predictable way to open documents. We still fall back to using the appExect
    for the last application if the default application for a given mime type was
    not found.

commit 88e68dec21712c23bdfaf1d8fd5aa6c22bc44f2a
Author: Dan Winship <danw@gnome.org>
Date:   Tue May 5 14:37:13 2009 -0400

    Let small windows appear at full size in the overlay if there is room
    
    Previously we forced all windows to shrink at least as much as the
    workspace itself did. Now we allow to shrink by a smaller amount (or
    not at all) if they'll still fit within their allotted slot.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=571192

commit 9b632e88732a7a1cc58b52c47de0fb287e6af2a4
Author: Milan Bouchet-Valat <nalimilan@club.fr>
Date:   Mon May 4 19:40:44 2009 +0200

    Fix GConf handling in ShellAppMonitor
    
    This solves several issues:
    - use built-in default so that app monitoring is enabled when schemas are not installed
    - don't start/stop timers without checking their previous state
    - unreference the default GConfClient
    - use #define for the GConf key path

commit ba552645258efdbcca9022b190aa07832773e78a
Author: Owen W. Taylor <otaylor@redhat.com>
Date:   Tue May 5 14:07:11 2009 -0400

    Set ShellTrayManagerChild.manager when creating a child structure
    
    Just because ShellTrayManagerChild had a 'manager' field, I shouldn't
    have assumed it was actually being set; fixes a crash with tray icons
    that don't support RGBA visuals.

commit ff9a42c9b68ee7a75106911123c7c45345d9680d
Author: Vincent Untz <vuntz@gnome.org>
Date:   Tue May 5 16:02:39 2009 +0200

    Do not use libgnome-shell.la for mutter plugin
    
    Unless we're running gnome-shell from the source directory, we shouldn't
    use the .la file as the mutter plugin. Instead, we use the dynamic
    library.
    
    Closes: bgo#581327

commit dedc1e096a425d7f0aaa11082f0d3d1f0eec381b
Author: Vincent Untz <vuntz@gnome.org>
Date:   Mon May 4 02:57:45 2009 +0200

    Fix distcheck

commit 4ef655ffcebe15a69ff1ca82ac35996e7b387f79
Author: Milan Bouchet-Valat <nalimilan@club.fr>
Date:   Mon May 4 19:35:29 2009 +0200

    Don't print useless error message when app monitor config file does not exist
    
    This warning was printed even when app monitoring was disabled. It's not needed anyay since we'll warn on saving if an error occurs.

commit b7d3640b49638bcbcd8106766f9a0ce4c099611d
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Mon May 4 14:28:07 2009 -0400

    Add missing include of <stdlib.h>
    
    gnome-shell-plugin.c needs stdlib.h for exit()

commit 3327a198e1d457d0a1a951eec4eaa67a44124e25
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sun May 3 13:05:15 2009 -0400

    Add size negotiation to the tray icons
    
    * Rename ShellGtkWindowActor to ShellGtkEmbed, and make it require
      a ShellEmbeddedWindow rather than a general GtkWindow.
    
    * Add ShellEmbeddedWindow subclass of GtkWindow that bypasses most
      of the GtkWindow complexity for size negotiation, and calls out
      to a clutter actor instead; also automatically handle reparenting
      the GtkWindow into the stage window.
    
    * Use the reworked ShellGtkEmbed in ShellTrayManager, this simplifies
      the code a bit, and more importantly results in the tray icons
      having the correct size negotiation, rather than having a fixed
      24x24 size.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=580047

commit 20e755023b49953d38453b113c8e276ecf67078e
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat May 2 18:33:13 2009 -0400

    Clean up underscores in function and variable names
    
    Try to fix all places where we accidentally used foo_bar instead
    of fooBar for function names, function parameters, and variables.
    
    (Lucas Rocha pointed out one example.)
    
    http://bugzilla.gnome.org/show_bug.cgi?id=581141

commit 63eea7dc2017cb0b96e5a9df37c6eb21c42c75cb
Merge: 432ad0f 81dbf51
Author: Dan Winship <danw@gnome.org>
Date:   Mon May 4 13:01:22 2009 -0400

    Merge branch 'tab'

commit 81dbf5118f1cdf7fed6bdbab425e58a4bf472bee
Author: Dan Winship <danw@gnome.org>
Date:   Mon Apr 13 10:55:41 2009 -0400

    Implement MetaAltTabHandler
    
    This is a fairly simple implementation, not all that different from
    plain metacity's. Further improvements could be made to
    js/ui/altTab.js in the future.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=580917

commit 432ad0f4512eb7456428a34951b38910a0676f45
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri May 1 18:35:55 2009 -0400

    Avoid clobbering the root window event mask
    
    Calling gdk_window_get_events() then gdk_window_set_events() will
    remove "exotic" X event masks that GDK doesn't know about like
    SubstructureRedirectMask. A window manager that doesn't select
    for SubstructureRedirectMask on the root window is no longer
    really a window manager, so various Bad Things were happening.
    
    We can just piggy-back on Mutter selecting for PropertyNotify
    events on the root window, so removing the code works fine.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=580572 (reported by Mike Bursell)

commit 4664fac566d0f52e7be941650757dd5044deeac7
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri May 1 16:21:00 2009 -0400

    Improve comments about startup notification
    
    Do a better job at describe the problems in docDisplay.js related
    to not reading the desktop files and finding StartupNotify=true.
    Also, fix a typo.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=580658

commit bb69afc830a0171a47d744c7eb64d8ffe7a5de5e
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri May 1 14:13:51 2009 -0400

    Set the workspace when launching apps
    
    main.js: Add create_app_launch_context() with code from appDisplay;
      additionally set the workspace on the launch context to the current
      workspace so that the application launches on the right workspace
      even if the user switches before the app starts.
    
    appDisplay.js docDisplay.js: Use Main.create_app_launch_context()
    
    http://bugzilla.gnome.org/show_bug.cgi?id=580658 (Reported by Igor Vatavuk)

commit 4a5873dd224f0e574b2021763bd8ce5098654a8e
Author: Dan Winship <danw@gnome.org>
Date:   Wed Apr 29 14:01:09 2009 -0400

    Create a more extensible/organized strut/input_area management system.
    
    Now code can call Main.addShellActor(actor) to declare that that actor
    is part of the shell, and so it should (a) be protected by wm struts, and
    (b) be part of the stage input area, and then that code automatically
    deals with updating if the actor changes size or visibility.

commit 63821f1ae7cad31a66de5390895c8fba01958e86
Author: Milan Bouchet-Valat <nalimilan@club.fr>
Date:   Thu Apr 23 16:41:24 2009 +0200

    use application monitoring to show most used apps in the menu
    
    The menu is filled with apps that are know to ShellAppMonitor, and then with default apps if there are not enough of them.

commit 216db2bb12ff4179cdd5f10e72755703f0ff25b4
Author: Milan Bouchet-Valat <nalimilan@club.fr>
Date:   Thu Apr 23 16:46:36 2009 +0200

    add GConf option to disable app monitoring
    
    This option only disables timers, so that already collected is still provided to e.g. appDisplay. IMO that's required for privacy concerns...

commit f4f92a879cd46e468f9828e42c857794b7ebd834
Author: Milan Bouchet-Valat <nalimilan@club.fr>
Date:   Thu Apr 23 23:03:34 2009 +0200

    application monitoring base object
    
    The new ShellAppMonitor object is responsible for tracking active applications and store statistics.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=570899

commit 17a4a3a9498bb7fdc9e4fc74c061324093e7bcf1
Author: Milan Bouchet-Valat <nalimilan@club.fr>
Date:   Thu Apr 23 23:10:37 2009 +0200

    use a global config dir (for app monitor)
    
    Ensure a configuration dir exists, and provide its path as 'configdir' property of ShellGlobal. This will be used by ShellAppMonitor.

commit 81b3f7cf44872fc959a13c015b833445d818b6ab
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Tue Apr 28 17:29:53 2009 -0400

    Bug 580528 – The panel should show today's date
    
    Show the date in the panel so that it looks more polished.
    
    Suggested by Josh Adams.

commit 82cf98740a5d24acf40e4437a5012ec384ba2341
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Tue Apr 28 15:35:36 2009 -0400

    Bug 578178 – Show large previews for image files
    
    Use the actual image from the file for expanded mode previews for image files. Use the pixbuf loader to set the appropriate image size as soon as the image is prepared, but before it is loaded, to avoid loading large images. Apply the pixbuf orientation setting so that the image is properly rotated. Preserve the original size of the image if its dimensions are smaller than the space available.
    
    Make sure we provide the accurate available width for the details actor. This
    width has to exclude the padding and border width. Also provide the available height for the details actor.

commit 59b12687d40fe9876c4e8898a5edd4f8cb9dca9f
Author: Colin Walters <walters@verbum.org>
Date:   Wed Apr 22 16:43:46 2009 -0400

    Bug 573322 - Do box layout in int
    
    This fixes some centering issues, e.g. in the search area.
    
    This patch is from Havoc Pennington.

commit 0b81a4a7e96d7dfdb1cc90d58dacd6d8d193f6e0
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Apr 25 11:56:09 2009 -0400

    Use Meta-2.27.gir when building the plugin gir
    
    Use Meta-2.27.gir; Mutter in git.gnome.org now generates that
    version.

commit 59ac8d15aded1c0d437413079928feae2e0a62af
Author: Dan Winship <danw@gnome.org>
Date:   Fri Apr 24 15:49:11 2009 -0400

    Specify bindir explicitly when installing jhbuild
    
    Works around the new default install dir (~/.local/bin) in the latest
    git jhbuild.

commit b2a51db0658a02b7ebca7049d4b7923af02ac550
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri Apr 24 10:26:42 2009 -0400

    Switch from metacity-clutter to mutter
    
    Switch our window manager dependency in the jhbuild moduleset from
    fishsoup.net branch of metacity-clutter to mutter module on
    git.gnome.org.

commit ac64e86932acdb7aff715ea1f5f56f07010d2d20
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Wed Apr 22 16:17:50 2009 -0400

    Add xserver-xephyr to Debian/Ubuntu dependencies.
    
    This is needed to be able to start the shell in Xephyr.

commit b632801c7cda1ac00c1335769860449b51e5e2be
Author: Colin Walters <walters@verbum.org>
Date:   Wed Apr 22 15:21:35 2009 -0400

    Rename ShellAppMonitor to ShellAppSystem
    
    This makes it clearer that really we're now an API, not just a
    monitor.

commit 56644dfada06ae515057ff793d1a7402edf59931
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Tue Apr 21 17:21:06 2009 -0400

    Close file descriptors on re-exec
    
    Use code copied from GLib to close all file descriptors before we reexec ourselves
    on the restart Alt-F2 command. This fixes serious memory leaks when we have mapped
    graphics buffers.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=579776

commit 7c8cb8450ca6e1a7d5027e1fd63c4d9f9d87e59f
Author: Sander Dijkhuis <sander.dijkhuis@gmail.com>
Date:   Wed Apr 22 02:23:06 2009 +0200

    Bug 578584 - Use the wallpaper for the overlay background
    
    The overlay looks nicer with the root window pixmap drawn on the
    background. It is scaled up to twice the size, with positioning
    based on the rule of thirds.
    
    The sideshow animations shown when entering or leaving the
    overlay and toggling the extended view were implemented by
    Marina Zhurakhinskaya. They replace the old method of having a
    black rectangle behind the workspaces that partly covers the
    sideshow during transitions.
    
    configure.ac: Add gdk-x11, clutter-x11 and clutter-glx modules.
    overlay.js: Add a root window pixmap actor, make sideshow width
        definitions more logical, replace the way the sideshow
        animates when entering or leaving the overlay.
    workspaces.js: Remove the backdrop, add helper functions for the
        overlay transitions.
    shell-global.[ch]: Add a method that creates an actor displaying
        the root window pixmap and returning clones of it.

commit 822ef09350aa4f0ad45e191342acb1aa2366194d
Author: Owen W. Taylor <otaylor@redhat.com>
Date:   Mon Apr 20 18:04:44 2009 -0400

    Refer to xulrunner-dev and python-dev on Debian/Ubuntu
    
    In the build setup script using unversioned xulrunner-dev and
    python-dev gives better compatibility with different operating
    systems and versions than using xulrunner-1.9-dev and python2.5-dev.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=578773 (Siegfried Gevatter)

commit 61b6fd2f9c2e5c4c348f578572eadbce586c6c3b
Author: Colin Walters <walters@verbum.org>
Date:   Mon Apr 20 15:58:31 2009 -0400

    When removing all items from the display, ensure selection state is reset too
    
    This avoids a problem where after a state change, we'd still think
    something was selected.

commit 3aeadee946939e582a936bd2231603347945db8b
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Apr 18 17:09:11 2009 -0400

    Set colormap on background pixmaps for a tray icons
    
    We need to use gdk_drawable_set_colormap() before drawing with cairo
    on a pixmap; otherwise cairo won't know what colors to use.

commit a0dcee1b8176d746c1591b1a35b7fc749e522e2d
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Apr 18 17:06:14 2009 -0400

    Fix drawing of icons with alpha transparency
    
    Icons with real alpha transparency weren't being drawn correctly
    because the NaTrayIcon was being set redirected in addition to the
    window holding it. And nothing drew the icon onto the window holding
    it. Use the newly added na_tray_icon_set_composited() to fix.

commit 58e718ac0c118993030f16f3b2ac3940e45cd45a
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Apr 18 17:05:14 2009 -0400

    Allow more flexibility for NaTrayChild compositing
    
    na-tray-child.[ch]: Add na_tray_child_set_composited() to allow the
     application to modify the behavior where gdk_window_set_composited(TRUE)
     is called for icons with alpha. Rename na_tray_child_is_composited() to
     na_tray_child_has_alpha() to better reflect the meaning and fix things
     so that it can be called at any time and not only after the icon is
     realized.
    na-tray.c: Adapt to na_tray_child_is_composited() rename.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=579454

commit bb92791bd34edb72e31f8516bec2e32cb6186568
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Apr 18 16:34:52 2009 -0400

    Sync whitespace with gnome-panel version of NaTray*
    
    Propagate line-wrapping and other white-space changes from gnome-panel
    to our copy of NaTrayChild and NaTrayManager.

commit c8fd1f99d53902a07cc06448cd94d4cae346d9c1
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Apr 18 16:24:36 2009 -0400

    Use single include for gtk+
    
    Merge from gnome-panel
    
    2008-12-09  Vincent Untz  <vuntz@gnome.org>
    
            * na-tray-manager.[ch]: use single include for gtk+

commit 5963a00fc57baacd51f495b043634d0e953fbfb9
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Apr 18 16:30:49 2009 -0400

    fix compilation warnings
    
    Merge from gnome-panel
    
    2008-12-09  Vincent Untz  <vuntz@gnome.org>
    
            * na-tray-child.c: (na_tray_child_realize): fix compilation warnings

commit 5efb616accee4786c7ea43cda5ade22d9f4f0132
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Apr 18 16:27:52 2009 -0400

    Remove translatable string in a warning
    
    Merge from gnome-panel
    
    2008-12-09  Vincent Untz  <vuntz@gnome.org>
    
            * na-tray-child.c: (na_tray_child_size_request): remove translatable
            string in a warning

commit 3de308ebe56f000f9d640271e7636bb313f18b53
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Apr 18 14:22:02 2009 -0400

    Download jhbuild from git
    
    Switch gnome-shell-build-setup.sh to check out subversion from git
    rather than the old subversion location.

commit 171ad80b4337399464c2050fe622214b88f7a5f1
Author: Sander Dijkhuis <sander.dijkhuis@gmail.com>
Date:   Sun Apr 12 19:48:35 2009 +0200

    Bug 578776 - Add gtkutil.js to the Makefile
    
    (Corrected to be in alphabetical order)
    
    Signed-off-by: Colin Walters <walters@verbum.org>

commit 5f01854c62d709d2403b78553651923dbf9888c0
Author: Colin Walters <walters@verbum.org>
Date:   Mon Apr 13 15:41:13 2009 -0400

    Bug 578807 - Menu selection not reset on mouse selection
    
    Clean up how we handle transitions a bit so that in the
    case of selection by mouse instead of keynav we correctly
    reset state.

commit a5a2112b31bde2900c9de3a46959bfc7da537ee2
Author: Colin Walters <walters@verbum.org>
Date:   Mon Apr 13 14:45:58 2009 -0400

    Cleanup of search entry layout
    
    This will be useful for later fine tuning.  We avoid some hard coded
    offsetting in favor of using box layout.

commit b153e4ed0f384bad90d5ceb84ba5652133251554
Author: Dan Winship <danw@gnome.org>
Date:   Mon Apr 13 11:58:05 2009 -0400

    When using -g, reset terminal state on exit
    
    Fixes various problems where gnome-shell would kill gdb and then leave
    the terminal in a broken state.

commit f5aed5127b11725f19015204005d0cdffbc4fe9a
Author: Colin Walters <walters@verbum.org>
Date:   Thu Apr 9 11:01:41 2009 -0400

    Bug 578430 - Followup fix for docs
    
    This commit follows up on 6760de9965c32f9f75901d3699aa7f2cb086f856
    and adds the corresponding fix for "Less...".

commit 7ae278f206bb64e0e5f43f60ed1b339fd771ae73
Author: Colin Walters <walters@verbum.org>
Date:   Thu Apr 9 10:53:24 2009 -0400

    Bug 578430 - Docs section regression
    
    This fixes a bad merge which broke the docs section.

commit 14498d80f1c2a49e9618c0d415b32d939c2b6df3
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Apr 9 10:32:21 2009 -0400

    Add libgnome-menu-dev for Ubuntu/Debian
    
    gnome-shell-build-setup.sh add libgnome-menu-dev to the list of
    required dependencies.

commit ed0f7de4c031bae0d8598489f2dd7846531c30ae
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Thu Apr 9 09:54:58 2009 -0400

    Add gnome-menus-devel to the Fedora build dependencies.
    
    It's needed by the new code for displaying application categories.

commit b199ca25180dd2719c2813e3f477ea2e603c862b
Author: Colin Walters <walters@verbum.org>
Date:   Wed Apr 8 16:06:11 2009 -0400

    Add missing "return true" from event handler

commit df1e05120795707b3797775c6a33c56aef57b42d
Author: Colin Walters <walters@verbum.org>
Date:   Wed Apr 8 10:54:27 2009 -0400

    Check the type of GMenu items we get to avoid a crash
    
    We can't assume they're entries, and in this case they were
    actually directories.

commit 3e33ee648104365115ac72bc143661f2d845df1a
Author: Colin Walters <walters@verbum.org>
Date:   Tue Apr 7 17:15:02 2009 -0400

    Add missing gtkutil.js file from previous commit

commit 0a9226f7f23f5339d101f0363491c7a64463bcc5
Author: Colin Walters <walters@verbum.org>
Date:   Wed Apr 1 15:51:17 2009 -0400

    Add a menu display to applications
    
    ShellAppMonitor now depends on gmenu to load menus.
    
    Use the menu data from ShellAppMonitor to show a menu list.
    
    GenericDisplay implementations can now have a sidebar area.  We
    handle keystrokes such as left/right explicitly.
    
    Some internal API changes to account for the fact that a display
    can have another filter in addition to the search.

commit 3c7f378e2f5281fc145521af719e234c3e6bcf28
Author: Dan Winship <danw@gnome.org>
Date:   Tue Apr 7 09:37:29 2009 -0400

    Don't use bash syntax pointlessly. Fixes this to work under real /bin/sh.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=578195

commit 0857377f821eb709d6386f87db43a34d83e58180
Author: Siegfried Gevatter <rainct@ubuntu.com>
Date:   Mon Apr 6 18:41:57 2009 +0200

    Add support for respawning Compiz
    
    If you start gnome-shell while Compiz is running, respawn it instead
    of Metacity when gnome-shell ends.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=578148

commit 22835b35e7e0685e870bc6d37f26afce2667c90c
Author: Siegfried Gevatter <rainct@ubuntu.com>
Date:   Mon Apr 6 16:10:03 2009 +0200

    Catch exception raised when Xephyr can't be found
    
    If Xephyr isn't installed currently src/gnome-shell raises
    an exception which isn't at all obvious without looking at
    the source. This commit catches the exception and replaces
    it with a more informative error message.

commit 2ea50125350056e4604f0dbe40dd0ea74b79e9a0
Author: Dan Winship <danw@gnome.org>
Date:   Fri Apr 3 10:59:11 2009 -0400

    Disable gdmuser debugging messages (unless "gdm" is set in GNOME_SHELL_DEBUG)
    
    http://bugzilla.gnome.org/show_bug.cgi?id=577855

commit 670532e5c97da061dfaa725a660a1a4f21a87354
Author: Dan Winship <danw@gnome.org>
Date:   Thu Mar 26 18:01:07 2009 -0400

    Fix the stage_input_area handling
    
    The panel show/hide changes broke things if window restacking occurred
    while the overlay was active. Now instead of having the panel set the
    input area itself, main.js just watches whether or not the panel is
    visible, and updates things itself (taking the modal state into
    account as well).
    
    http://bugzilla.gnome.org/show_bug.cgi?id=576903

commit 7995f75cfbc54811490fac8ab95ee065d00c3bb7
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Wed Apr 1 16:56:50 2009 -0400

    Handle previously installed dpkgs
    
    Checking return code of dpkg --status doesn't handle removed files
    properly. Get the text status of the package instead and make sure
    that it is 'installed'.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=577456

commit a074ef5d7c840e5ea95cae43001034cfee09772a
Author: Dave Jordan <dmj726@sbcglobal.net>
Date:   Tue Mar 31 16:40:18 2009 -0500

    Use a grid pattern in overlay if more than 6 windows
    
    The diagonal arrangement currently used in the overlay when there are
    more than 6 windows is hard to read and hides most of the previews.
    Both of these issues are fixed by arranging the windows in a grid pattern.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=576269

commit 5fbc0d4a56cef4bac5777027398c107c0abfa3cf
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Tue Mar 31 14:12:33 2009 -0400

    Bug 577338 – Show item details on click in the expanded view
    
    Change the overlay behavior to display more details about an item on single
    click and launch it on double click.
    
    When the item is clicked on in the expanded view, the details are shown in the
    area on the right that is allocated for showing details. The details pop-up is
    not shown for the item that was clicked on, but it is shown for other items on
    hover and for the item that was clicked if the mouse pointer is moved back to
    it.
    
    Both hovering and single clicking results in the details pop-up being shown in
    the regular view. (Single clicking actually doesn't do anything in the regular
    view, but the details pop-up is shown due to hovering within the time it takes
    to perform a single click.)
    
    The overlay now uses 3 columns on the wide screen for displaying items in the
    expanded view. This allows keeping the size of the details area the same for
    expanded and regular views.
    
    Add shell_get_button_event_click_count() to shell-global.[hc] to retrieve
    the click count for button press and release events.
    
    Add selectedItemDetails public variable actor to the generic display to
    contain the details of the selected item and be shown in the overlay when
    it is in the expanded view mode.
    
    Fix the bug when the sideshow section would loose selection in the expanded
    view if it did not have any items, and would not regain it if it was repopulated
    with some items (e.g. when the search string changes).
    
    The sideshow no longer takes overlay parent and width as constructor arguments.
    It is added to the overlay inside the overlay code and manages its own width
    instead (which is ok, since it is pretty much a private class within overlay).
    
    Clean up the way selection is moved when an item is launched in order to have
    selection on click and activation on double click be implemented in a similar
    fashion. An unneeded _activatedItem variable in generic display was removed,
    and the selected item is activated instead when necessary. The flow of processing
    signals changed so that generic display no longer waits for the selection from
    a different sideshow section to be removed before selecting an item that was
    clicked on. This removed the need for doActivate() function.

commit 2b9b6007107740fe9617f5675af03b3a51ca807b
Author: Sander Dijkhuis <sander.dijkhuis@gmail.com>
Date:   Tue Mar 24 19:25:07 2009 +0100

    Bug 574702 - Give the panel a gradient background and shadow
    
    The panel looks nicer when it is drawn as a semi-transparent gradient
    above the background color.
    
    shell-global.[ch]: Add a function that creates vertical gradient actors.
    panel.js: Change the look of the panel and put the tray in a framed box.
    overlay.js: Extend the overlay background to behind the panel.

commit 1fcaafdb58902f85808d4771cc1f7f590001d6f9
Author: Dan Winship <danw@gnome.org>
Date:   Thu Mar 12 17:13:08 2009 -0400

    Fix panel stacking with respect to fullscreen windows and screensaver. #571827
    
    Because we can't set the stage input area to a non-rectangular shape,
    we don't allow the panel to be partially overlapped; it is always either
    on top, or else completely hidden.

commit dcc0f368bd4589e14e00fdc7b0fea65ae367b15b
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Sat Mar 21 10:37:15 2009 -0400

    Add tooltip delay to the preview pop-ups.
    
    Showing previews after a delay allows the user to move the mouse around
    the screen without triggering constant pop-ups.
    
    Make sure we remove the pop-up when the user hits Escape and redisplay
    the pop-up if we are updating the section results due to a change in space
    allocated for it.
    
    Rename protected variable _hasPreview to _showPreview in order to not have
    the naming conflict with a new private variable _havePointer, which we
    name in first person.

commit afceea3fe6ecf4096a33314d40240e743171f6ef
Author: Owen W. Taylor <otaylor@redhat.com>
Date:   Fri Mar 13 17:14:31 2009 -0400

    Add a built-in screencast recording facility
    
    For development and demonstration purposes, it's neat to be able to
    record a screencast of gnome-shell without any external setup.
    Built-in recording can also give much better quality than is possible
    with a generic desktop recording, since we hook right into the paint
    loop.
    
    src/shell-recorder.[ch]: A general-purposes object to record a Clutter
     stage to a GStreamer stream.
    src/shell-recorder-src.[ch]: A simple GStreamer source element (similar
     to appsrc in the most recent versions of GStreamer) for injecting
     captured data into a GStreamer pipeline.
    src/test-recorder.c: Test program that records a simple animation.
    
    configure.ac src/Makefile.am: Add machinery to conditionally build
     ShellRecorder.
    tools/build/gnome-shell-build-setup.sh: Add gstreamer packages
     to the list of required packages for Fedora.
    
    js/ui/main.js: Hook up the recorder to a MetaScreen ::toggle-recording
     keybinding.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=575290

commit 288fb7a8377662c037f50cd495ccd5128a76680c
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Fri Mar 20 12:06:34 2009 -0400

    Bug 571426 - Show pop-up previews of sideshow items
    
    The pop-up previews have larger images than the item displays, which is
    particularly nice when we are displaying thumbnails for documents. The
    previews are also at least as wide as is required to fit the item title
    on one line and the item description inside them is wrapped. Therefore
    they act as tooltips showing the full title and description text.
    
    The preview updates when the item under the mouse pointer changes. Changes
    in overlay.js ensure that we keep the sideshow on top when the
    workspaces are not being animated so that we can find the item over which the
    pointer is located.
    
    The preview is removed when the item it is shown for starts being dragged.
    
    _hideInProgress variable was added to represent the state of the overlay
    when the code for hiding it was already triggered. This fixes the error
    which was happening when the code for hiding the overlay was triggered
    multiple times (for example by the user clicking the Activities button
    twice when exiting the overlay).

commit c018b7652f1b3c9274b430f2d8f4e784f76fb33e
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Tue Mar 17 18:22:25 2009 -0400

    Don't add windows to overlay workspaces when overlay is being exited.
    
    When a window is added while overlay is being exited (e.g. because
    some application was launched), we don't want to add that window to
    the workspace's window clones. Previously, the window clone was added
    and an animation to place the windows to their overlay workspace view
    positions was triggered, which resulted in the wrong animation being
    shown and an abrupt change in window positions when the actual workspace
    was shown.
    
    Add a boolean argument to two _positionWindows() calls that were missing
    an argument.

commit 9c8074535c9008132b9d00fdee6068420e3605a6
Author: Owen W. Taylor <otaylor@redhat.com>
Date:   Tue Mar 17 17:12:09 2009 -0400

    Change Meta.Direction.Top to Meta.Side.TOP
    
    Handle MetaSide being split from MetaDirection. The enums have
    the same numeric values for the corresponding values, so this
    change is only a cleanup.

commit 384b88910a683608ff0cf258a9493b6b5207fcd7
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Tue Mar 17 16:09:06 2009 -0400

    Call a global variable in our jhbuildrc _libdir not libdir
    
    jhbuild will complain if there are unknown variables not prefixed
    with _ in the jhbuildrc, so rename libdir to _libdir.

commit bd2fecc222acbe6785fcbb1c892bab06099b96ba
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Sat Mar 14 18:19:58 2009 -0400

    Add commented out workaround for #571240
    
    jhbuildrc-gnome-shell: Remove obsolete setting of
       os.environ['INSTALL'] - setting installprog is the modern way
       to do it.
    jhbuildrc-custom-example: Show how to override installprog to
      work around #571240 on Arch Linux.

commit 8087e6aee6bcd647de2d57fa695732d999034efa
Author: Dan Winship <danw@gnome.org>
Date:   Wed Mar 11 09:59:02 2009 -0400

    make gnome-shell runnable from an install

commit e01efd36358da845840a8a1d11422f622f8a7eee
Author: Dan Winship <danw@gnome.org>
Date:   Tue Mar 10 12:53:03 2009 -0400

    Make "make distcheck" work, and verify that we're disting all the javascript

commit 30a9c6b2f48af0f148704f2b1d20ad5b15e50486
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Wed Mar 11 17:56:22 2009 -0400

    Don't reset the page selection if the results have changed while the user
    was browsing exiting results
    
    This is most noticeable when viewing results in xephyr, and then opening
    a document in your regular session. But it could also be noticeable if
    downloading a new file completes while the user is in the overlay.
    
    This patch also moves the call to _displayMatchedItems() to _redisplay
    instead of making it in both _setDefaultList() and _doSearchFilter().

commit 39eb5636872bda7fe8cfc4792a3ef5d515ee9bc0
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Wed Mar 11 15:21:45 2009 -0400

    Bug 574697 - Slide the workspaces back in if the user starts dragging a document or an application item in the expanded display mode
    
    Sliding the workspaces back in when the user starts dragging an item in the
    expanded display mode allows the user to select a workspace in which the item
    should be launched and stay in the overlay mode.
    
    This patch adds code to dnd.js that handles notifying actors when a drag item is being dragged over them. Overlay code uses such notification to unset expanded display modes and trigger sliding in of the workspaces.
    
    If the drag is cancelled the drag item snaps back to its source or disappears at the original position of its source if the source is no longer displayed.

commit c570795ac760a7b3f6c10d3e7f4f3c7ca3018510
Author: Colin Walters <walters@verbum.org>
Date:   Tue Mar 10 17:53:05 2009 -0400

    exit () on JavaScript exceptions
    
    This is better than being in a wedged state.  See the comment
    for more argument.

commit 947303cc0bdb3416c5cf48a8087148a30a9bd2c5
Author: Colin Walters <walters@verbum.org>
Date:   Tue Mar 10 16:25:53 2009 -0400

    Use the use_lib64 jhbuild variable to pick the correct libdir
    
    Fixes multilib systems with 32 bit devel packages installed.

commit 8aa56e373fa066ef0bb42f546856f48232d9bf04
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Tue Mar 10 13:33:58 2009 -0400

    Bug 574691 – Stay in the overlay mode after drag and drop
    
    Just calling launch() on the item instead of activate(), launches the item but doesn't close the overlay mode.

commit 508d6021da66e4310f62cdee01f3718bddb6bb79
Author: Dan Winship <danw@gnome.org>
Date:   Tue Mar 10 13:03:20 2009 -0400

    Fix another s/$(libdir)/$(META_LIB_DIR)/ when building Shell-0.1.typelib

commit ab663d62e45759ea404622479146d7b4ad7c9469
Author: Dan Winship <danw@gnome.org>
Date:   Tue Mar 10 13:01:04 2009 -0400

    Remove references to files that no longer exist

commit 1048ae898bc24f5478e974bdcb235ca5e0374457
Author: Dan Winship <danw@gnome.org>
Date:   Tue Mar 10 13:00:36 2009 -0400

    fix CLEANFILES: it's Shell-0.1.gir, not Shell-1.0.gir

commit d7a23b7e31d151b50f23a0586b2e1622222629ae
Author: Dan Winship <danw@gnome.org>
Date:   Fri Feb 27 11:14:11 2009 -0500

    Bug 573413 – libmozjs linking broken on Ubuntu
    
    Patch gnome-shell.in to work around Ubuntu xulrunner bug in the same
    way our .jhbuildrc does

commit 5af37f140e12907f2f44fbba2150501358d515be
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Mon Mar 9 16:52:11 2009 -0400

    Bug 574117 - Allow paging through the application and document results in the overlay
    
    Add a display control that contains page numbers for the result
    pages and is shown in the expanded results view. All of the page selection and
    switching is handled by the GenericDisplay which exposes a displayControl
    actor, which is then displayed by the Sideshow.

commit 8b1f7322286d1d6a9911ffd1d5d41cface579e62
Author: Colin Walters <walters@verbum.org>
Date:   Fri Mar 6 13:06:39 2009 -0500

    Make Escape key close More... modes before closing overlay entirely
    
    This matches what I'd expect at least.

commit 3066f60efc78e8f9a1566d3a0630f8ede57d05b1
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Fri Feb 27 11:35:31 2009 -0500

    Handle applications without descriptions
    
    ClutterText doesn't accept NULL for text, so pass in "" explicitly
    if the description is null or undefined.
    
    (Mentioned in Bug 573404)

commit cb4ad9a96366bf6bffcf41d24e3ffa3009164b1c
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Feb 26 17:05:35 2009 -0500

    Fix behavior of More... links by adding a Link class
    
    We had problems because the More links were reacting on press but
    other elements were reacting on release. (Often the link would trigger
    *and* an item.) Just connecting to ::button-release-event on
    ClutterText gives a stuck grab (since ClutterText gets the press
    but not the release), so we need more complicated code that we
    encapsulate into a new class.
    
    link.js: new "pseudo-widget" that implements a clickable link.
    overlay.js: Use Link.Link for the More.. links
    
    http://bugzilla.gnome.org/show_bug.cgi?id=573323

commit 6676260308b5412a368f6c9ea402af985d193307
Author: Dan Winship <danw@gnome.org>
Date:   Thu Feb 26 13:08:42 2009 -0500

    Don't try to respawn metacity and the panel if we didn't kill them.
    
    Also, don't crash out of the python script if metacity-clutter crashes

commit 84aec28575728fad25bc1ed3432e9b84677eeb57
Author: Dan Winship <danw@gnome.org>
Date:   Mon Feb 23 16:44:33 2009 -0500

    Make the gnome-shell script work without needing "jhbuild run"

commit b39bc62171f3a08f50b304f0952d4919278c9bdd
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Wed Feb 25 14:01:39 2009 -0500

    Destroy workspaces background when exiting overlay mode
    
    Otherwise, we kept adding new backgrounds which was breaking the overlay mode when it was re-entered.

commit 009a8b3a04d8f279b39d6ab8784127ed2bf2a69c
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Wed Feb 25 13:28:10 2009 -0500

    Connect to 'text-changed' signal in the overlay search box
    
    Replace connecting to 'notify::text' in the overlay search box
    by connecting to 'text-changed' signal made available by ClutterText in Clutter 0.9.

commit 95c87f87fa2bdf340713b222305207202aea29c4
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Wed Feb 25 13:23:12 2009 -0500

    Bug 573078 – Add better transitions when expanding the item displays
    
    Add black backgrounds to each item display, as well as a black
    background with a full-screen height to the workspaces display.
    
    Update the expanded item display up front when 'More...' is clicked, and
    reveal the additional items gradually when the other components of the overlay
    slide away.
    
    Raise the documents display up gradually as the applications display above it slides away.
    
    Reverse the process when 'Less...' is clicked. First, gradually cover up additional items by other components, and then update the displays to contain fewer items.

commit 629c35bd2aea37f3e4daa5c10cc1646ae89a473a
Author: Colin Walters <walters@verbum.org>
Date:   Wed Feb 25 12:54:14 2009 -0500

    Only try to kill gnome-panel if it's running
    
    This avoids crashing if it's not.

commit 54a9b5ae4e29ba5c0e1a1a0634eaba0d8e709a5f
Author: Dan Winship <danw@gnome.org>
Date:   Tue Feb 24 14:59:32 2009 -0500

    Move LIBGL_ALWAYS_INDIRECT code to the right place

commit c67289fa2c70b08d8b5ce75045b2ad1acb7310fa
Author: Dan Winship <danw@gnome.org>
Date:   Tue Feb 24 13:05:13 2009 -0500

    Update Fedora deps (Bug 572053) and reorganize/improve in general
    
    Package checking now happens first, and checking for "curl" (and other
    packages needed by the script itself) happens at the same time. I
    tried to extract out a genericized list of what packages are needed,
    and then reordered the packages for each distro to make it clear which
    distros are missing some of the required packages in their lists
    (currently, everything except Fedora)

commit 67092f807ecaf492bd75632010a887853336baa4
Author: Dan Winship <danw@gnome.org>
Date:   Mon Feb 23 16:45:38 2009 -0500

    Fix setting of LIBGL_ALWAYS_INDIRECT
    
    (Previous commit mistakenly only set it in verbose mode due to a cut and
    paste error.)

commit 0763f5bc42836089027f578d43701be2e2df98d1
Author: Dan Winship <danw@gnome.org>
Date:   Mon Feb 23 14:52:49 2009 -0500

    Replace start-in-Xephyr/start-replace with a new single "gnome-shell" script
    
    The new script runs in "replace" mode if you pass --replace, or if there
    isn't already a panel running, and in "Xephyr" mode otherwise.

commit 1fe32e30f5b0e6acc06fbdefba21a8f295fa3459
Author: Owen W. Taylor <otaylor@redhat.com>
Date:   Mon Feb 23 14:43:57 2009 -0500

    Improve font appearance
    
    - Force off text mipmapping - it isn't useful to us and causes
      problems with old (pre-GEM) Intel drivers.
    - Set Pango font options explicitly to enable font hinting.

commit 0f7abf96a76c3072433f635ea465aeaae1b782b4
Author: Owen W. Taylor <otaylor@redhat.com>
Date:   Mon Feb 23 14:42:00 2009 -0500

    Port to Clutter-0.9
    
    tools/build/gnome-shell.modules: Point  at master branch of Clutter (0.9)
      and make gobject-introspection a dep of Clutter.
    configure.ac src/Makefile.am: Use Clutter-0.9
    js/ui/button.js js/ui/genericDisplay.js js/ui/overlay.js js/ui/panel.js
    js/ui/runDialog.js js/ui/workspaces.js src/shell-status-menu.c:
      Use ClutterText instead of ClutterLabel and ClutterEntry
    js/ui/workspaces.js js/ui/genericDisplay.js: Use ClutterClone instead
      of ClutterCloneTexture
    src/shell-global.[ch]: Add Shell.get_event_key_symbol() to workaround
      unaccessibility of clutter_key_event_symbol() to use.
    js/runDialog.js js/overlay.js: Use Shell.get_event_key_symbol() as
      appropriate.

commit 6719c00f8a6a06755d919ac80a8f03540c642a31
Author: Owen W. Taylor <otaylor@redhat.com>
Date:   Thu Feb 19 14:43:13 2009 -0500

    When centering, round to integer positions
    
    Positioning actors at non-integer positions produces bad looking
    text. Therefore, do centering as x + round((a-b)/2) rather than
    x + (a-b)/2. (This does mean that centering will be less accurate
    if an actor is scaled up by a lot, but it's pretty reasonable
    to assume that scaling only occurs during an effect and static
    displays are unscaled.)

commit f90523288d1f4abf40664e851bf595bb42b7ca8a
Author: Owen W. Taylor <otaylor@redhat.com>
Date:   Thu Feb 19 14:33:41 2009 -0500

    Port BigBox to Clutter-0.9
    
    - include only <clutter/clutter.h>
    - cogl_rectangle() takes x1/y1/x2/y2 instead of x/y/width/height
    - cogl_color() renamed to cogl_set_source_color4ub()
    - use explicit CoglMaterial in BigRectangle to combine a texture
      and a color.
    - Remove defensive calls to cogl_enable(0) - cogl_enable() no
      longer exists (enable flags are part of the material)
    - Use ClutterCairoTexture actor (from Clutter) rather than ClutterCairo

commit 902c29aa0c4694bc5713ad3be17e61beb9868e09
Author: Owen W. Taylor <otaylor@redhat.com>
Date:   Thu Feb 19 13:44:43 2009 -0500

    Change TidyGrid to just include clutter/clutter.h
    
    Including individual headers no longer works with Clutter-0.9.

commit d61401429e186dd8706f36f9fc05e13cffda7dcd
Author: Owen W. Taylor <otaylor@redhat.com>
Date:   Thu Feb 19 13:42:08 2009 -0500

    Remove the parts of Tidy that we aren't using
    
    Remove TidyButton/TidyFrame and the utility classes they use.
    We aren't using them and this avoids porting them to Clutter-0.9.

commit 333fa611daf80ad1ebea0074cf1c59333a1ef971
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Fri Feb 20 11:57:30 2009 -0500

    Bug 572094 - Put sideshow sections into boxes, enable expanded item display for documents
    
    Put sideshow sections into boxes so that we can slide them out with a single 'easeOutQuad' transition.
    
    Handle expanding the documents section in the same fashion as we handle expanding the applications section.
    
    Place "More..." labels inside Big Boxes with x_align set to Big.BoxAlignment.END so that we don't have to position them manually.

commit 87f50c3f427e6d5c4db145a54d023640701ee121
Author: Marina Zhurakhinskaya <marinaz@redhat.com>
Date:   Fri Feb 13 15:31:10 2009 -0500

    Fix up triggering search in the overlay.
    
    Make sure to set this._searchQueued to true, so that we don't queue the search twice.
    
    Remove an unused variable.

commit 0eb4873ba00d1151a0b9ec3ed903586cccd1d478
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Thu Feb 19 18:53:10 2009 +1000

    Bug 572384 - can't select windows that are on all workspaces in the overlay
    
    Workspace._onCloneSelected doesn't need to ask the window which
    workspace it's on, it can just use its own workspaceNum field.

commit 7b2d333b2e4441f169838c8c453ffce95950b5f8
Author: Colin Walters <walters@verbum.org>
Date:   Tue Feb 17 15:15:01 2009 -0500

    Remove extraneous trailing paren accidentally introduced by c3c46786

commit aaa846da1793cbd7fba530cc0ca056f553e35ceb
Author: Colin Walters <walters@verbum.org>
Date:   Wed Feb 11 11:31:33 2009 -0500

    Bug 571313 - Refocus search field every time overlay is shown
    
    Before the run dialog was changing the focus, but because we were
    only setting it once, we ended up with nothing focused after the run
    dialog was destroyed.

commit c3c4678635aa03d301ac1f9da13323fc0662ecfd
Author: Colin Walters <walters@verbum.org>
Date:   Fri Feb 13 12:11:10 2009 -0500

    Bug 571651 - Bind Alt-F1 to overlay
    
    Previously it was bound to main menu, bind it to the overlay now.

commit ac286a7722e524cacd7633edeb6d21929737f592
Merge: 9da7347 3d152f9
Author: Colin Walters <walters@verbum.org>
Date:   Tue Feb 17 11:38:25 2009 -0500

    Merge branch 'master' of ssh://walters@git.gnome.org/git/gnome-shell

commit 3d152f9c17546d0a3dbe98d79e9a85824c4368cd
Author: Dan Winship <danw@gnome.org>
Date:   Mon Feb 16 14:32:04 2009 -0500

    Fix the initial workspaces setup code. #571091
    
    mutter_plugin_get_windows() returns NULL at plugin-initialization time,
    so we have to wait until idle time to figure out which workspaces are
    being used and remove the unused ones.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=571091

commit 2a57080756aa1daba91ad44719c7c285ac4a56a2
Author: Frederic Crozat <fcrozat@mandriva.com>
Date:   Fri Feb 13 21:12:25 2009 +0100

    Add mesa-demos dependency on Mandriva for glxinfo

commit 2a031b3a2154c1ad564eee86c3bd627a60a87448
Author: Frederic Crozat <fcrozat@mandriva.com>
Date:   Fri Feb 13 21:03:16 2009 +0100

    Add flex bison GL-devel zenity intltool for Mandriva packages

commit 9da734706cc9ea0745aecfe09221e10e5e18f193
Author: Colin Walters <walters@verbum.org>
Date:   Fri Feb 13 14:40:52 2009 -0500

    Add --sync option to enable X synchronization
    
    This is useful for debugging.

commit bb1d1cc48da1481b542f2f43d6042c53435d4808
Author: Frederic Crozat <fcrozat@mandriva.com>
Date:   Fri Feb 13 18:53:54 2009 +0100

    Add more packages for Mandriva build and really call urpmi

commit 978fe62e3ecaee230aafc4e61199a35048ae826e
Author: Frederic Crozat <fcrozat@mandriva.com>
Date:   Fri Feb 13 18:21:51 2009 +0100

    Add support for Mandriva Linux

commit edcefc70aa16594016f7e4c6977ba2f4e138fc2a
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:   Thu Feb 12 17:53:53 2009 -0500

    Repoint modules for move to git.gnome.org
    
    gobject-introspection, gir-repository, and gjs have moved to git; adjust
    jhbuild moduleset accordingly.
    
    Also remove example for setting your svn.gnome.org username since none
    of the modules are there any more.

commit 85dae56a31e974301ece03062b4f57835c4f620f
Author: Colin Walters <walters@verbum.org>
Date:   Tue Feb 10 14:12:13 2009 -0500

    Bug 571203 - Handle spaces in overlay search
    
    Previously we were stripping all whitespace.  Instead, just strip leading+trailing
    whitespace, split the remaining search into individual terms which we search
    for independently.
    
    Items are grouped by the number of terms they match, then sorted
    alphabetically.

commit 2d3988c5fc030e4e791a28c5e69b1de1372581f1
Author: Marina <mazik@mazik.local>
Date:   Tue Feb 10 17:38:06 2009 -0500

    Bug 570579: Redo the layout of overlay components
    
    Divide the screen into a grid and use it to determine the layout of the overlay components in a more consistent manner.
    
    Remove the 'Add workspace' control and slide the workspaces
    display to the side without scaling it when switching to the 'More' mode.

commit de1c150f50b112a6394cc1c9c06ecd2807c1853c
Author: William Lachance <wrlach@gmail.com>
Date:   Tue Feb 10 15:29:56 2009 -0500

    Add librsvg-devel to the OpenSuSE dependency list
    
    librsvg-devel was missing from the OpenSuSE list, though on the
    lists for other distros. Add it to the OpenSuSE list as well.

commit 11561fd90204b6d23365c21cc570f4c9cd4d5b9a
Author: Dan Winship <danw@gnome.org>
Date:   Tue Feb 10 11:15:59 2009 -0500

    Abstract drag-and-drop a bit and add application/recent document DND. #569717

commit e79c776c2e461086622d013b3ea00d05578142a4
Author: Dan Winship <danw@gnome.org>
Date:   Tue Feb 10 11:12:58 2009 -0500

    Add a wrapper around tweener to do some extra integration
    
    Automatically removes tweens on destroyed actors, and provides
    additional "animation started/stopped" callbacks (eg, for tracking
    whether or not to show window clone titles)

commit 7d474b2217221569b549f51e325b28aba9e8b604
Author: Colin Walters <walters@verbum.org>
Date:   Tue Feb 10 10:57:59 2009 -0500

    Bug 51081 - Add startup notification information for application launching
    
    Set the event timestamp and icon in application launch context to
    support startup notification.

commit 6dd302e5ce187d6db9266a7d6c0b94fd37fa46f4
Author: Jonathan Matthew <jonathan@d14n.org>
Date:   Fri Feb 6 10:57:54 2009 +1000

    Bug 570583: handle tweens being overwritten during window effects
    
    Since tweener can't do multiple tweens on the same property, it
    calls an overwrite callback for any existing tweens when a new
    tween is added for the same property.  Here we use the overwrite
    callback to tell mutter that the effects are done.

commit fd69eeb87d1dcd1cfa387f55c954026953f2957e
Author: Dan Winship <danw@gnome.org>
Date:   Mon Feb 9 13:04:31 2009 -0500

    Add .gitignore

commit 191464e441dd85e6ef56812bf070bad50b830e36
Author: William Lachance <wrlach@gmail.com>
Date:   Sun Feb 8 08:34:26 2009 -0400

    OpenSUSE support for gnome-shell-build-setup.sh

commit e2b246a0066a2511c2e2ab6691b22de7c1e227c9
Author: Colin Walters <walters@verbum.org>
Date:   Fri Feb 6 17:33:08 2009 -0500

    Bug 570641 - Use null input area when a GTK+ grab is operative
    
    This ensures that any popup windows we create in process, such as
    the user status menu, will get X events delivered even if the user clicks
    on the stage input area.

commit 9695f8f86e25fa17b682ebe96382d68881d0645b
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Thu Feb 5 23:23:18 2009 +0000

    Update build scripts to reflect move of gnome-shell to git.gnome.org
    
    gnome-shell-build-setup.sh jhbuildrc-gnome-shell: Download files from
     git.gnome.org/cgit rather than svn.gnome.org.
    
    gnome-shell.modules: Point to the new location of gnome-shell
    
    jhbuildrc-custom-example: Show how to configure non-anonymous accesss
     to git.gnome.org.
    
    svn path=/trunk/; revision=189

commit e0241ad578c807afbe6dd0577aaf4cf6dccadeaf
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Thu Feb 5 21:52:04 2009 +0000

    Fix start-replace for --wide addition to launcher.py
    
    Don't look for options.wide when accept_geometry isn't passed to the
    Launcher constructor.
    
    (Reported by Achim Frase)
    
    svn path=/trunk/; revision=188

commit cc4325ea79756033c07e1a25d30a10b3b1f57c33
Author: Dan Winship <danw@src.gnome.org>
Date:   Thu Feb 5 15:35:23 2009 +0000

    Add -w (widescreen) and --geometry options to start-in-Xephyr. #570580
    
    svn path=/trunk/; revision=187

commit 153541841bbb1a25cb45fd13c9035f66c1d5975b
Author: Colin Walters <walters@src.gnome.org>
Date:   Wed Feb 4 22:40:26 2009 +0000

    Minor style fixes for status menu
    
    svn path=/trunk/; revision=186

commit 34f5adc9c020bdae90403ea2de310508d06bf091
Author: Colin Walters <walters@src.gnome.org>
Date:   Wed Feb 4 22:40:24 2009 +0000

    Ignore newly added non-overlay windows
    
    This prevents e.g. the popup menu from statusmenu from appearing
    as a toplevel window.
    
    svn path=/trunk/; revision=185

commit cd645af5ae8f3a64134e459fb615d83eb97bcd82
Author: Colin Walters <walters@src.gnome.org>
Date:   Wed Feb 4 18:49:54 2009 +0000

    Add Makefile missed in last commit, minor style tweak for statusmenu
    
    svn path=/trunk/; revision=184

commit b7a0a5e7691ec426579a0d4718f6950d902afab9
Author: Colin Walters <walters@src.gnome.org>
Date:   Wed Feb 4 18:45:38 2009 +0000

    Merge branch 'statusmenu'
    
    svn path=/trunk/; revision=183

commit 48e578ddaa413de3d222d9ecb55b12de09214116
Author: Dan Winship <danw@src.gnome.org>
Date:   Wed Feb 4 18:24:20 2009 +0000

    Small fix for when a new window is added just before leaving the overlay
    
    svn path=/trunk/; revision=182

commit 3392bef5c7094118b8903fdc999be3e0cb22673c
Author: Dan Winship <danw@src.gnome.org>
Date:   Wed Feb 4 15:22:35 2009 +0000

    Call GenericDisplayItem's main actor '.actor' instead of '._group'.
    As seen in #569717. Also fix up some indentation.
    
    svn path=/trunk/; revision=181

commit 4850ea608f729220150e8a55929f3b2437684be3
Author: Dan Winship <danw@src.gnome.org>
Date:   Wed Feb 4 14:50:50 2009 +0000

    Track window adds/removes in the overlay. #568983
    
    svn path=/trunk/; revision=180

commit e9826ecb4514181a37970ebf2a91c5ea1f0f8a25
Author: Marina Zhurakhinskaya <marinaz@src.gnome.org>
Date:   Tue Feb 3 22:58:33 2009 +0000

    Add a 'More' control to the applications display in the overlay
    mode. When this control is clicked, documents display section slides down,
    workspaces display slides to the side, and a multi-column applications view is
    presented to the user. "More' control is replaced with a 'Less' control. When
    the 'Less' control is clicked a default overlay view is restored.
    
    Clean up positioning of the components of the overlay sideshow
    and the items within generic item displays.
    
    
    svn path=/trunk/; revision=179

commit 5f5a41b54e328c5f6b935d9cc31bc118d6f6ba7e
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Tue Feb 3 21:25:27 2009 +0000

    Remove left-over comment
    
    Remove comment in frame-ticker code about dynamically adjusting
    FRAME_RATE - we no longer do that.
    
    svn path=/trunk/; revision=178

commit 4117739abb31c1a44bb28a18ac3615bff0beae0c
Author: Dan Winship <danw@src.gnome.org>
Date:   Tue Feb 3 18:25:34 2009 +0000

    Don't do window transitions while the overlay is active. Part of #568983.
    
    Previously we were only doing this check for switch-workspace, but it
    makes sense to do it for all transitions, since they won't be visible
    anyway, and they might interfere with the overlay's operations by moving
    windows around unexpectedly.
    
    svn path=/trunk/; revision=177

commit 87a3088719005ef0bfd42f47d901dfc0fa4dcd48
Author: Dan Winship <danw@src.gnome.org>
Date:   Mon Feb 2 23:02:16 2009 +0000

    sort imports consistently; everything-but-our-javascript, alphabetically,
    then a blank line, then all of our javascript, alphabetically
    
    svn path=/trunk/; revision=176

commit 18503ed28f32933815f139f3ede0dd0a6dba92f0
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Mon Feb 2 22:22:00 2009 +0000

    Improve dependency checking for gnome-build-setup.sh
    
    - Check for curl upfront to avoid problems if it is missing later
    - Sync up Debian and Fedora depedency lists
    - Add readline dependency
    
    Patch from timbobsteve
    http://bugzilla.gnome.org/show_bug.cgi?id=570015
    
    svn path=/trunk/; revision=175

commit 489f3306e678b60501e2f217c73bff51e1cf5303
Author: Dan Winship <danw@src.gnome.org>
Date:   Mon Feb 2 20:54:33 2009 +0000

    Fix a crash deleting a workspace, and another crash if the user tries to
    select a workspace after deleting it.
    
    svn path=/trunk/; revision=174

commit f35ee1a5a0f0d06a53aca08cc7a6cc8f0984b1c1
Author: Dan Winship <danw@src.gnome.org>
Date:   Thu Jan 29 21:25:35 2009 +0000

    oops, remove Workspace._makeDesktopRectangle, it's unused now
    
    svn path=/trunk/; revision=173

commit 5def603e86a8bc5286b46615aa13bcb3355e7c6e
Author: Dan Winship <danw@src.gnome.org>
Date:   Thu Jan 29 21:21:50 2009 +0000

    Move window clone functionality into its own class
    
    svn path=/trunk/; revision=172

commit 7ca77dccc992b31ae0f408ee9fb9e760efb3f44d
Author: Dan Winship <danw@src.gnome.org>
Date:   Thu Jan 29 21:21:23 2009 +0000

    Do window dragging in the stage, not in the original workspace's actor
    
    svn path=/trunk/; revision=171

commit 54337ee6a95b81c9892f8a01ce24bc329408f3cf
Author: Dan Winship <danw@src.gnome.org>
Date:   Thu Jan 29 21:20:37 2009 +0000

    Two dragging-related fixes
    
        - Don't let the user grab a moving window or we'll get dueling tweens.
        - Update _overlappedMode each time _positionWindows is called
    
    svn path=/trunk/; revision=170

commit a80c18bc4ead38bf56b97752ca1f47c06648226d
Author: Dan Winship <danw@src.gnome.org>
Date:   Tue Jan 27 20:29:37 2009 +0000

    Use BigBox rather than TidyGrid to organize the panel. #568712
    
    svn path=/trunk/; revision=168

commit 3a84625888ea341965a9d2de8358febe0568704f
Author: Dan Winship <danw@src.gnome.org>
Date:   Tue Jan 27 20:29:17 2009 +0000

    Make a ClutterActor subclass that wraps a GtkWindow, and use it for the tray.
    
    In particular, this lets us track the actor's location better; the old code
    didn't work if the actor was put into a container that got moved around.
    Part of #568712.
    
    svn path=/trunk/; revision=167

commit c86ce82921059101b0b2c5aca6722a3e39fa6c46
Author: Dan Winship <danw@src.gnome.org>
Date:   Tue Jan 27 20:05:55 2009 +0000

    fix a bug in the snap-back animation by turning it into a less-noticeable bug
    
    svn path=/trunk/; revision=166

commit ee55d96190f85e9b2e1f69e1cc21b946267aaf57
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Tue Jan 27 16:55:39 2009 +0000

    Improve gnome-shell-build-setup.sh for Fedora
    
    - If lsb_release binary isn't present, look for /etc/fedora-release
    - Check for required packages for Fedora and invoke
      gpk-install-package-name
    
    Patch from Mads Villadsen.
    
    svn path=/trunk/; revision=165

commit 9b89ba6270838064dd2177c19bf003f80730e755
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Fri Jan 23 19:21:20 2009 +0000

    Allow windows to be dragged to other workspaces
    
    * Make updating of the clone title more of a state-machine - instead
      of showing/hiding/creating/raising the title all over the code, have a
      single Workspace._updateCloneTitle() method that looks at state bits and
      decides if the clone should be hidden or shown, and updates the
      stacking and position.
    
    * Move code to positioning of windows within a workspace in the overlay
      modeto a new method Workspace._positionWindows()
    
    * Add Workspace.addWindow()/removeWindow() to add and remove windows
      from the workspace on the fly. (Triggered manually: we still don't
      handle external changes to windows when the overlay is up.)
    
    * Hook up mouse-dragging for window actors and add a
      ::window-dragged signal to Workspace
    
    * Connect to ::window-dragged for each workspace, compute the new
      workspace, move it the window there, and animate everything into the
      new position. Snap back to the old location if the window didn't move.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=568753
    
    svn path=/trunk/; revision=164

commit b2fbf5a2d883b57afcc59382151ceddab65fd405
Author: Marina Zhurakhinskaya <marinaz@src.gnome.org>
Date:   Thu Jan 22 21:28:19 2009 +0000

    shell-global.c: remove a log message about missing 'Categories' key in the desktop file, as this key is not required
    
    main.js: set desktop environment to "GNOME" so that GIO can determine correctly which applications should be shown in the menus.
    
    appDisplay.js: filter out applications that should not be shown in the menus, check if get_executable() for GAppInfo is not null before using it
    
    svn path=/trunk/; revision=163

commit 5280decb59a3d57c18ab28d9843571e4305ade94
Author: Colin Walters <walters@src.gnome.org>
Date:   Wed Jan 21 22:37:02 2009 +0000

    Bug 568625: Ignore extra whitespace in search
    
    svn path=/trunk/; revision=162

commit ce36eafc2f2918c0ec20b993dfaa01374a80a8bc
Author: Colin Walters <walters@src.gnome.org>
Date:   Wed Jan 21 22:36:53 2009 +0000

    Bug 568624: Make overlay search case insensitive
    
    svn path=/trunk/; revision=161

commit 90bce45ec66acf8330ee311d7f50ef19fa96c762
Author: Dan Winship <danw@src.gnome.org>
Date:   Wed Jan 21 21:59:58 2009 +0000

    fix workspaces padding a little. (it's still not quite right)
    
    svn path=/trunk/; revision=160

commit 9949d75fccc051f74d72733950bd58fecdf2638e
Author: Marina Zhurakhinskaya <marinaz@src.gnome.org>
Date:   Wed Jan 21 21:50:57 2009 +0000

    Get categories from the desktop files for all applications
    and use them when finding matching applications for the search in the overlay mode.
    
    svn path=/trunk/; revision=159

commit 0d612b7954e9a0f1e0d23c32965771e41f8df654
Author: Dan Winship <danw@src.gnome.org>
Date:   Wed Jan 21 21:12:49 2009 +0000

    Highlight the current workspace in the overlay view
    
    Needs cooler-ness.
    
    svn path=/trunk/; revision=158

commit 136ce3257d0d88da8da12ce68bb08daa055e4531
Author: Dan Winship <danw@src.gnome.org>
Date:   Wed Jan 21 20:35:20 2009 +0000

    Clean up Workspace animation. #567865
    
    Use Tweener.registerSpecialPropertyModifier to handle moving windows in
    straight lines on the screen even while their parent workspaces are also
    moving.
    
    Have the remove buttons track their parent workspace scale and deal with
    it automatically rather than having special cases in each Workspace method.
    
    svn path=/trunk/; revision=157

commit ff5f960978c42a92e62092b273174bf9f51c40a0
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Tue Jan 20 18:32:25 2009 +0000

    Adapt to new Tweener frame ticker API
    
    Now that getTime() has been added to the frame ticker interface
    we can implement frame dropping in a more straightforward way
    than adjusting the FRAME_RATE member variable to fool Tweener
    into doing the right thing.
    
    svn path=/trunk/; revision=156

commit 9a00ab1594f0df4b89df9b1ceb806981316c8325
Author: Dan Winship <danw@src.gnome.org>
Date:   Tue Jan 20 18:20:41 2009 +0000

    add a missing ";"
    
    svn path=/trunk/; revision=155

commit 12b10342e0ace8bf40b2c29bcffdd95cc63635ad
Author: Colin Walters <walters@src.gnome.org>
Date:   Tue Jan 20 16:13:41 2009 +0000

    Fix closing of loop variable which caused error messages
    
    Can't close over loop variables in that way; need to define an explicit var.
    
    Also fix case where no title is defined yet when attempting to adjust.
    
    svn path=/trunk/; revision=154

commit 70a3434b5af5d66260b03337a17f35377302da11
Author: Colin Walters <walters@src.gnome.org>
Date:   Mon Jan 19 23:21:57 2009 +0000

    Add a panel containing tasklist to bottom screen
    
    This is implemented as a separate process, since creating and running
    toplevel windows from inside Metacity has issues.
    
    We now grab a DBus name, and exec the child process.  The child monitors
    our name to know when to exit.
    
    svn path=/trunk/; revision=153

commit 5afcf07782b58a70568f750cdee20b67688ab487
Author: Colin Walters <walters@src.gnome.org>
Date:   Mon Jan 19 23:06:59 2009 +0000

    Merge branch 'workspace-salon'
    
    Conflicts:
    	src/shell-global.c
    
    svn path=/trunk/; revision=152

commit b6ec5080c887fb9e05d134bde0135727fc278a13
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sat Jan 17 14:41:45 2009 +0000

    Escape % in g_app_info_create_from_commandline
    
    g_app_info_create_from_commandline supports % escapes for
    file name, icon name, etc, so we need to escape the command line
    we pass in. If it contains an URL with url-encoded UTF-8 it will
    typically have some percent signs.
    
    (Reported by Achim Frase)
    
    svn path=/trunk/; revision=151

commit 244555f3ae832c22b6f370e3b1c2a3632fb40513
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sat Jan 17 13:44:44 2009 +0000

    Fix include path to libgnomeui/gnome-thumbnail.h
    
    Remove a stray libgnomeui-2.0/ (Michael Monreal)
    
    svn path=/trunk/; revision=150

commit ac6a5ef4affc25c6b330a8e56fec35ff1a717df3
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Fri Jan 16 20:40:16 2009 +0000

    Cleanup: use destructuring assignment
    
    For multiple return values use
    
     let [val1, val2, val3] = function();
    
    Rather than:
    
     temp = function();
     val1 = temp[0];
     ...
    
    svn path=/trunk/; revision=149

commit 8db3685e2919c276017ba0f226b5a0b59542a85a
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Fri Jan 16 20:10:26 2009 +0000

    Include generated enumeration types when scanning
    
    gjs requires flags types to be registered with GObject to
    work properly; g-ir-scanner requires the get_type() functions
    to be present in a scanned header in order to find the
    GObject type for a flag. So pass {tidy,big}-enum-types.h to
    the scanner as appropriate.
    
    svn path=/trunk/; revision=148

commit ca724920a3daa3bf83a298cf49a60bdc7265f4c7
Author: Dan Winship <danw@src.gnome.org>
Date:   Tue Jan 13 20:49:31 2009 +0000

    Make sure the animation always starts from the first frame, even if the
    system is really busy and ClutterTimeline doesn't get a chance to call
    us until it thinks several frames have passed
    
    svn path=/trunk/; revision=147

commit b3860314b2e52d2a7fc271aee6be9f04b0bec675
Author: Dan Winship <danw@src.gnome.org>
Date:   Tue Jan 13 20:45:54 2009 +0000

    load the GAppInfos at startup time rather than waiting until the overlay
    is opened for the first time
    
    svn path=/trunk/; revision=146

commit fd83658c8d955d9b222a3c5de95e7fefdc43172a
Author: Dan Winship <danw@src.gnome.org>
Date:   Tue Jan 13 20:43:03 2009 +0000

    Remove unused workspaces at startup (since mutter uses the same gconf
    prefs as metacity, we're likely to start out with 4 workspaces)
    
    svn path=/trunk/; revision=145

commit 84cfdcd24460d731d11b7927ac9f7298e7b469eb
Author: Dan Winship <danw@src.gnome.org>
Date:   Tue Jan 13 20:07:57 2009 +0000

    update default apps list a little more: remove evince, totem, file-roller,
    which you don't launch on their own, only with a document
    
    svn path=/trunk/; revision=144

commit 849ddbd3f68d8e535e48285dd34bd783e210faaf
Author: Marina Zhurakhinskaya <marinaz@src.gnome.org>
Date:   Fri Jan 9 01:09:35 2009 +0000

    Display thumbnails of recent files in the overlay mode by using GnomeThumbnailFactory to get them. Fall back to the system icon for the file type provided by GtkRecentInfo when a thumbnail is not available.
    
    
    svn path=/trunk/; revision=143

commit 1e99f00e59f9bb2ca1620e383247d06412972798
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Thu Jan 8 23:34:19 2009 +0000

    Pass the right 'this' to switchWorkspaceDone
    
    switchWorkspaceDone was being called with the wrong 'this', causing
    ShellWM.completed_switch_workspace() never to be called, causing stacking
    order to get confused.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=567091
    
    svn path=/trunk/; revision=142

commit 4406943fd838c9944bc1b11c6277d3a2680b10fb
Author: Marina Zhurakhinskaya <marinaz@src.gnome.org>
Date:   Thu Jan 8 23:31:23 2009 +0000

    Check if the file still exists when displaying matches for the search.
    
    Use get_modified() instead of get_visited() for GtkRecentInfo as get_modified() seems to reflect when the file was last modified or visted, while get_visited() stays the same as get_added(). See http://bugzilla.gnome.org/show_bug.cgi?id=567094
    
    svn path=/trunk/; revision=141

commit 9bee44fe26b58b41d0e1957a00b10bc602a3c7d3
Author: Colin Walters <walters@src.gnome.org>
Date:   Wed Jan 7 22:19:46 2009 +0000

    Bug 563394 - revert change to run overlay key in idle
    
    This was likely a different bug, possibly the OOM after a period of time.
    It seems reliable for me now without the idle.
    
    svn path=/trunk/; revision=140

commit 85c22e484d0e32aa2e9d8618f7654fd3409b6154
Author: Jonathan Matthew <jmatthew@src.gnome.org>
Date:   Mon Dec 29 04:44:03 2008 +0000

    implement some basic window management effects.  #563844
    
    svn path=/trunk/; revision=139

commit b3aaf2ced5bc8fccaf857672135bb9223d4ed21f
Author: Dan Winship <danw@src.gnome.org>
Date:   Mon Dec 22 22:06:47 2008 +0000

    Add (+) and (-) icons for workspace management to the overlay
    
    svn path=/trunk/; revision=137

commit 54d8f3b27d4e6fbf4f5295b5b868446f3f3724a8
Author: Dan Winship <danw@src.gnome.org>
Date:   Mon Dec 22 22:05:56 2008 +0000

    Add (+) and (-) icon artwork, and a little bit of infrastructure for them
    
    svn path=/trunk/; revision=136

commit 40a3fdc02e020219e8a419e6824fa4a848aaa8b3
Author: Dan Winship <danw@src.gnome.org>
Date:   Mon Dec 22 21:51:34 2008 +0000

    split out a Workspace class from Workspaces, reorganize for that
    
    svn path=/trunk/; revision=135

commit 45ba65bebb23593eb6f4c7041e28547791decf37
Author: Dan Winship <danw@src.gnome.org>
Date:   Mon Dec 22 21:50:23 2008 +0000

    Move Workspaces-size computation into Workspaces
    
    svn path=/trunk/; revision=134

commit a168f6da42bcd7a66803f666b79c2e3134223861
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Mon Dec 22 21:05:08 2008 +0000

    Convert to gnome-shell-plugin to new plugin style
    
    The plugin-gobject branch of Mutter (now merged into our branch) converts
    plugins to more-standard GObject GTypePlugin, with the plugin itself
    being a GObject class.
    
    gnome-shell-plugin.c: Switch plugin to the new scheme
    shell-wm.[ch]: Forward effect signals to ShellWM rather than hooking
      directly into the plugin vtable.
    default: Remove this (accidentally committed) file
    
    svn path=/trunk/; revision=133

commit 48cda5b179e3cd2192209da0fc7ebba751b3f6c4
Author: Marina Zhurakhinskaya <marinaz@src.gnome.org>
Date:   Sat Dec 20 04:27:57 2008 +0000

    Create two base classes: GenericDisplayItem and GenericDisplay, as
    well as corresponding classes for applications and documents that inherit from
    them.
    
    Use half the height of the sideshow in the overlay mode for the
    AppDisplay, and the other half for the DocDisplay.
    
    Enable moving the selection between the two displays by using up and down arrow keys.
    
    Enable activating any item by clicking on it, in addition to activating the currently selected item by pressing Enter.
    
    Apply search entry content to both sets of items.
    
    
    svn path=/trunk/; revision=132

commit 749d356ef90fb0d9c741b04d1d8979dc2586fe6f
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Thu Dec 18 22:16:51 2008 +0000

    Remove accidentally introduced import of GtkClutter
    
    An unused import of GtkClutter snuck in somehow, remove it.
    
    svn path=/trunk/; revision=131

commit 6a1e408c44f8646b7d2a1c2bad7e14160dbeeb59
Author: Colin Walters <walters@src.gnome.org>
Date:   Thu Dec 18 20:57:37 2008 +0000

    Add magic 'restart' command to run dialog which re-executes
    
    This is immensely convenient for debugging.  The shell global reexec_self
    only works on Linux, sue me.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=565037
    
    svn path=/trunk/; revision=130

commit f059492a205e8022f4ad7efe6b5a8a49e34952b8
Author: Colin Walters <walters@src.gnome.org>
Date:   Thu Dec 18 18:50:09 2008 +0000

    Add full size icon+title to overlay
    
    The icon+text is useful in order to distinguish between windows
    that might look similar otherwise.
    
    The implementation is not optimal:
    
    * We create a new texture from the pixmap each time
    
    http://bugzilla.gnome.org/show_bug.cgi?id=563406
    
    svn path=/trunk/; revision=129

commit f3ca7a0430cf34a2b03d2ed968746cffd856e936
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Wed Dec 17 16:52:05 2008 +0000

    Repoint clutter to the new git repositories
    
    clutter and clutter-cairo have moved to git; adjust our jhbuild
    moduleset to match the new location.
    
    svn path=/trunk/; revision=128

commit 8c59c2b5bf138396f62ab514acebdeba28657338
Author: Dan Winship <danw@src.gnome.org>
Date:   Mon Dec 15 21:03:07 2008 +0000

    Track changes to the screen's n-workspaces property, and add and remove
    workspaces from the overlay as needed. #564181
    
    svn path=/trunk/; revision=127

commit 97ae22dae58bf284c7932c15878235986022dcd3
Author: Dan Winship <danw@src.gnome.org>
Date:   Mon Dec 15 20:58:10 2008 +0000

    Use a stable workspace ordering as rows and columns are added, rather than
    just doing a simple row-major ordering
    
    svn path=/trunk/; revision=126

commit d07433d445411cd124e571575ae7b592b1b363d1
Author: Dan Winship <danw@src.gnome.org>
Date:   Mon Dec 15 20:55:24 2008 +0000

    change the workspace zooming metaphor in the overlay
    
    svn path=/trunk/; revision=125

commit 249e65ee305354fa1f6cf0a871803ccdbf3c20fc
Author: Dan Winship <danw@src.gnome.org>
Date:   Mon Dec 15 20:48:59 2008 +0000

    Make the workspaces view a temporary "widget", rather than having it always
    around
    
    svn path=/trunk/; revision=124

commit 98860733bbb94b9b9fc6df550bb98c6d37e6a95e
Author: Marina Zhurakhinskaya <marinaz@src.gnome.org>
Date:   Tue Dec 9 22:10:43 2008 +0000

    Convert some variable and file names to lowerCamelCase.
    
    Remove unused variables in AppDisplay::_filterAdd().
    
    svn path=/trunk/; revision=123

commit d42bce21c5c748ea834f93882b15967ba4caff30
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Fri Dec 5 23:20:10 2008 +0000

    Use CompositeRedirectManual for tray icons
    
    We don't want the X server to draw the icons onto the screen, so
    use pass automatic=FALSE to clutter_x11_texture_pixmap_set_window();
    causing CompositeRedirectManual to be used.
    
    svn path=/trunk/; revision=122

commit bd53366247f05924f4369cb34738a3363efb2bcf
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Dec 5 21:50:09 2008 +0000

    Use idle handler for overlay key binding
    
    Running into odd problems with the overlay/windows key breaking, hopefully
    this will work around those.
    
    svn path=/trunk/; revision=121

commit b1da771d3224ee5e4a42c15fee1ffc56295eaacc
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Dec 5 21:12:43 2008 +0000

    Connect to overlay-key signal from metacity-clutter to hide/show overlay
    
    We want to effectively bind the "Windows key" on PC hardware to hide
    and show the overlay.
    
    svn path=/trunk/; revision=120

commit 65989de535fc26462ca118a681282f8231883015
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Fri Dec 5 16:15:49 2008 +0000

    Improve test for using LIBGL_ALWAYS_INDIRECT
    
    Now that Clutter has support for ARB_texture_rectangle, we need
    to enable EXT_texture_from_pixmap support more widely.
    
    Parse the glxinfo output more accurately and detect when
    EXT_texture_rectangle is supported client and server but not
    is not active, and force indirect rendering only in that case.
    
    svn path=/trunk/; revision=119

commit 6c1cea927cba0ca5921633aa5f86b05323a69b51
Author: Dan Winship <danw@src.gnome.org>
Date:   Fri Dec 5 14:14:36 2008 +0000

    Add <mirror> nodes for the gnome repo declaration (copied from the
    upstream gnome modulesets), to allow using the experimental git mirror
    support. See http://bugzilla.gnome.org/show_bug.cgi?id=538507
    
    svn path=/trunk/; revision=118

commit 68190e4073c14f29f2769c60ef1e8b46934b0361
Author: Dan Winship <danw@src.gnome.org>
Date:   Thu Dec 4 15:22:51 2008 +0000

    remove debug thing
    
    svn path=/trunk/; revision=117

commit 03e8db6a00f1fe1e94d939014257d00bd53a88a6
Author: Dan Winship <danw@src.gnome.org>
Date:   Thu Dec 4 15:20:37 2008 +0000

    fix "desktop"/"workspace" naming confusion
    
    svn path=/trunk/; revision=116

commit 79d956b719c8fbd6b032b7cffa06c19fa002b321
Author: Dan Winship <danw@src.gnome.org>
Date:   Thu Dec 4 15:16:16 2008 +0000

    show multiple workspaces in the overlay view. #563035
    
    svn path=/trunk/; revision=115

commit 436a5cd87b8e307b4b204b8bcde265dd916e9f13
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Wed Dec 3 22:16:55 2008 +0000

    Add clutter-cairo to the gir-repository builddeps
    
    We need to build clutter-cairo before gir-repository, since gir-repository
    includes ClutterCairo.gir.
    
    svn path=/trunk/; revision=114

commit d4be819d916a70f4f56821d89b558673f099546b
Author: Colin Walters <walters@src.gnome.org>
Date:   Wed Dec 3 20:18:10 2008 +0000

    Clear search text after activation
    
    svn path=/trunk/; revision=113

commit 6bd31dd211a298e8f03eb52df9b4460e831eda66
Author: Colin Walters <walters@src.gnome.org>
Date:   Wed Dec 3 19:24:50 2008 +0000

    Bind Escape to clear search entry
    
    svn path=/trunk/; revision=112

commit a5c3c258a3628cdbe5d9dbe7d509c469b0f357fb
Author: Dan Winship <danw@src.gnome.org>
Date:   Wed Dec 3 18:27:48 2008 +0000

    fix incorrect variable name in _updateClock
    
    svn path=/trunk/; revision=111

commit 2a40560828b9103319e2de5d43d53ef0379f3e8d
Author: Dan Winship <danw@src.gnome.org>
Date:   Tue Dec 2 16:15:00 2008 +0000

    split the desktop area out of overlay.js
    
    svn path=/trunk/; revision=110

commit b4dd21bde18d5424202a2c5e764e1e6d4722d7fc
Author: Colin Walters <walters@src.gnome.org>
Date:   Mon Dec 1 23:48:07 2008 +0000

    Use Big.Box for highlight box as well to get rounded corners
    
    svn path=/trunk/; revision=108

commit 78bb9fd2862671cb5f9131193b8da3c96e195a76
Author: Colin Walters <walters@src.gnome.org>
Date:   Mon Dec 1 23:44:06 2008 +0000

    Tweak clutter-cairo include path to fix build where clutter root != clutter-cairo root
    
    svn path=/trunk/; revision=107

commit 8e08fa1d2a5b2ee5c659789d2bdd9a8b1e91df2d
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Mon Dec 1 23:15:49 2008 +0000

    Add a README for the 'Big' actors
    
    src/big/README explains where the actors come from and warns
    against installing them publically under the big_* names.
    
    svn path=/trunk/; revision=106

commit c0cb00a626e87df9a559f1ebdcc5ab66ebfeed2c
Author: Colin Walters <walters@src.gnome.org>
Date:   Mon Dec 1 23:14:12 2008 +0000

    Add clutter-cairo to moduleset
    
    We depend on it now for Big library
    
    svn path=/trunk/; revision=105

commit a4763b38bfb6d29cee72624f661352cde618ae0c
Author: Colin Walters <walters@src.gnome.org>
Date:   Mon Dec 1 23:01:55 2008 +0000

    Use Big.Box for search entry to get rounded corners
    
    http://bugzilla.gnome.org/show_bug.cgi?id=562923
    
    svn path=/trunk/; revision=104

commit 25116779f92ad8a9b0c6f3e7cd25ac8b715f733d
Author: Colin Walters <walters@src.gnome.org>
Date:   Mon Dec 1 23:01:52 2008 +0000

    Import Big
    
    We want this for the BigBox primarily; rounded corners, etc.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=562923
    
    svn path=/trunk/; revision=103

commit a8cfd47a50b7d5316f4d8c26bbefaa62d46b2698
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Mon Dec 1 22:43:06 2008 +0000

    Slide in the sidebar as the overlay appears
    
    appdisplay.js: Add AppDisplay.actor property, remove the x/y parameters
      to the constructor, and don't automatically add the appdisplay
      to the stage.
    
    overlay.js: Make the AppDisplay a child of the SideShow, rename
      SideShow._grid to SideShow.actor and slide the SideShow in when
      showing the stage.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=562920
    
    svn path=/trunk/; revision=102

commit 6bccda430e390768bd498a2e09f6ce6ce201cf2d
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Mon Dec 1 21:53:49 2008 +0000

    Fix width of application text items
    
    appdisplay.js: Fix missing parentheses for computation of
      the available width for the application name and description.
    
    svn path=/trunk/; revision=101

commit 9c21ce3eb577a92e4c388f6df594827e7ace9438
Author: Colin Walters <walters@src.gnome.org>
Date:   Mon Dec 1 20:42:56 2008 +0000

    Adjust to new Meta.typelib/Meta.gir locations
    
    Also put all our GI data in the private $(pkglibdir).
    
    svn path=/trunk/; revision=100

commit b535a8949b32b7b5853c44564ca948a64c0ab0ab
Author: Colin Walters <walters@src.gnome.org>
Date:   Mon Dec 1 20:03:55 2008 +0000

    Remove debug logging, make activation work for non-search mode too
    
    svn path=/trunk/; revision=99

commit dd4db8247545dffb2e72f010ec01a9ca5235b7c4
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Mon Dec 1 19:59:59 2008 +0000

    Bug 562771 – The clock is inaccurate
    
    Fix the clock to update exactly on the minute, rather than at a random
    time within the minute.
    
    Patch from RainCT (Siegfried Gevatter)
    
    svn path=/trunk/; revision=98

commit 7b471645f489ff6e50247986386380c370f9a3bf
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Mon Dec 1 19:51:43 2008 +0000

    Redo tabs => spaces indentation change to not lose manual indentation
    
    Revert most JS changes in commit:
    
        Fri Nov 28 20:12:20 2008 +0000
        Convert all JS style to be uniform, add Eclipse settings bits
    
    Instead, just add 'indent-tabs-mode: nil' to the mode lines and convert
    tabs to spaces. The indentation no longer exactly matches the Eclipse
    settings, since they differ in some ways from the style we are trying
    to achieve.
    
    svn path=/trunk/; revision=97

commit 12720e2c9022a28042542ede5699f789c5997043
Author: Colin Walters <walters@src.gnome.org>
Date:   Mon Dec 1 17:19:58 2008 +0000

    Fix indent of first member
    
    svn path=/trunk/; revision=96

commit e1c7a4fece531ca19f0f31874fb8a985a8af63f1
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sat Nov 29 21:55:19 2008 +0000

    Fix missing line continuation
    
    Add a \ to the last GNOME_SHELL_DISABLE_TFP patch so that
    launcher.py actually works.
    
    svn path=/trunk/; revision=95

commit b700bb3900a3d97acb37ab406c48cd2ab98ce1be
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sat Nov 29 21:44:19 2008 +0000

    Fix GNOME_SHELL_DISABLE_DISABLE_TFP typo
    
    In my last commit of RainCT's patch, I screwed up the
    envvar name when moving the code around. This fixes that.
    
    svn path=/trunk/; revision=94

commit 097346766ec53cc8e40524f9faaa243b2cd2ad2c
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sat Nov 29 21:44:17 2008 +0000

    Bug 562629 – gnome-shell-build-setup.sh: more Ubuntu dependencies
    
    Improve gnome-build-setup.sh by:
     - Adding more required dependencies
     - Fixing message when $reqs has multiple words
     - Remove stray + from file
    Patch from RainCT (Siegfried Gevatter).
    
    svn path=/trunk/; revision=93

commit e0f713785fa19abf35a0672b97195c8a7f744516
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sat Nov 29 21:11:31 2008 +0000

    Bug 562633 – Use GNOME_SHELL_DISABLE_TFP environment variable
    
    Allow forcing off the texture_for_pixmap extension by environment
    variable, since it is apparently buggy on old Intel cards with
    certain driver versions
    
    Based on patch from RainCT (Siegfried Gevatter)
    
    svn path=/trunk/; revision=92

commit eaf2bbfaf8368972b4af9b9fdfd3e41d2242e097
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Nov 28 23:06:07 2008 +0000

    Add up/down keyboard arrow navigation to app display
    
    svn path=/trunk/; revision=91

commit 10d5aaca83142ecbbb7ab5b4ea1c7da2b54548ad
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Nov 28 22:05:09 2008 +0000

    Hook up activate on search entry to launch if only one app displayed
    
    svn path=/trunk/; revision=90

commit fae6839eb88d23ccd94cf5e77ccff65ab9d8c60b
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Nov 28 20:48:38 2008 +0000

    Bug 562604 - Close the Run Dialog when Escape is pressed
    
    Patch from RainCT (Siegfried Gevatter).
    
    svn path=/trunk/; revision=89

commit 6cc571b41ed295eb8c770b2e1df5853e11657bfb
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Nov 28 20:35:32 2008 +0000

    Add more Ubuntu requirements checking to build setup script
    Signed-off-by: Colin Walters <walters@verbum.org>
    
    svn path=/trunk/; revision=88

commit 3b9aa49f2288f89348d03951d9074d7df1af1171
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Nov 28 20:12:20 2008 +0000

    Convert all JS style to be uniform, add Eclipse settings bits
    
    Previous style was all over the place; this commit attempts to bring
    uniformity.  Overall, the style is:
    
    * 4 spaces only, no tabs
    * Prototypes do not create a new block
    * Constructor property continuations only indent one block
    
    svn path=/trunk/; revision=87

commit 3d41f586fc56723d38313ec668e081d59396be39
Author: Colin Walters <walters@src.gnome.org>
Date:   Wed Nov 26 19:14:18 2008 +0000

    Convert users of static functions to new gjs syntax
    
    svn path=/trunk/; revision=86

commit cedab080189857c0697d318a0e1ccc401eb23c1b
Author: Colin Walters <walters@src.gnome.org>
Date:   Tue Nov 25 23:50:00 2008 +0000

    Search executables as well
    
    We want "gedit" to find GEdit, which doesn't contain its name in either
    the name or description.
    
    svn path=/trunk/; revision=85

commit 258834ed8fbef6d8ae822ea08d834b7cbd5ef4e5
Author: Colin Walters <walters@src.gnome.org>
Date:   Tue Nov 25 19:58:49 2008 +0000

    Add hardcoded default applications list taken from online.gnome.org
    
    The previous list of all applications in a random order was obviously
    temporary.  This patch improves things by adding a static list, taken
    from the online.gnome.org/applications data.
    
    In the future we will either have a vendor-chosen static list, or
    a fully dynamic system.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=562184
    
    svn path=/trunk/; revision=84

commit c12de598643923c21efd27b9040cd3c5b66ca184
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Mon Nov 24 19:07:18 2008 +0000

    Add a concept of "going modal" by grabbing the keyboard
    
    shell-global.[ch]: Replace shell_global_focus_stage()
      with shell_global_grab_keyboard()/shell_global_ungrab_keyboard()
    main.js: Add startModal()/endModal() functions to go modal and
      undo that.
    run_dialog.js overlay.js main.js: Use startModal() for the overlay
      and for the run dialog.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=561880
    
    svn path=/trunk/; revision=83

commit 8a9b138c2e0dbf0398cf0a8c99115ccc09c2b111
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Mon Nov 24 19:07:15 2008 +0000

    Add a bg-color property to ShellTrayManager
    
    shell_tray_manager.c: Add a bg-color property and implement it
     by setting a 1x1 pixmap of the right color as the background.
    
     Also, make the colormap of the tray manager window match that
     of the socket. That should (untested) make transparency work
     properly if the tray icon supports it.
    
    panel.js: Set the bg-color property of the tray manager to
     match the panel.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=561872
    
    svn path=/trunk/; revision=82

commit 1d1028adefa55c44750dbec89499cda5e9149613
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sun Nov 23 04:23:34 2008 +0000

    Improve overlay mode's window scaling
    
    Add a layout for 5 windows and slightly increase the scale factor
    for 3 and 4 windows.
    
    Patch from Natan Yellin
    http://bugzilla.gnome.org/show_bug.cgi?id=561947
    
    svn path=/trunk/; revision=81

commit 1fb2585d8f85a61a3aea763e8c1caebae33e7301
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sun Nov 23 04:12:37 2008 +0000

    Tweak the animation when the overlay comes up
    
    - Make the time a bit longer (now that we control timing in Tweener
      better it actually takes the time we specify)
    - Use easeOutQuad so that we get a "soft landing" into position
    - Move the anchor point of the Desktop to NorthEast to reduce jitter
    
    svn path=/trunk/; revision=80

commit 9b822402b95d2b9babb8978e2769e4df40e3dc30
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sun Nov 23 04:12:34 2008 +0000

    Use a Tweener "Frame Ticker" with a ClutterTimeline backend
    
    Call Tweener.setFrameTicker() with a custom object that bridges to
    ClutterTimeline to get new frame notifications. Combined with a
    hack to dynamically adjust the frame ticker's frame rate when
    Clutter drops frames, this means that our animations play in the
    intended time even if rendering is too slow to maintain a full
    60HZ frame rate.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=561745
    
    svn path=/trunk/; revision=79

commit 19671ad3492b2232634b1028d6c58d25c7918508
Author: Dan Winship <danw@src.gnome.org>
Date:   Fri Nov 21 21:34:10 2008 +0000

    implement a basic switch_workspace animation using Tweener. #561835
    
    svn path=/trunk/; revision=78

commit 07877e7a7aeae8554d3757428cb950033ec5946b
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Nov 21 20:45:35 2008 +0000

    Fix app event handling
    
    We need to hook up to events on the group, and not set higher level
    actors to be reactive.
    
    svn path=/trunk/; revision=77

commit 54329a65b2c883cd52b13b0def78b7574fcf5ac3
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Nov 21 20:45:33 2008 +0000

    Use _deactivate rather than hide so we correctly reset input area
    
    svn path=/trunk/; revision=76

commit 0f019b9ee27230e6f59f7d9fd124c8689965182a
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Nov 21 20:01:15 2008 +0000

    Fix application layout to use parent relative coordinates
    
    We were previously incorrectly assuming origin relative here.
    
    svn path=/trunk/; revision=75

commit aa61fdbc53644149cb1415791e95f2e9b5ad7a6f
Author: Dan Winship <danw@src.gnome.org>
Date:   Fri Nov 21 15:33:00 2008 +0000

    revert some broken bits from previous patch that weren't supposed to have
    been committed
    
    svn path=/trunk/; revision=74

commit f5091e92e4b01c322fc0d6134f2a338d35560fab
Author: Dan Winship <danw@src.gnome.org>
Date:   Fri Nov 21 15:10:11 2008 +0000

    remove some cruft
    
    svn path=/trunk/; revision=73

commit dbf984a888f7e8f2b70739a962ef0e71dd94101f
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Nov 21 15:08:34 2008 +0000

    Rename MENU_ -> APPDISPLAY_ to correspond with other renames
    
    svn path=/trunk/; revision=72

commit ee743394f6a38d3e72f2d96f0a9109293f092d0b
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Nov 21 15:06:43 2008 +0000

    Monitor applications directory, not toplevel
    
    svn path=/trunk/; revision=71

commit 7dba934b961f676561841e65ee40e603f748e5ea
Author: Dan Winship <danw@src.gnome.org>
Date:   Fri Nov 21 14:02:09 2008 +0000

    add the initial framework of a window management interface. #561724
    
    svn path=/trunk/; revision=70

commit 06bde9cc98526ce174966456c658a9d4714507ca
Author: Dan Winship <danw@src.gnome.org>
Date:   Fri Nov 21 13:54:25 2008 +0000

    fix import ordering
    
    svn path=/trunk/; revision=69

commit c928b64648562101355234f541ba8b0ad3846afe
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Nov 21 00:53:11 2008 +0000

    Merge branch 'appmenu'
    
    svn path=/trunk/; revision=68

commit 7cad9a7ca0bdb1a75713658013aa8b55d0ee6844
Author: Marina Zhurakhinskaya <marinaz@src.gnome.org>
Date:   Fri Nov 21 00:39:14 2008 +0000

    Add a convenience function for setting an image for ClutterTexture based on GdkPixbuf.
    
    svn path=/trunk/; revision=67

commit 4840b813cae09b644671c365b6ac3e36adabcc3c
Author: Colin Walters <walters@src.gnome.org>
Date:   Thu Nov 20 15:47:13 2008 +0000

    Fix up previous change; connect to signals correctly
    
    svn path=/trunk/; revision=66

commit a62b215b06d87351343856599f7e7a8fe7fbadf3
Author: Colin Walters <walters@src.gnome.org>
Date:   Thu Nov 20 15:40:44 2008 +0000

    Convert run dialog to gjs signals
    
    svn path=/trunk/; revision=65

commit 44dde535e05ff58d2c7875a2039f6f050fa1ca34
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Wed Nov 19 23:21:42 2008 +0000

    Bug 561588 – New run dialog
    
    Add a new clutter-based "Run Dialog" and trigger that off of Alt-F2
    instead of running a gnome-terminal instance.
    
    Patch from Sander Dijkhuis.
    
    svn path=/trunk/; revision=64

commit 840eb62397e48f35186ac1d9b490ff9b0f7fcae1
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Wed Nov 19 23:04:53 2008 +0000

    Set a strut to prevent windows under the panel
    
    Set a strut (a reserved region) at the top of the screen so that
    windows don't get positioned under the panel. Do this on all
    workspaces and redo it when the number of workspaces changes.
    http://bugzilla.gnome.org/show_bug.cgi?id=561297
    
    svn path=/trunk/; revision=63

commit 71a35e495e5895e71b55c441a57df5701ecbd994
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Wed Nov 19 23:04:50 2008 +0000

    Rename 'panel' local to 'me'
    
    To match our style other places, use 'me' rather than 'panel' when
    we want a substitute for 'this' that we can refer to from closures.
    
    svn path=/trunk/; revision=62

commit 48a2cca476d910f1b1732a3960866da6d932e3e3
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Wed Nov 19 22:54:42 2008 +0000

    Add a 'screen' property to ShellGlobal
    
    Add a screen property to ShellGlobal so Javascript code can get
    access to the MetaScreen.
    
    http://bugzilla.gnome.org/show_bug.cgi?id=561297
    
    svn path=/trunk/; revision=61

commit d2c734f1976e3f9db9682968999769f2060bea24
Author: Colin Walters <walters@src.gnome.org>
Date:   Wed Nov 19 21:15:59 2008 +0000

    Bump default screen size to 1024x748; current mininum
    
    Right now the mockup is 1280x800.  We don't fit at all well into
    800x600.  This patch bumps us up by default to 1024x768 which is
    the lowest we're going to work at for now, until we get some more
    intelligent resizing.
    
    svn path=/trunk/; revision=60

commit 8f615e833eb8857cc577627d11e7dbfffa0f51f7
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Wed Nov 19 19:54:17 2008 +0000

    Add shell_global_focus_stage()
    
    Add a a method shell_global_focus_stage() to set the
    input focus to the stage window, so that Clutter gets
    keyboard events.
    
    Adapted from patch in Bug 561299 from Colin Walters
    
    svn path=/trunk/; revision=59

commit f81e9d3aaab6510294ce0661fd38d322280a2361
Author: Marina Zhurakhinskaya <marinaz@src.gnome.org>
Date:   Wed Nov 19 19:25:51 2008 +0000

    Make sure we include staysPressed in the list of arguments to the Button object
    , so that we don't end up ignoring minHeight.
    
    svn path=/trunk/; revision=58

commit 5b31ce3415f18b27291b529cc2aba04e88e59fd9
Author: Marina Zhurakhinskaya <marinaz@src.gnome.org>
Date:   Wed Nov 19 19:23:24 2008 +0000

    Switch all JavaScript variable names to firstWordLowerCase style to agree with the Style Guide.
    
    svn path=/trunk/; revision=57

commit 372021d05b57eb2d11385ee8ed22441bf635f41e
Author: Marina Zhurakhinskaya <marinaz@src.gnome.org>
Date:   Tue Nov 18 01:33:03 2008 +0000

    Display a background rectangle for the desktop in the overlay mode when we don't have a desktop window from the file manager, which is the case when the preference for showing icons on the desktop is disabled by the user or we are running inside a Xephyr window.
    
    svn path=/trunk/; revision=56

commit 2253f8bf2c956aa8456d37fa5c32246653b6e6d9
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Tue Nov 18 01:13:53 2008 +0000

    Build libtray and libtidy as uninstalled convenience libraries as intended
    
    Move libtidy and libtray from lib_LTLIBRARIES to noinst_LTLIBRARIES; this keeps
    automake from passing an -rpath when building them, which in turn convinces
    libtool to build them as convenience libraries rather than shared objects.
    
    svn path=/trunk/; revision=55

commit 0c9468f139bc091f6a0be3257205de764364860d
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Tue Nov 18 00:45:32 2008 +0000

    Check that xulrunner-1.9-dev is installed ahead of time
    
    On Debian and Ubuntu, if xulrunner-1.9-dev is not installed before starting jhbuild,
    then things will break in mysterious ways, so check for that at the end of
    gnome-shell-build-setup.sh.
    
    Patch from Sander Dijkhuis.
    
    
    svn path=/trunk/; revision=54

commit bc2cb8fb621eec1a454fbdeb2ce6f4b23c2448a2
Author: Marina Zhurakhinskaya <marinaz@src.gnome.org>
Date:   Mon Nov 17 22:32:28 2008 +0000

    Add an extra background to the button that maintains the state of the pressed button color opacity. This ensures the highlighted button color will be based on the button color instead of the color of the item the button is added to.
    
    svn path=/trunk/; revision=53

commit 679365f1c1af5c8dcb777e8c2517a43b6159fdfe
Author: Marina Zhurakhinskaya <marinaz@src.gnome.org>
Date:   Sat Nov 15 00:44:11 2008 +0000

    Add a button object that highlights a button area when it is moused over and transitions it to a different color when the button is pressed in. Use this button object for the panel's "Activities" button.
    
    Add some comments, TODO items, and type fixes to the code.
    
    svn path=/trunk/; revision=52

commit ab0f4df2b464ef462b20fb8ddff82d3298ce4aa1
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Nov 14 22:47:33 2008 +0000

    Use metacity for building Tidy-1.0.gir as well; fix up dependencies
    
    svn path=/trunk/; revision=51

commit 6596010802ba846e5edee6ef186e7c59c7618e0b
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Nov 14 22:06:50 2008 +0000

    Tidy.gir also depends on the tidy sources, not the gnomeshell sources
    
    svn path=/trunk/; revision=50

commit 1266956e567ec9c6bce75dfc7ea141ca6a4bb9a9
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Nov 14 22:05:08 2008 +0000

    Tidy-1.0.typelib depends on libtidy-1.0.la, not libgnomeshell.la
    
    svn path=/trunk/; revision=49

commit 50dfb21d6f62587160bd685e8473b85360ca45c6
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Nov 14 21:52:48 2008 +0000

    Ensure we clean out the .gir and .typelibs
    
    svn path=/trunk/; revision=48

commit c64ab6dbe272fd4409f3c0e5524bc299fc5f497e
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Nov 14 21:26:03 2008 +0000

    Kill off libgnomeshell-introspect again, this time with garlic and a stake
    
    svn path=/trunk/; revision=47

commit 418450d938b06cba9a8730804b4613640c0bfacb
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Nov 14 21:26:00 2008 +0000

    Link tidy against clutter-0.8
    
    svn path=/trunk/; revision=46

commit b0837419c0cff6262af76363f54ad394eeb9d041
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Nov 14 21:25:58 2008 +0000

    Use new --program arg from g-i, clean up build accordingly
    
    * configure.ac: Look for paths to all the g-i tools, and
    also get the full path to metacity
    * src/Makefile.am: Remove noinst library, not necessary now
    
    svn path=/trunk/; revision=45

commit 8c61d465860569a86de0f72a250b38bd0a687928
Author: Dan Winship <danw@src.gnome.org>
Date:   Fri Nov 14 17:21:56 2008 +0000

    Import part of the notification area applet, and use it to add a
    notification are to the panel. A bit warty, but we don't know how we want
    the final UI to look anyway. (The fact that transparency doesn't work is
    a known bug.)
    
    svn path=/trunk/; revision=44

commit d8f9d1a448c1569b9be5aff4a01b614fba79b0fb
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Wed Nov 12 21:35:17 2008 +0000

    Move AC_DISABLE_STATIC before AM_PROG_LIBTOOL
    
    Fix warning (and problem?) if AC_DISABLE_STATIC occurs after
    AM_PROG_LIBTOOL.
    
    svn path=/trunk/; revision=43

commit f8db7689af3b3d74338a2cbc4c2b5d7fd986d005
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Wed Nov 12 21:09:27 2008 +0000

    Experimentally add build infrastructure and a few Tidy widgets
    
    For experimenting with using tidy, import TidyButton and TidyGrid
    (+ dependencies) into our source tree and set up build machinery
    to build them and build a typelib for them.
    
    The sources are build right into libgnome-shell.so, so the Shell.gir
    and Tidy.gir actually point to the same shared library.
    
    src/Makefile-tidy.am: Build libtidy-1.0.la
    src/Makefile.am: Include built tidy into gnome-shell.la and
      build Tidy-1.0.typelib
    
    src/tidy/*: Add some source files from Tidy
    
    svn path=/trunk/; revision=42

commit 536bc24f613b74b448b9a98dab9a6429e0442408
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sun Nov 9 18:01:59 2008 +0000

    Remove workarounds for mutual imports problems
    
    Now that gjs Bug #558741 is fixed, we can import Main directly from
    the toplevel of overlay.js/panel.js without causing problems.
    
    svn path=/trunk/; revision=41

commit 6a0c6a5df67892343d11b50db2788d672020827f
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sat Nov 8 19:33:35 2008 +0000

    Fix stacking order in the overlay
    
    When showing windows in the overlay, stack them in the same order as
    they are on the screen. This improves the animation (the starting point
    is now the current layout!) and also the case where we have a lot
    of windows and just overlap them diagonally.
    
    svn path=/trunk/; revision=40

commit f546d920336c553fd43eef0cbe620bc19a332fba
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sat Nov 8 19:33:33 2008 +0000

    Hide the group containing the windows while overlay is up
    
    When we are animating the overlay, we don't want to be continually
    redrawing the (obscured) window actors.
    
    src/shell-global.c: Add 'window-group' property to expose the group
      holding the window actors.
    js/ui/overlay.js: Hide the window group while the overlay is up.
    
    svn path=/trunk/; revision=39

commit ffed9df171c7b5cd92a0f905a3c9cdd89f788481
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sat Nov 8 15:49:01 2008 +0000

    Add dummy return values to metacity-symbols.c
    
    Make sure that all functions in metacity-symbols.c with a return value
    return something so that the compilation is clean.
    
    svn path=/trunk/; revision=38

commit 5de283b448b7d89bd67e8275bb72d1c7500bac85
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sat Nov 8 00:46:44 2008 +0000

    Remove over a leftover debug log statement
    
    svn path=/trunk/; revision=37

commit 19070be3ba512bba1ce1472936baf5b558e609ba
Author: Colin Walters <walters@src.gnome.org>
Date:   Fri Nov 7 18:42:23 2008 +0000

    Run gnome-terminal on alt-f2
    
    svn path=/trunk/; revision=36

commit ac6ff950407879e3b3276e9930ed1f960e699119
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Fri Nov 7 17:14:26 2008 +0000

    Make clicking on windows in the overlay activate the windows
    
    Hook up activating windows in the overlay now that we have
    MetaWindow GObject'ified and exposed to gobject-introspection.
    
    svn path=/trunk/; revision=35

commit 8da8fd76ca4c5b30ec83d5ad6658a3ccda8e0c9a
Author: Dan Winship <danw@src.gnome.org>
Date:   Thu Nov 6 17:44:01 2008 +0000

    specify geometries on the test clients so they don't end up with their title
    bars under the panel
    
    svn path=/trunk/; revision=34

commit 4b9844bdee79f4841b9e12bf37ebf6daaf03fc40
Author: Colin Walters <walters@src.gnome.org>
Date:   Thu Nov 6 15:10:57 2008 +0000

    Disable bug buddy; otherwise we just hang on crash instead of restarting old panel
    
    svn path=/trunk/; revision=33

commit 03b8843f9e84e2934eb55fc2489ebf55657205b0
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Thu Nov 6 14:00:14 2008 +0000

    Improve window handling in overview mode
    
    * For small window counts, lay the windows out according to a
      predefined scheme. For larger window counts, continue putting
      the windows along the diagonal as before, but do it a bit better.
    * Special case the desktop window and use it as the background
      of the window area.
    * Add a little translucency to windows
    * Use tweener to animate everything into place
    * Clean up - add constants and break things into multiple methods
    
    svn path=/trunk/; revision=32

commit 0f966eabbf93859a0251298fbb04fb091ec3d929
Author: Mikkel Kamstrup Erlandsen <kamstrup@src.gnome.org>
Date:   Tue Nov 4 22:40:52 2008 +0000

    Autodetect where the 'pidof' command lives and enable optional verbose logging inside start-replace
    
    scripts/start-replace: Detect if 'pidof' lives in /sbin, /bin, or /usr/bin. Add conditional verbose logging if -v is passed on the command line
    scripts/launcher.py: Add method is_verbose() to Launcher class
    
    svn path=/trunk/; revision=31

commit e86920147bb1ebe442fcaeb8f6da5040359918cb
Author: Johan Dahlin <johan@src.gnome.org>
Date:   Tue Nov 4 18:07:07 2008 +0000

    Use = instead of == for comparision. (dash compatibility)
    
    svn path=/trunk/; revision=30

commit e82e60f71b823f0430deb87013ba734091ced6f4
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Mon Nov 3 21:39:41 2008 +0000

    Don't override XAUTHORITY until after we run Xephyr
    
    Don't override the setting of XAUTHORITY when running Xephyr,
    since then we may not be able to connect to the host display.
    Instead pass in the local auth file via the -auth command
    line argument.
    
    An alternate fix would be to use 'xauth merge' to merge the
    existing XAUTHORITY file into our local file.
    
    svn path=/trunk/; revision=29

commit a569063e4f25c73988dbd1a49fec4810877e4df9
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Mon Nov 3 21:11:28 2008 +0000

    Fix location of libmozjs.so for Ubuntu
    
    /usr/lib/xulrunner-<version>/lib in the previous patch
    was wrong, should be /usr/lib/xulrunner-<version>. Also,
    fix comment.
    
    svn path=/trunk/; revision=28

commit 2ba8aaafca016a95d04f0f60c68ff95a71362cd4
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Mon Nov 3 20:41:25 2008 +0000

    Don't overwrite existing LD_LIBRARY_PATH when running g-ir-compiler
    
    When running g-ir-compiler, augment LD_LIBRARY_PATH with the current
    directory, rather than overwriting it entirely.
    
    svn path=/trunk/; revision=27

commit 39184955e5b51a6f4b9d4ec4a7f60e2a52cd0cf9
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Mon Nov 3 20:33:14 2008 +0000

    Work around libmozjs not being in ld.so.conf on Ubuntu
    
    In our jhbuildrc, add the path containing libmozjs.so on Ubuntu to
    to LD_LIBRARY_PATH. The path is heuristically derived from pkg-config
    output.
    
    svn path=/trunk/; revision=26

commit 9d15b7c9e1b9b6e9379df735ce15fc5a25f3e0d6
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sun Nov 2 04:18:43 2008 +0000

    Install our typelib privately inside $(pkglibdir)
    
    Installing the plugin typelib into $(libdir)/girepository is
    non-sensical since no other program would want to reference it.
    Move it to $(pkglibdir)/girepository instead. (Will need to set
    environment variables to find it when we make installed operation
    work.)
    
    svn path=/trunk/; revision=25

commit e624b2a2410e6f1a2d987094ef7a89a1af7e70e2
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sun Nov 2 04:18:41 2008 +0000

    First stab at showing windows in the overlay
    
    shell-global.[ch]: Add shell_global_get_windows() to get
      the list of all MutterWindow for the  screen
    Makefile.am: Include the metacity typelib so that we can
      reference the MutterWindow type
    js/ui/overlay.js: Cascade the open windows, scaled down
      in the overlay
    
    svn path=/trunk/; revision=24

commit 1ce78680b172d8d17bd64453abcbfa9f961abc9c
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sun Nov 2 04:18:38 2008 +0000

    start-in-Xepyhr: add xeyes and xlogo to initial session
    
    With one window, it's hard to see window management behavior,
    add xeyes and xlogo as well as xterm.
    
    svn path=/trunk/; revision=23

commit 0a2a65e8105a857a6fb628455df9866cd1a5a1cf
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sun Nov 2 04:18:36 2008 +0000

    Pass the right number of arguments to exit()
    
    When using gdb to quit the panel, pass the right number of arguments
    to exit(), so that gdb calls it instead of erroring out.
    
    svn path=/trunk/; revision=22

commit ce969f7bb4729c10dd496e4730a4ae616643b1f6
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sun Nov 2 03:27:11 2008 +0000

    Include errors in what we print out without -v
    
    Change the debug topics in the non-verbose case from just
    JS LOG to JS LOG and JS ERROR.
    
    svn path=/trunk/; revision=21

commit b81733d9e41b9ae592524e225ac8d593d2e88046
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sun Nov 2 03:03:00 2008 +0000

    Fix --debug option to default to gdb
    
    When --debug is specified, pick up the default value for
    --debug-command of 'gdb --args' correctly.
    
    svn path=/trunk/; revision=20

commit 758e083cafc3e469bc88c74f2a38970a76d975d5
Author: Johan Dahlin <johan@src.gnome.org>
Date:   Sun Nov 2 03:00:45 2008 +0000

    Draw a border around the panel. Move it to -1,-1 and make the width+2 so we only see the border at the bottom
    
    svn path=/trunk/; revision=19

commit e81ed61a385db3447c86f8797c1d435a9928a219
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sat Nov 1 23:55:49 2008 +0000

    Add --debug and --verbose options to launcher scripts
    
    Factor out a common Launcher class from start-in-Xepyhr and
    start-replace that handles option parsing and launching gnome-shell,
    and add options:
    
     -v/--verbose: Unless specified, suppress most gjs debug output
     -g/--debug: If specified run under gdb
     --debug-command: Run under some other debugging (strace/valgrind/etc.)
         Implies -g
    
    svn path=/trunk/; revision=18

commit 4a651471e374e30636f47e3e5396a11cda5bd46b
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sat Nov 1 22:56:53 2008 +0000

    Build metacity-clutter after gir-repository
    
    Once we add introspection information to metacity-clutter, we need
    to make sure that we build it after gir-repository (and thus
    gobject-introspection.)
    
    svn path=/trunk/; revision=17

commit 276cb9d8b9047f078c209fd3533ba18bd12e777a
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sat Nov 1 19:45:00 2008 +0000

    Add start-replace script
    
    Add a script to start gnome-shell replacing metacity and gnome-panel.
    When gnome-shell exits, gnome-panel and metacity are restarted.
    
    svn path=/trunk/; revision=16

commit baf6cf0dc5dc4c78aef1318baf4c375e8f8b7133
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Sat Nov 1 15:58:13 2008 +0000

    Build clutter before gir-repository
    
    We need to build gir-repository after clutter so that the
    typelib for clutter is built; add a dependency.
    
    svn path=/trunk/; revision=15

commit 9e45cf84fb85c81c293089a45532723835cb56eb
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Fri Oct 31 23:09:46 2008 +0000

    First cut at activities overlay
    
    When the user clicks on "Activities", adjust the input shape
    to the whole screen and show a black overlay group. Actually, the
    black should be *beneath* the window actors and the overlay group
    transparent so we can fade in the black while leaving the windows
    unfaded, visible, but shrunk and rearranged.
    
    svn path=/trunk/; revision=14

commit 0cea92e46affb7c9b5ca933cd6bd42b66b6a6f0c
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Fri Oct 31 18:29:42 2008 +0000

    Clean up initial appearance a bit
    
    Set a less strange background color than white and remove the
    "Yessir. The compositor is running" message from the overlay.
    
    svn path=/trunk/; revision=13

commit 9c4d104630ceffe8a24b7e6007ba8f71ee91e123
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Fri Oct 31 18:24:29 2008 +0000

    Add annotations to fix return-value transfer for shell_global_get()
    
    Default transfership for a GObject return value is 'full', override
    it to 'none' for a singleton getter.
    
    svn path=/trunk/; revision=12

commit 6b9379a938b9febc07d9dfec1a7e604dab1a5ecd
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Fri Oct 31 18:12:03 2008 +0000

    Switch the HH:MM:SS second clock to HH:MM
    
    less updates == less debug spew.
    
    svn path=/trunk/; revision=11

commit 96963520dad46a5fb77addb1ff383e03097d70f7
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Fri Oct 31 18:09:20 2008 +0000

    Add a very simple first-pass top panel
    
    Add a top panel with a label "Activities" you can click on and
    a HH:MM:SS clock. (A little more and we'll be caught up to gnome-0.9.)
    
    svn path=/trunk/; revision=10

commit 136dbbb41fdaa5359efcfa4602a3e0419f13e969
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Fri Oct 31 18:05:19 2008 +0000

    Add shell_global_set_stage_input_area() to header file
    
    shell_global_set_stage_input_area() wasn't in the header file
    so it wasn't introspected; add it.
    
    svn path=/trunk/; revision=9

commit 7d6896a669412e584d6ca8ebd98de6b72d29b9bf
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Fri Oct 31 18:04:38 2008 +0000

    Add ShellGlobal.stage property
    
    Add a property to get the root stage for the scene graph.
    
    svn path=/trunk/; revision=8

commit dec83013fc83de3b95a3aaae8e9d1943052ba82d
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Fri Oct 31 18:02:52 2008 +0000

    Add an xevent_filter method to our plugin
    
    By default, mutter doesn't pass events to clutter. We need to add an
    xevent_filter method to our plugin and do that ourselves.
    
    svn path=/trunk/; revision=7

commit 2fd4c9058d1c0c451f4b05a1f323d3e0b68a3c40
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Fri Oct 31 15:20:54 2008 +0000

    Extend ShellGlobal object with more properties
    
    * Add screen-width, screen-height, overlay-group properties
    * Add set_stage_input_area() function
    * Fix main.js to rotate DRAFT properly
    
    svn path=/trunk/; revision=6

commit 3d0966315efdfd0fc9cc6804196c82ce0efbf839
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Fri Oct 31 15:18:18 2008 +0000

    Add gjs as a dependency of gnome-shell
    
    svn path=/trunk/; revision=5

commit cbacd17c058ef817c5fa67835fd52000d0fc92ff
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Fri Oct 31 12:41:01 2008 +0000

    Use --mutter-plugins instead of --clutter-plugins
    
    Command line option to metacity has been changed, match that.
    
    svn path=/trunk/; revision=4

commit d6dae414a4b8e1aa2c334025d95f0df99716de18
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Fri Oct 31 05:25:28 2008 +0000

    Add jhbuild setup script and moduleset
    
    gnome-shell.modules: moduleset to build gnome-shell and dependencies
    
    gnome-shell-build-setup.sh: Script to set up a jhbuild for gnome-shell,
      modelled after and partially copied from gtk-osx-build-setup.sh
    jhbuildrc-gnome-shell: ~/.jhbuildrc for the build
    jhbuildrc-custom-example: Example ~/.jhbuildrc-custom
    
    svn path=/trunk/; revision=3

commit 4ba985b4844b7efeed1c64276759aa2632b86472
Author: Owen Taylor <otaylor@src.gnome.org>
Date:   Fri Oct 31 04:22:44 2008 +0000

    Initial commit
    
    A plugin for metacity-clutter (mutter) that initializes Javascript
    and via Javascript adds an object to the mutter scene graph.
    
    src/gnome-shell-plugin.c: metacity-clutter-plugin
    src/shell-global.[ch]: Simple global-information object
    js/: Directory for javascript
    scripts/start-in-Xephyr: Launch metacity with our plugin
      "nested" within an Xephy X server
    
    svn path=/trunk/; revision=2
